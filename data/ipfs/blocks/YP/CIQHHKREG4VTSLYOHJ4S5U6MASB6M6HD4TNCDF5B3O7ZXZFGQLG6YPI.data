
÷¤í¤{type:\"decrypt\",key:o}),a.create({type:\"encrypt\",key:i}),a.create({type:\"decrypt\",key:r})]}function u(e){o.call(this,e);var t=new s(this.type,this.options.key);this._edeState=t}i(u,o),e.exports=u,u.create=function(e){return new u(e)},u.prototype._update=function(e,t,r,n){var i=this._edeState;i.ciphers[0]._update(e,t,r,n),i.ciphers[1]._update(r,n,r,n),i.ciphers[2]._update(r,n,r,n)},u.prototype._pad=a.prototype._pad,u.prototype._unpad=a.prototype._unpad},function(e,t,r){var n=r(94),i=r(173),o=r(7).Buffer,a=r(174),s=r(30),u=r(65),c=r(66);function f(e,t,r){s.call(this),this._cache=new h,this._cipher=new u.AES(t),this._prev=o.from(r),this._mode=e,this._autopadding=!0}r(2)(f,s),f.prototype._update=function(e){var t,r;this._cache.add(e);for(var n=[];t=this._cache.get();)r=this._mode.encrypt(this,t),n.push(r);return o.concat(n)};var d=o.alloc(16,16);function h(){this.cache=o.allocUnsafe(0)}function l(e,t,r){var s=n[e.toLowerCase()];if(!s)throw new TypeError(\"invalid suite type\");if(\"string\"==typeof t&&(t=o.from(t)),t.length!==s.key/8)throw new TypeError(\"invalid key length \"+t.length);if(\"string\"==typeof r&&(r=o.from(r)),\"GCM\"!==s.mode&&r.length!==s.iv)throw new TypeError(\"invalid iv length \"+r.length);return\"stream\"===s.type?new a(s.module,t,r):\"auth\"===s.type?new i(s.module,t,r):new f(s.module,t,r)}f.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(d))throw this._cipher.scrub(),new Error(\"data not multiple of block length\")},f.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},h.prototype.add=function(e){this.cache=o.concat([this.cache,e])},h.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},h.prototype.flush=function(){for(var e=16-this.cache.length,t=o.allocUnsafe(e),r=-1;++r<e;)t.writeUInt8(e,r);return o.concat([this.cache,t])},t.createCipheriv=l,t.createCipher=function(e,t){var r=n[e.toLowerCase()];if(!r)throw new TypeError(\"invalid suite type\");var i=c(t,!1,r.key,r.iv);return l(e,i.key,i.iv)}},function(e,t){t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},function(e,t,r){var n=r(57);t.encrypt=function(e,t){var r=n(t,e._prev);return e._prev=e._cipher.encryptBlock(r),e._prev},t.decrypt=function(e,t){var r=e._prev;e._prev=t;var i=e._cipher.decryptBlock(t);return n(i,r)}},function(e,t,r){var n=r(7).Buffer,i=r(57);function o(e,t,r){var o=t.length,a=i(t,e._cache);return e._cache=e._cache.slice(o),e._prev=n.concat([e._prev,r?t:a]),a}t.encrypt=function(e,t,r){for(var i,a=n.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=n.allocUnsafe(0)),!(e._cache.length<=t.length)){a=n.concat([a,o(e,t,r)]);break}i=e._cache.length,a=n.concat([a,o(e,t.slice(0,i),r)]),t=t.slice(i)}return a}},function(e,t,r){var n=r(7).Buffer;function i(e,t,r){var i=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=n.concat([e._prev.slice(1),n.from([r?t:i])]),i}t.encrypt=function(e,t,r){for(var o=t.length,a=n.allocUnsafe(o),s=-1;++s<o;)a[s]=i(e,t[s],r);return a}},function(e,t,r){var n=r(7).Buffer;function i(e,t,r){for(var n,i,a=-1,s=0;++a<8;)n=t&1<<7-a?128:0,s+=(128&(i=e._cipher.encryptBlock(e._prev)[0]^n))>>a%8,e._prev=o(e._prev,r?n:i);return s}function o(e,t){var r=e.length,i=-1,o=n.allocUnsafe(e.length);for(e=n.concat([e,n.from([t])]);++i<r;)o[i]=e[i]<<1|e[i+1]>>7;return o}t.encrypt=function(e,t,r){for(var o=t.length,a=n.allocUnsafe(o),s=-1;++s<o;)a[s]=i(e,t[s],r);return a}},function(e,t,r){(function(e){var n=r(57);function i(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}t.encrypt=function(t,r){for(;t._cache.length<r.length;)t._cache=e.concat([t._cache,i(t)]);var o=t._cache.slice(0,r.length);return t._cache=t._cache.slice(r.length),n(r,o)}}).call(this,r(5).Buffer)},function(e,t,r){var n=r(7).Buffer,i=n.alloc(16,0);function o(e){var t=n.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function a(e){this.h=e,this.state=n.alloc(16,0),this.cache=n.allocUnsafe(0)}a.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},a.prototype._multiply=function(){for(var e,t,r,n=[(e=this.h).readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)],i=[0,0,0,0],a=-1;++a<128;){for(0!=(this.state[~~(a/8)]&1<<7-a%8)&&(i[0]^=n[0],i[1]^=n[1],i[2]^=n[2],i[3]^=n[3]),r=0!=(1&n[3]),t=3;t>0;t--)n[t]=n[t]>>>1|(1&n[t-1])<<31;n[0]=n[0]>>>1,r&&(n[0]=n[0]^225<<24)}this.state=o(i)},a.prototype.update=function(e){var t;for(this.cache=n.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},a.prototype.final=function(e,t){return this.cache.length&&this.ghash(n.concat([this.cache,i],16)),this.ghash(o([0,e,0,t])),this.state},e.exports=a},function(e,t,r){var n=r(173),i=r(7).Buffer,o=r(94),a=r(174),s=r(30),u=r(65),c=r(66);function f(e,t,r){s.call(this),this._cache=new d,this._last=void 0,this._cipher=new u.AES(t),this._prev=i.from(r),this._mode=e,this._autopadding=!0}function d(){this.cache=i.allocUnsafe(0)}function h(e,t,r){var s=o[e.toLowerCase()];if(!s)throw new TypeError(\"invalid suite type\");if(\"string\"==typeof r&&(r=i.from(r)),\"GCM\"!==s.mode&&r.length!==s.iv)throw new TypeError(\"invalid iv length \"+r.length);if(\"string\"==typeof t&&(t=i.from(t)),t.length!==s.key/8)throw new TypeError(\"invalid key length \"+t.length);return\"stream\"===s.type?new a(s.module,t,r,!0):\"auth\"===s.type?new n(s.module,t,r,!0):new f(s.module,t,r)}r(2)(f,s),f.prototype._update=function(e){var t,r;this._cache.add(e);for(var n=[];t=this._cache.get(this._autopadding);)r=this._mode.decrypt(this,t),n.push(r);return i.concat(n)},f.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||t>16)throw new Error(\"unable to decrypt data\");var r=-1;for(;++r<t;)if(e[r+(16-t)]!==t)throw new Error(\"unable to decrypt data\");if(16===t)return;return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error(\"data not multiple of block length\")},f.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},d.prototype.add=function(e){this.cache=i.concat([this.cache,e])},d.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},d.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=function(e,t){var r=o[e.toLowerCase()];if(!r)throw new TypeError(\"invalid suite type\");var n=c(t,!1,r.key,r.iv);return h(e,n.key,n.iv)},t.createDecipheriv=h},function(e,t){t[\"des-ecb\"]={key:8,iv:0},t[\"des-cbc\"]=t.des={key:8,iv:8},t[\"des-ede3-cbc\"]=t.des3={key:24,iv:8},t[\"des-ede3\"]={key:24,iv:0},t[\"des-ede-cbc\"]={key:16,iv:8},t[\"des-ede\"]={key:16,iv:0}},function(e,t,r){(function(e){var n=r(175),i=r(336),o=r(337);var a={binary:!0,hex:!0,base64:!0};t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=function(t){var r=new e(i[t].prime,\"hex\"),n=new e(i[t].gen,\"hex\");return new o(r,n)},t.createDiffieHellman=t.DiffieHellman=function t(r,i,s,u){return e.isBuffer(i)||void 0===a[i]?t(r,\"binary\",i,s):(i=i||\"binary\",u=u||\"binary\",s=s||new e([2]),e.isBuffer(s)||(s=new e(s,u)),\"number\"==typeof r?new o(n(r,s),s,!0):(e.isBuffer(r)||(r=new e(r,i)),new o(r,s,!0)))}}).call(this,r(5).Buffer)},function(e){e.exports=JSON.parse('{\"modp1\":{\"gen\":\"02\",\"prime\":\"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff\"},\"modp2\":{\"gen\":\"02\",\"prime\":\"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff\"},\"modp5\":{\"gen\":\"02\",\"prime\":\"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff\"},\"modp14\":{\"gen\":\"02\",\"prime\":\"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff\"},\"modp15\":{\"gen\":\"02\",\"prime\":\"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff\"},\"modp16\":{\"gen\":\"02\",\"prime\":\"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff\"},\"modp17\":{\"gen\":\"02\",\"prime\":\"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff\"},\"modp18\":{\"gen\":\"02\",\"prime\":\"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff\"}}')},function(e,t,r){(function(t){var n=r(1),i=new(r(176)),o=new n(24),a=new n(11),s=new n(10),u=new n(3),c=new n(7),f=r(175),d=r(28);function h(e,r){return r=r||\"utf8\",t.isBuffer(e)||(e=new t(e,r)),this._pub=new n(e),this}function l(e,r){return r=r||\"utf8\",t.isBuffer(e)||(e=new t(e,r)),this._priv=new n(e),this}e.exports=b;var p={};function b(e,t,r){this.setGenerator(t),this.__prime=new n(e),this._prime=n.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,r?(this.setPublicKey=h,this.setPrivateKey=l):this._primeCode=8}function g(e,r){var n=new t(e.toArray());return r?n.toString(r):n}Object.defineProperty(b.prototype,\"verifyError\",{enumerable:!0,get:function(){return\"number\"!=typeof this._primeCode&&(this._primeCode=function(e,t){var r=t.toString(\"hex\"),n=[r,e.toString(16)].join(\"_\");if(n in p)return p[n];var d,h=0;if(e.isEven()||!f.simpleSieve||!f.fermatTest(e)||!i.test(e))return h+=1,h+=\"02\"===r||\"05\"===r?8:4,p[n]=h,h;switch(i.test(e.shrn(1))||(h+=2),r){case\"02\":e.mod(o).cmp(a)&&(h+=8);break;case\"05\":(d=e.mod(s)).cmp(u)&&d.cmp(c)&&(h+=8);break;default:h+=4}return p[n]=h,h}(this.__prime,this.__gen)),this._primeCode}}),b.prototype.generateKeys=function(){return this._priv||(this._priv=new n(d(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},b.prototype.computeSecret=function(e){var r=(e=(e=new n(e)).toRed(this._prime)).redPow(this._priv).fromRed(),i=new t(r.toArray()),o=this.getPrime();if(i.length<o.length){var a=new t(o.length-i.length);a.fill(0),i=t.concat([a,i])}return i},b.prototype.getPublicKey=function(e){return g(this._pub,e)},b.prototype.getPrivateKey=function(e){return g(this._priv,e)},b.prototype.getPrime=function(e){return g(this.__prime,e)},b.prototype.getGenerator=function(e){return g(this._gen,e)},b.prototype.setGenerator=function(e,r){return r=r||\"utf8\",t.isBuffer(e)||(e=new t(e,r)),this.__gen=e,this._gen=new n(e),this}}).call(this,r(5).Buffer)},function(e,t,r){var n=r(7).Buffer,i=r(31),o=r(339),a=r(2),s=r(347),u=r(357),c=r(162);function f(e){o.Writable.call(this);var t=c[e];if(!t)throw new Error(\"Unknown message digest\");this._hashType=t.hash,this._hash=i(t.hash),this._tag=t.id,this._signType=t.sign}function d(e){o.Writable.call(this);var t=c[e];if(!t)throw new Error(\"Unknown message digest\");this._hash=i(t.hash),this._tag=t.id,this._signType=t.sign}function h(e){return new f(e)}function l(e){return new d(e)}Object.keys(c).forEach((function(e){c[e].id=n.from(c[e].id,\"hex\"),c[e.toLowerCase()]=c[e]})),a(f,o.Writable),f.prototype._write=function(e,t,r){this._hash.update(e),r()},f.prototype.update=function(e,t){return\"string\"==typeof e&&(e=n.from(e,t)),this._hash.update(e),this},f.prototype.sign=function(e,t){this.end();var r=this._hash.digest(),n=s(r,e,this._hashType,this._signType,this._tag);return t?n.toString(t):n},a(d,o.Writable),d.prototype._write=function(e,t,r){this._hash.update(e),r()},d.prototype.update=function(e,t){return\"string\"==typeof e&&(e=n.from(e,t)),this._hash.update(e),this},d.prototype.verify=function(e,t,r){\"string\"==typeof t&&(t=n.from(t,r)),this.end();var i=this._hash.digest();return u(t,i,e,this._signType,this._tag)},e.exports={Sign:h,Verify:l,createSign:h,createVerify:l}},function(e,t,r){(t=e.exports=r(177)).Stream=t,t.Readable=t,t.Writable=r(181),t.Duplex=r(50),t.Transform=r(182),t.PassThrough=r(345),t.finished=r(95),t.pipeline=r(346)},function(e,t){},function(e,t,r){\"use strict\";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=r(5).Buffer,s=r(342).inspect,u=s&&s.custom||\"inspect\";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,c;return t=e,(r=[{key:\"push\",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:\"unshift\",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:\"shift\",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:\"clear\",value:function(){this.head=this.tail=null,this.length=0}},{key:\"join\",value:function(e){if(0===this.length)return\"\";for(var t=this.head,r=\"\"+t.data;t=t.next;)r+=e+t.data;return r}},{key:\"concat\",value:function(e){if(0===this.length)return a.alloc(0);for(var t,r,n,i=a.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,r=i,n=s,a.prototype.copy.call(t,r,n),s+=o.data.length,o=o.next;return i}},{key:\"consume\",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:\"first\",value:function(){return this.head.data}},{key:\"_getString\",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0==(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:\"_getBuffer\",value:function(e){var t=a.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0==(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:u,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}])&&o(t.prototype,r),c&&o(t,c),e}()},function(e,t){},function(e,t,r){\"use strict\";(function(t){var n;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var o=r(95),a=Symbol(\"lastResolve\"),s=Symbol(\"lastReject\"),u=Symbol(\"error\"),c=Symbol(\"ended\"),f=Symbol(\"lastPromise\"),d=Symbol(\"handlePromise\"),h=Symbol(\"stream\");function l(e,t){return{value:e,done:t}}function p(e){var t=e[a];if(null!==t){var r=e[h].read();null!==r&&(e[f]=null,e[a]=null,e[s]=null,t(l(r,!1)))}}function b(e){t.nextTick(p,e)}var g=Object.getPrototypeOf((function(){})),m=Object.setPrototypeOf((i(n={get stream(){return this[h]},next:function(){var e=this,r=this[u];if(null!==r)return Promise.reject(r);if(this[c])return Promise.resolve(l(void 0,!0));if(this[h].destroyed)return new Promise((function(r,n){t.nextTick((function(){e[u]?n(e[u]):r(l(void 0,!0))}))}));var n,i=this[f];if(i)n=new Promise(function(e,t){return function(r,n){e.then((function(){t[c]?r(l(void 0,!0)):t[d](r,n)}),n)}}(i,this));else{var o=this[h].read();if(null!==o)return Promise.resolve(l(o,!1));n=new Promise(this[d])}return this[f]=n,n}},Symbol.asyncIterator,(function(){return this})),i(n,\"return\",(function(){var e=this;return new Promise((function(t,r){e[h].destroy(null,(function(e){e?r(e):t(l(void 0,!0))}))}))})),n),g);e.exports=function(e){var t,r=Object.create(m,(i(t={},h,{value:e,writable:!0}),i(t,a,{value:null,writable:!0}),i(t,s,{value:null,writable:!0}),i(t,u,{value:null,writable:!0}),i(t,c,{value:e._readableState.endEmitted,writable:!0}),i(t,d,{value:function(e,t){var n=r[h].read();n?(r[f]=null,r[a]=null,r[s]=null,e(l(n,!1))):(r[a]=e,r[s]=t)},writable:!0}),t));return r[f]=null,o(e,(function(e){if(e&&\"ERR_STREAM_PREMATURE_CLOSE\"!==e.code){var t=r[s];return null!==t&&(r[f]=null,r[a]=null,r[s]=null,t(e)),void(r[u]=e)}var n=r[a];null!==n&&(r[f]=null,r[a]=null,r[s]=null,n(l(void 0,!0))),r[c]=!0})),e.on(\"readable\",b.bind(null,r)),r}}).call(this,r(9))},function(e,t){e.exports=function(){throw new Error(\"Readable.from is not available in the browser\")}},function(e,t,r){\"use strict\";e.exports=i;var n=r(182);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r(2)(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){\"use strict\";var n;var i=r(49).codes,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function u(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;e.on(\"close\",(function(){s=!0})),void 0===n&&(n=r(95)),n(e,{readable:t,writable:i},(function(e){if(e)return o(e);s=!0,o()}));var u=!1;return function(t){if(!s&&!u)return u=!0,function(e){return e.setHeader&&\"function\"==typeof e.abort}(e)?e.abort():\"function\"==typeof e.destroy?e.destroy():void o(t||new a(\"pipe\"))}}function c(e){e()}function f(e,t){return e.pipe(t)}function d(e){return e.length?\"function\"!=typeof e[e.length-1]?s:e.pop():s}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i=d(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o(\"streams\");var a=t.map((function(e,r){var o=r<t.length-1;return u(e,o,r>0,(function(e){n||(n=e),e&&a.forEach(c),o||(a.forEach(c),i(n))}))}));return t.reduce(f)}},function(e,t,r){var n=r(7).Buffer,i=r(160),o=r(96),a=r(37).ec,s=r(1),u=r(67),c=r(188);function f(e,t,r,o){if((e=n.from(e.toArray())).length<t.byteLength()){var a=n.alloc(t.byteLength()-e.length);e=n.concat([a,e])}var s=r.length,u=function(e,t){e=(e=d(e,t)).mod(t);var r=n.from(e.toArray());if(r.length<t.byteLength()){var i=n.alloc(t.byteLength()-r.length);r=n.concat([i,r])}return r}(r,t),c=n.alloc(s);c.fill(1);var f=n.alloc(s);return f=i(o,f).update(c).update(n.from([0])).update(e).update(u).digest(),c=i(o,f).update(c).digest(),{k:f=i(o,f).update(c).update(n.from([1])).update(e).update(u).digest(),v:c=i(o,f).update(c).digest()}}function d(e,t){var r=new s(e),n=(e.length<<3)-t.bitLength();return n>0&&r.ishrn(n),r}function h(e,t,r){var o,a;do{for(o=n.alloc(0);8*o.length<e.bitLength();)t.v=i(r,t.k).update(t.v).digest(),o=n.concat([o,t.v]);a=d(o,e),t.k=i(r,t.k).update(t.v).update(n.from([0])).digest(),t.v=i(r,t.k).update(t.v).digest()}while(-1!==a.cmp(e));return a}function l(e,t,r,n){return e.toRed(s.mont(r)).redPow(t).fromRed().mod(n)}e.exports=function(e,t,r,i,p){var b=u(t);if(b.curve){if(\"ecdsa\"!==i&&\"ecdsa/rsa\"!==i)throw new Error(\"wrong private key type\");return function(e,t){var r=c[t.curve.join(\".\")];if(!r)throw new Error(\"unknown curve \"+t.curve.join(\".\"));var i=new a(r).keyFromPrivate(t.privateKey).sign(e);return n.from(i.toDER())}(e,b)}if(\"dsa\"===b.type){if(\"dsa\"!==i)throw new Error(\"wrong private key type\");return function(e,t,r){var i,o=t.params.priv_key,a=t.params.p,u=t.params.q,c=t.params.g,p=new s(0),b=d(e,u).mod(u),g=!1,m=f(o,u,e,r);for(;!1===g;)i=h(u,m,r),p=l(c,i,a,u),0===(g=i.invm(u).imul(b.add(o.mul(p))).mod(u)).cmpn(0)&&(g=!1,p=new s(0));return function(e,t){e=e.toArray(),t=t.toArray(),128&e[0]&&(e=[0].concat(e));128&t[0]&&(t=[0].concat(t));var r=[48,e.length+t.length+4,2,e.length];return r=r.concat(e,[2,t.length],t),n.from(r)}(p,g)}(e,b,r)}if(\"rsa\"!==i&&\"ecdsa/rsa\"!==i)throw new Error(\"wrong private key type\");e=n.concat([p,e]);for(var g=b.modulus.byteLength(),m=[0,1];e.length+m.length+1<g;)m.push(255);m.push(0);for(var y=-1;++y<e.length;)m.push(e[y]);return o(m,b)},e.exports.getKey=f,e.exports.makeKey=h},function(e,t,r){\"use strict\";var n=r(183);t.certificate=r(354);var i=n.define(\"RSAPrivateKey\",(function(){this.seq().obj(this.key(\"version\").int(),this.key(\"modulus\").int(),this.key(\"publicExponent\").int(),this.key(\"privateExponent\").int(),this.key(\"prime1\").int(),this.key(\"prime2\").int(),this.key(\"exponent1\").int(),this.key(\"exponent2\").int(),this.key(\"coefficient\").int())}));t.RSAPrivateKey=i;var o=n.define(\"RSAPublicKey\",(function(){this.seq().obj(this.key(\"modulus\").int(),this.key(\"publicExponent\").int())}));t.RSAPublicKey=o;var a=n.define(\"SubjectPublicKeyInfo\",(function(){this.seq().obj(this.key(\"algorithm\").use(s),this.key(\"subjectPublicKey\").bitstr())}));t.PublicKey=a;var s=n.define(\"AlgorithmIdentifier\",(function(){this.seq().obj(this.key(\"algorithm\").objid(),this.key(\"none\").null_().optional(),this.key(\"curve\").objid().optional(),this.key(\"params\").seq().obj(this.key(\"p\").int(),this.key(\"q\").int(),this.key(\"g\").int()).optional())})),u=n.define(\"PrivateKeyInfo\",(function(){this.seq().obj(this.key(\"version\").int(),this.key(\"algorithm\").use(s),this.key(\"subjectPrivateKey\").octstr())}));t.PrivateKey=u;var c=n.define(\"EncryptedPrivateKeyInfo\",(function(){this.seq().obj(this.key(\"algorithm\").seq().obj(this.key(\"id\").objid(),this.key(\"decrypt\").seq().obj(this.key(\"kde\").seq().obj(this.key(\"id\").objid(),this.key(\"kdeparams\").seq().obj(this.key(\"salt\").octstr(),this.key(\"iters\").int())),this.key(\"cipher\").seq().obj(this.key(\"algo\").objid(),this.key(\"iv\").octstr()))),this.key(\"subjectPrivateKey\").octstr())}));t.EncryptedPrivateKey=c;var f=n.define(\"DSAPrivateKey\",(function(){this.seq().obj(this.key(\"version\").int(),this.key(\"p\").int(),this.key(\"q\").int(),this.key(\"g\").int(),this.key(\"pub_key\").int(),this.key(\"priv_key\").int())}));t.DSAPrivateKey=f,t.DSAparam=n.define(\"DSAparam\",(function(){this.int()}));var d=n.define(\"ECPrivateKey\",(function(){this.seq().obj(this.key(\"version\").int(),this.key(\"privateKey\").octstr(),this.key(\"parameters\").optional().explicit(0).use(h),this.key(\"publicKey\").optional().explicit(1).bitstr())}));t.ECPrivateKey=d;var h=n.define(\"ECParameters\",(function(){this.choice({namedCurve:this.objid()})}));t.signature=n.define(\"signature\",(function(){this.seq().obj(this.key(\"r\").int(),this.key(\"s\").int())}))},function(e,t,r){\"use strict\";const n=r(184),i=r(186),o=r(2);function a(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}t.define=function(e,t){return new a(e,t)},a.prototype._createNamed=function(e){const t=this.name;function r(e){this._initNamed(e,t)}return o(r,e),r.prototype._initNamed=function(t,r){e.call(this,t,r)},new r(this)},a.prototype._getDecoder=function(e){return e=e||\"der\",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(i[e])),this.decoders[e]},a.prototype.decode=function(e,t,r){return this._getDecoder(t).decode(e,r)},a.prototype._getEncoder=function(e){return e=e||\"der\",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(n[e])),this.encoders[e]},a.prototype.encode=function(e,t,r){return this._getEncoder(t).encode(e,r)}},function(e,t,r){\"use strict\";const n=r(2),i=r(185);function o(e){i.call(this,e),this.enc=\"pem\"}n(o,i),e.exports=o,o.prototype.encode=function(e,t){const r=i.prototype.encode.call(this,e).toString(\"base64\"),n=[\"-----BEGIN \"+t.label+\"-----\"];for(let e=0;e<r.length;e+=64)n.push(r.slice(e,e+64));return n.push(\"-----END \"+t.label+\"-----\"),n.join(\"\\n\")}},function(e,t,r){\"use strict\";const n=r(2),i=r(97).Buffer,o=r(187);function a(e){o.call(this,e),this.enc=\"pem\"}n(a,o),e.exports=a,a.prototype.decode=function(e,t){const r=e.toString().split(/[\\r\\n]+/g),n=t.label.toUpperCase(),a=/^-----(BEGIN|END) ([^-]+)-----$/;let s=-1,u=-1;for(let e=0;e<r.length;e++){const t=r[e].match(a);if(null!==t&&t[2]===n){if(-1!==s){if(\"END\"!==t[1])break;u=e;break}if(\"BEGIN\"!==t[1])break;s=e}}if(-1===s||-1===u)throw new Error(\"PEM section not found for: \"+n);const c=r.slice(s+1,u).join(\"\");c.replace(/[^a-z0-9+/=]+/gi,\"\");const f=i.from(c,\"base64\");return o.prototype.decode.call(this,f,t)}},function(e,t,r){\"use strict\";const n=t;n.Reporter=r(99).Reporter,n.DecoderBuffer=r(58).DecoderBuffer,n.EncoderBuffer=r(58).EncoderBuffer,n.Node=r(98)},function(e,t,r){\"use strict\";const n=t;n._reverse=function(e){const t={};return Object.keys(e).forEach((function(r){(0|r)==r&&(r|=0);const n=e[r];t[n]=r})),t},n.der=r(100)},function(e,t,r){\"use strict\";var n=r(183),i=n.define(\"Time\",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),o=n.define(\"AttributeTypeValue\",(function(){this.seq().obj(this.key(\"type\").objid(),this.key(\"value\").any())})),a=n.define(\"AlgorithmIdentifier\",(function(){this.seq().obj(this.key(\"algorithm\").objid(),this.key(\"parameters\").optional(),this.key(\"curve\").objid().optional())})),s=n.define(\"SubjectPublicKeyInfo\",(function(){this.seq().obj(this.key(\"algorithm\").use(a),this.key(\"subjectPublicKey\").bitstr())})),u=n.define(\"RelativeDistinguishedName\",(function(){this.setof(o)})),c=n.define(\"RDNSequence\",(function(){this.seqof(u)})),f=n.define(\"Name\",(function(){this.choice({rdnSequence:this.use(c)})})),d=n.define(\"Validity\",(function(){this.seq().obj(this.key(\"notBefore\").use(i),this.key(\"notAfter\").use(i))})),h=n.define(\"Extension\",(function(){this.seq().obj(this.key(\"extnID\").objid(),this.key(\"critical\").bool().def(!1),this.key(\"extnValue\").octstr())})),l=n.define(\"TBSCertificate\",(function(){this.seq().obj(this.key(\"version\").explicit(0).int().optional(),this.key(\"serialNumber\").int(),this.key(\"signature\").use(a),this.key(\"issuer\").use(f),this.key(\"validity\").use(d),this.key(\"subject\").use(f),this.key(\"subjectPublicKeyInfo\").use(s),this.key(\"issuerUniqueID\").implicit(1).bitstr().optional(),this.key(\"subjectUniqueID\").implicit(2).bitstr().optional(),this.key(\"extensions\").explicit(3).seqof(h).optional())})),p=n.define(\"X509Certificate\",(function(){this.seq().obj(this.key(\"tbsCertificate\").use(l),this.key(\"signatureAlgorithm\").use(a),this.key(\"signatureValue\").bitstr())}));e.exports=p},function(e){e.exports=JSON.parse('{\"2.16.840.1.101.3.4.1.1\":\"aes-128-ecb\",\"2.16.840.1.101.3.4.1.2\":\"aes-128-cbc\",\"2.16.840.1.101.3.4.1.3\":\"aes-128-ofb\",\"2.16.840.1.101.3.4.1.4\":\"aes-128-cfb\",\"2.16.840.1.101.3.4.1.21\":\"aes-192-ecb\",\"2.16.840.1.101.3.4.1.22\":\"aes-192-cbc\",\"2.16.840.1.101.3.4.1.23\":\"aes-192-ofb\",\"2.16.840.1.101.3.4.1.24\":\"aes-192-cfb\",\"2.16.840.1.101.3.4.1.41\":\"aes-256-ecb\",\"2.16.840.1.101.3.4.1.42\":\"aes-256-cbc\",\"2.16.840.1.101.3.4.1.43\":\"aes-256-ofb\",\"2.16.840.1.101.3.4.1.44\":\"aes-256-cfb\"}')},function(e,t,r){var n=/Proc-Type: 4,ENCRYPTED[\\n\\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\\n\\r]+([0-9A-z\\n\\r+/=]+)[\\n\\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\\n\\r+/=]+)-----END \\1-----$/m,a=r(66),s=r(93),u=r(7).Buffer;e.exports=function(e,t){var r,c=e.toString(),f=c.match(n);if(f){var d=\"aes\"+f[1],h=u.from(f[2],\"hex\"),l=u.from(f[3].replace(/[\\r\\n]/g,\"\"),\"base64\"),p=a(t,h.slice(0,8),parseInt(f[1],10)).key,b=[],g=s.createDecipheriv(d,p,h);b.push(g.update(l)),b.push(g.final()),r=u.concat(b)}else{var m=c.match(o);r=u.from(m[2].replace(/[\\r\\n]/g,\"\"),\"base64\")}return{tag:c.match(i)[1],data:r}}},function(e,t,r){var n=r(7).Buffer,i=r(1),o=r(37).ec,a=r(67),s=r(188);function u(e,t){if(e.cmpn(0)<=0)throw new Error(\"invalid sig\");if(e.cmp(t)>=t)throw new Error(\"invalid sig\")}e.exports=function(e,t,r,c,f){var d=a(r);if(\"ec\"===d.type){if(\"ecdsa\"!==c&&\"ecdsa/rsa\"!==c)throw new Error(\"wrong public key type\");return function(e,t,r){var n=s[r.data.algorithm.curve.join(\".\")];if(!n)throw new Error(\"unknown curve \"+r.data.algorithm.curve.join(\".\"));var i=new o(n),a=r.data.subjectPrivateKey.data;return i.verify(t,e,a)}(e,t,d)}if(\"dsa\"===d.type){if(\"dsa\"!==c)throw new Error(\"wrong public key type\");return function(e,t,r){var n=r.data.p,o=r.data.q,s=r.data.g,c=r.data.pub_key,f=a.signature.decode(e,\"der\"),d=f.s,h=f.r;u(d,o),u(h,o);var l=i.mont(n),p=d.invm(o);return 0===s.toRed(l).redPow(new i(t).mul(p).mod(o)).fromRed().mul(c.toRed(l).redPow(h.mul(p).mod(o)).fromRed()).mod(n).mod(o).cmp(h)}(e,t,d)}if(\"rsa\"!==c&&\"ecdsa/rsa\"!==c)throw new Error(\"wrong public key type\");t=n.concat([f,t]);for(var h=d.modulus.byteLength(),l=[1],p=0;t.length+l.length+2<h;)l.push(255),p++;l.push(0);for(var b=-1;++b<t.length;)l.push(t[b]);l=n.from(l);var g=i.mont(d.modulus);e=(e=new i(e).toRed(g)).redPow(new i(d.publicExponent)),e=n.from(e.fromRed().toArray());var m=p<8?1:0;for(h=Math.min(e.length,l.length),e.length!==l.length&&(m=1),b=-1;++b<h;)m|=e[b]^l[b];return 0===m}},function(e,t,r){(function(t){var n=r(37),i=r(1);e.exports=function(e){return new a(e)};var o={secp256k1:{name:\"secp256k1\",byteLength:32},secp224r1:{name:\"p224\",byteLength:28},prime256v1:{name:\"p256\",byteLength:32},prime192v1:{name:\"p192\",byteLength:24},ed25519:{name:\"ed25519\",byteLength:32},secp384r1:{name:\"p384\",byteLength:48},secp521r1:{name:\"p521\",byteLength:66}};function a(e){this.curveType=o[e],this.curveType||(this.curveType={name:e}),this.curve=new n.ec(this.curveType.name),this.keys=void 0}function s(e,r,n){Array.isArray(e)||(e=e.toArray());var i=new t(e);if(n&&i.length<n){var o=new t(n-i.length);o.fill(0),i=t.concat([o,i])}return r?i.toString(r):i}o.p224=o.secp224r1,o.p256=o.secp256r1=o.prime256v1,o.p192=o.secp192r1=o.prime192v1,o.p384=o.secp384r1,o.p521=o.secp521r1,a.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},a.prototype.computeSecret=function(e,r,n){return r=r||\"utf8\",t.isBuffer(e)||(e=new t(e,r)),s(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),n,this.curveType.byteLength)},a.prototype.getPublicKey=function(e,t){var r=this.keys.getPublic(\"compressed\"===t,!0);return\"hybrid\"===t&&(r[r.length-1]%2?r[0]=7:r[0]=6),s(r,e)},a.prototype.getPrivateKey=function(e){return s(this.keys.getPrivate(),e)},a.prototype.setPublicKey=function(e,r){return r=r||\"utf8\",t.isBuffer(e)||(e=new t(e,r)),this.keys._importPublic(e),this},a.prototype.setPrivateKey=function(e,r){r=r||\"utf8\",t.isBuffer(e)||(e=new t(e,r));var n=new i(e);return n=n.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(n),this}}).call(this,r(5).Buffer)},function(e,t,r){t.publicEncrypt=r(360),t.privateDecrypt=r(361),t.privateEncrypt=function(e,r){return t.publicEncrypt(e,r,!0)},t.publicDecrypt=function(e,r){return t.privateDecrypt(e,r,!0)}},function(e,t,r){var n=r(67),i=r(28),o=r(31),a=r(189),s=r(190),u=r(1),c=r(191),f=r(96),d=r(7).Buffer;e.exports=function(e,t,r){var h;h=e.padding?e.padding:r?1:4;var l,p=n(e);if(4===h)l=function(e,t){var r=e.modulus.byteLength(),n=t.length,c=o(\"sha1\").update(d.alloc(0)).digest(),f=c.length,h=2*f;if(n>r-h-2)throw new Error(\"message too long\");var l=d.alloc(r-n-h-2),p=r-f-1,b=i(f),g=s(d.concat([c,l,d.alloc(1,1),t],p),a(b,p)),m=s(b,a(g,f));return new u(d.concat([d.alloc(1),m,g],r))}(p,t);else if(1===h)l=function(e,t,r){var n,o=t.length,a=e.modulus.byteLength();if(o>a-11)throw new Error(\"message too long\");n=r?d.alloc(a-o-3,255):function(e){var t,r=d.allocUnsafe(e),n=0,o=i(2*e),a=0;for(;n<e;)a===o.length&&(o=i(2*e),a=0),(t=o[a++])&&(r[n++]=t);return r}(a-o-3);return new u(d.concat([d.from([0,r?1:2]),n,d.alloc(1),t],a))}(p,t,r);else{if(3!==h)throw new Error(\"unknown padding\");if((l=new u(t)).cmp(p.modulus)>=0)throw new Error(\"data too long for modulus\")}return r?f(l,p):c(l,p)}},function(e,t,r){var n=r(67),i=r(189),o=r(190),a=r(1),s=r(96),u=r(31),c=r(191),f=r(7).Buffer;e.exports=function(e,t,r){var d;d=e.padding?e.padding:r?1:4;var h,l=n(e),p=l.modulus.byteLength();if(t.length>p||new a(t).cmp(l.modulus)>=0)throw new Error(\"decryption error\");h=r?c(new a(t),l):s(t,l);var b=f.alloc(p-h.length);if(h=f.concat([b,h],p),4===d)return function(e,t){var r=e.modulus.byteLength(),n=u(\"sha1\").update(f.alloc(0)).digest(),a=n.length;if(0!==t[0])throw new Error(\"decryption error\");var s=t.slice(1,a+1),c=t.slice(a+1),d=o(s,i(c,a)),h=o(c,i(d,r-a-1));if(function(e,t){e=f.from(e),t=f.from(t);var r=0,n=e.length;e.length!==t.length&&(r++,n=Math.min(e.length,t.length));var i=-1;for(;++i<n;)r+=e[i]^t[i];return r}(n,h.slice(0,a)))throw new Error(\"decryption error\");var l=a;for(;0===h[l];)l++;if(1!==h[l++])throw new Error(\"decryption error\");return h.slice(l)}(l,h);if(1===d)return function(e,t,r){var n=t.slice(0,2),i=2,o=0;for(;0!==t[i++];)if(i>=t.length){o++;break}var a=t.slice(2,i-1);(\"0002\"!==n.toString(\"hex\")&&!r||\"0001\"!==n.toString(\"hex\")&&r)&&o++;a.length<8&&o++;if(o)throw new Error(\"decryption error\");return t.slice(i)}(0,h,r);if(3===d)return h;throw new Error(\"unknown padding\")}},function(e,t,r){\"use strict\";(function(e,n){function i(){throw new Error(\"secure random number generation not supported by this browser\\nuse chrome, FireFox or Internet Explorer 11\")}var o=r(7),a=r(28),s=o.Buffer,u=o.kMaxLength,c=e.crypto||e.msCrypto,f=Math.pow(2,32)-1;function d(e,t){if(\"number\"!=typeof e||e!=e)throw new TypeError(\"offset must be a number\");if(e>f||e<0)throw new TypeError(\"offset must be a uint32\");if(e>u||e>t)throw new RangeError(\"offset out of range\")}function h(e,t,r){if(\"number\"!=typeof e||e!=e)throw new TypeError(\"size must be a number\");if(e>f||e<0)throw new TypeError(\"size must be a uint32\");if(e+t>r||e>u)throw new RangeError(\"buffer too small\")}function l(e,t,r,i){if(n.browser){var o=e.buffer,s=new Uint8Array(o,t,r);return c.getRandomValues(s),i?void n.nextTick((function(){i(null,e)})):e}if(!i)return a(r).copy(e,t),e;a(r,(function(r,n){if(r)return i(r);n.copy(e,t),i(null,e)}))}c&&c.getRandomValues||!n.browser?(t.randomFill=function(t,r,n,i){if(!(s.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('\"buf\" argument must be a Buffer or Uint8Array');if(\"function\"==typeof r)i=r,r=0,n=t.length;else if(\"function\"==typeof n)i=n,n=t.length-r;else if(\"function\"!=typeof i)throw new TypeError('\"cb\" argument must be a function');return d(r,t.length),h(n,r,t.length),l(t,r,n,i)},t.randomFillSync=function(t,r,n){void 0===r&&(r=0);if(!(s.isBuffer(t)||t instanceof e.Uint8Array))throw new TypeError('\"buf\" argument must be a Buffer or Uint8Array');d(r,t.length),void 0===n&&(n=t.length-r);return h(n,r,t.length),l(t,r,n)}):(t.randomFill=i,t.randomFillSync=i)}).call(this,r(11),r(9))},function(e,t,r){t.parse=r(364),t.stringify=r(365)},function(e,t){var r,n,i,o,a={'\"':'\"',\"\\\\\":\"\\\\\",\"/\":\"/\",b:\"\\b\",f:\"\\f\",n:\"\\n\",r:\"\\r\",t:\"\\t\"},s=function(e){throw{name:\"SyntaxError\",message:e,at:r,text:i}},u=function(e){return e&&e!==n&&s(\"Expected '\"+e+\"' instead of '\"+n+\"'\"),n=i.charAt(r),r+=1,n},c=function(){var e,t=\"\";for(\"-\"===n&&(t=\"-\",u(\"-\"));n>=\"0\"&&n<=\"9\";)t+=n,u();if(\".\"===n)for(t+=\".\";u()&&n>=\"0\"&&n<=\"9\";)t+=n;if(\"e\"===n||\"E\"===n)for(t+=n,u(),\"-\"!==n&&\"+\"!==n||(t+=n,u());n>=\"0\"&&n<=\"9\";)t+=n,u();if(e=+t,isFinite(e))return e;s(\"Bad number\")},f=function(){var e,t,r,i=\"\";if('\"'===n)for(;u();){if('\"'===n)return u(),i;if(\"\\\\\"===n)if(u(),\"u\"===n){for(r=0,t=0;t<4&&(e=parseInt(u(),16),isFinite(e));t+=1)r=16*r+e;i+=String.fromCharCode(r)}else{if(\"string\"!=typeof a[n])break;i+=a[n]}else i+=n}s(\"Bad string\")},d=function(){for(;n&&n<=\" \";)u()};o=function(){switch(d(),n){case\"{\":return function(){var e,t={};if(\"{\"===n){if(u(\"{\"),d(),\"}\"===n)return u(\"}\"),t;for(;n;){if(e=f(),d(),u(\":\"),Object.hasOwnProperty.call(t,e)&&s('Duplicate key \"'+e+'\"'),t[e]=o(),d(),\"}\"===n)return u(\"}\"),t;u(\",\"),d()}}s(\"Bad object\")}();case\"[\":return function(){var e=[];if(\"[\"===n){if(u(\"[\"),d(),\"]\"===n)return u(\"]\"),e;for(;n;){if(e.push(o()),d(),\"]\"===n)return u(\"]\"),e;u(\",\"),d()}}s(\"Bad array\")}();case'\"':return f();case\"-\":return c();default:return n>=\"0\"&&n<=\"9\"?c():function(){switch(n){case\"t\":return u(\"t\"),u(\"r\"),u(\"u\"),u(\"e\"),!0;case\"f\":return u(\"f\"),u(\"a\"),u(\"l\"),u(\"s\"),u(\"e\"),!1;case\"n\":return u(\"n\"),u(\"u\"),u(\"l\"),u(\"l\"),null}s(\"Unexpected '\"+n+\"'\")}()}},e.exports=function(e,t){var a;return i=e,r=0,n=\" \",a=o(),d(),n&&s(\"Syntax error\"),\"function\"==typeof t?function e(r,n){var i,o,a=r[n];if(a&&\"object\"==typeof a)for(i in a)Object.prototype.hasOwnProperty.call(a,i)&&(void 0!==(o=e(a,i))?a[i]=o:delete a[i]);return t.call(r,n,a)}({\"\":a},\"\"):a}},function(e,t){var r,n,i,o=/[\\\\\\\"\\x00-\\x1f\\x7f-\\x9f\\u00ad\\u0600-\\u0604\\u070f\\u17b4\\u17b5\\u200c-\\u200f\\u2028-\\u202f\\u2060-\\u206f\\ufeff\\ufff0-\\uffff]/g,a={\"\\b\":\"\\\\b\",\"\\t\":\"\\\\t\",\"\\n\":\"\\\\n\",\"\\f\":\"\\\\f\",\"\\r\":\"\\\\r\",'\"':'\\\\\"',\"\\\\\":\"\\\\\\\\\"};function s(e){return o.lastIndex=0,o.test(e)?'\"'+e.replace(o,(function(e){var t=a[e];return\"string\"==typeof t?t:\"\\\\u\"+(\"0000\"+e.charCodeAt(0).toString(16)).slice(-4)}))+'\"':'\"'+e+'\"'}e.exports=function(e,t,o){var a;if(r=\"\",n=\"\",\"number\"==typeof o)for(a=0;a<o;a+=1)n+=\" \";else\"string\"==typeof o&&(n=o);if(i=t,t&&\"function\"!=typeof t&&(\"object\"!=typeof t||\"number\"!=typeof t.length))throw new Error(\"JSON.stringify\");return function e(t,o){var a,u,c,f,d,h=r,l=o[t];switch(l&&\"object\"==typeof l&&\"function\"==typeof l.toJSON&&(l=l.toJSON(t)),\"function\"==typeof i&&(l=i.call(o,t,l)),typeof l){case\"string\":return s(l);case\"number\":return isFinite(l)?String(l):\"null\";case\"boolean\":case\"null\":return String(l);case\"object\":if(!l)return\"null\";if(r+=n,d=[],\"[object Array]\"===Object.prototype.toString.apply(l)){for(f=l.length,a=0;a<f;a+=1)d[a]=e(a,l)||\"null\";return c=0===d.length?\"[]\":r?\"[\\n\"+r+d.join(\",\\n\"+r)+\"\\n\"+h+\"]\":\"[\"+d.join(\",\")+\"]\",r=h,c}if(i&&\"object\"==typeof i)for(f=i.length,a=0;a<f;a+=1)\"string\"==typeof(u=i[a])&&(c=e(u,l))&&d.push(s(u)+(r?\": \":\":\")+c);else for(u in l)Object.prototype.hasOwnProperty.call(l,u)&&(c=e(u,l))&&d.push(s(u)+(r?\": \":\":\")+c);return c=0===d.length?\"{}\":r?\"{\\n\"+r+d.join(\",\\n\"+r)+\"\\n\"+h+\"}\":\"{\"+d.join(\",\")+\"}\",r=h,c}}(\"\",{\"\":e})}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.storeAsStream=void 0;const n=r(79);class i extends n.Duplex{constructor(e){super({objectMode:!0}),this.resume(),this.handler=e=>this.push(e),this.obsStore=e,this.obsStore.subscribe(this.handler)}pipe(e,t){const r=super.pipe(e,t);return e.write(this.obsStore.getState()),r}_write(e,t,r){this.obsStore.putState(e),r()}_read(e){}_destroy(e,t){this.obsStore.unsubscribe(this.handler),super._destroy(e,t)}}t.storeAsStream=function(e){return new i(e)}},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.ComposedStore=void 0;const n=r(101);class i extends n.ObservableStore{constructor(e){super({}),this._children=e||{},Object.keys(this._children).forEach(e=>{const t=this._children[e];this._addChild(e,t)})}_addChild(e,t){const r=t=>{const r=this.getState();r[e]=t,this.putState(r)};t.subscribe(r),r(t.getState())}}t.ComposedStore=i},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});const n=r(14);function i(e,t,r){try{Reflect.apply(e,t,r)}catch(e){setTimeout(()=>{throw e})}}class o extends n.EventEmitter{emit(e,...t){let r=\"error\"===e;const n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;const r=new Error(\"Unhandled error.\"+(e?` (${e.message})`:\"\"));throw r.context=e,r}const o=n[e];if(void 0===o)return!1;if(\"function\"==typeof o)i(o,this,t);else{const e=o.length,r=function(e){const t=e.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}(o);for(let n=0;n<e;n+=1)i(r[n],this,t)}return!0}}t.default=o},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.MergedStore=void 0;const n=r(101);class i extends n.ObservableStore{constructor(e=[]){super({}),this._children=e,e.forEach(e=>this._addChild(e)),this._updateWholeState()}_addChild(e){e.subscribe(()=>this._updateWholeState())}_updateWholeState(){const e=this._children.map(e=>e.getState()),t=Object.assign({},...e);this.putState(t)}}t.MergedStore=i},function(e,t,r){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.storeTransformStream=void 0;const n=r(371);t.storeTransformStream=function(e){return n.obj((t,r,n)=>{try{return void n(null,e(t))}catch(e){return void n(e)}})}},function(e,t,r){(function(t){var n=r(372).Transform,i=r(72).inherits,o=r(148);function a(e){n.call(this,e),this._destroyed=!1}function s(e,t,r){r(null,e)}function u(e){return function(t,r,n){return\"function\"==typeof t&&(n=r,r=t,t={}),\"function\"!=typeof r&&(r=s),\"function\"!=typeof n&&(n=null),e(t,r,n)}}i(a,n),a.prototype.destroy=function(e){if(!this._destroyed){this._destroyed=!0;var r=this;t.nextTick((function(){e&&r.emit(\"error\",e),r.emit(\"close\")}))}},e.exports=u((function(e,t,r){var n=new a(e);return n._transform=t,r&&(n._flush=r),n})),e.exports.ctor=u((function(e,t,r){function n(t){if(!(this instanceof n))return new n(t);this.options=o(e,t),a.call(this,this.options)}return i(n,a),n.prototype._transform=t,r&&(n.prototype._flush=r),n})),e.exports.obj=u((function(e,t,r){var n=new a(o({objectMode:!0,highWaterMark:16},e));return n._transform=t,r&&(n._flush=r),n}))}).call(this,r(9))},function(e,t,r){(t=e.exports=r(192)).Stream=t,t.Readable=t,t.Writable=r(195),t.Duplex=r(51),t.Transform=r(196),t.PassThrough=r(376)},function(e,t){},function(e,t,r){\"use strict\";var n=r(102).Buffer,i=r(375);e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,e),this.head=null,this.tail=null,this.length=0}return e.prototype.push=function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},e.prototype.unshift=function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length},e.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},e.prototype.clear=function(){this.head=this.tail=null,this.length=0},e.prototype.join=function(e){if(0===this.length)return\"\";for(var t=this.head,r=\"\"+t.data;t=t.next;)r+=e+t.data;return r},e.prototype.concat=function(e){if(0===this.length)return n.alloc(0);if(1===this.length)return this.head.data;for(var t,r,i,o=n.allocUnsafe(e>>>0),a=this.head,s=0;a;)t=a.data,r=o,i=s,t.copy(r,i),s+=a.data.length,a=a.next;return o},e}(),i&&i.inspect&&i.inspect.custom&&(e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+\" \"+e})},function(e,t){},function(e,t,r){\"use strict\";e.exports=o;var n=r(196),i=Object.create(r(18));function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}i.inherits=r(2),i.inherits(o,n),o.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,r){\"use strict\";r.r(t),r.d(t,\"default\",(function(){return gt})),r.d(t,\"TorusInpageProvider\",(function(){return Ge})),r.d(t,\"LOGIN_PROVIDER\",(function(){return $})),r.d(t,\"PAYMENT_PROVIDER\",(function(){return Z})),r.d(t,\"TORUS_BUILD_ENV\",(function(){return Q})),r.d(t,\"BUTTON_POSITION\",(function(){return ee}));var n=r(106),i=r.n(n),o=r(29),a=r.n(o),s=r(32),u=r.n(s),c=r(12),f=r.n(c),d=r(3),h=r.n(d),l=r(6),p=r.n(l),b=r(107),g=r.n(b),m=r(15);const y=\"mainnet\",v=[{constant:!0,inputs:[],name:\"currentEpoch\",outputs:[{internalType:\"uint256\",name:\"\",type:\"uint256\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!0,inputs:[{internalType:\"uint256\",name:\"epoch\",type:\"uint256\"}],name:\"getEpochInfo\",outputs:[{internalType:\"uint256\",name:\"id\",type:\"uint256\"},{internalType:\"uint256\",name:\"n\",type:\"uint256\"},{internalType:\"uint256\",name:\"k\",type:\"uint256\"},{internalType:\"uint256\",name:\"t\",type:\"uint256\"},{internalType:\"address[]\",name:\"nodeList\",type:\"address[]\"},{internalType:\"uint256\",name:\"prevEpoch\",type:\"uint256\"},{internalType:\"uint256\",name:\"nextEpoch\",type:\"uint256\"}],payable:!1,stateMutability:\"view\",type:\"function\"},{constant:!0,inputs:[{internalType:\"address\",name:\"nodeAddress\",type:\"address\"}],name:\"getNodeDetails\",outputs:[{internalType:\"string\",name:\"declaredIp\",type:\"string\"},{internalType:\"uint256\",name:\"position\",type:\"uint256\"},{internalType:\"uint256\",name:\"pubKx\",type:\"uint256\"},{internalType:\"uint256\",name:\"pubKy\",type:\"uint256\"},{internalType:\"string\",name:\"tmP2PListenAddress\",type:\"string\"},{internalType:\"string\",name:\"p2pListenAddress\",type:\"string\"}],payable:!1,stateMutability:\"view\",type:\"function\"}];\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\nfunction w(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))}class _{constructor({network:e=y,proxyAddress:t=\"0x638646503746d5456209e33a2ff5e3226d698bea\"}={}){let r;this._currentEpoch=\"19\",this._torusNodeEndpoints=[\"https://torus-19.torusnode.com/jrpc\",\"https://torus-node.ens.domains/jrpc\",\"https://torus-node.matic.network/jrpc\",\"https://torus.zilliqa.network/jrpc\",\"https://torus-mainnet.cosmos.network/jrpc\",\"https://torus2.etherscan.com/jrpc\",\"https://torus-node-v2.skalelabs.com/jrpc\",\"https://torus-node.binancex.dev/jrpc\",\"https://torusnode.ont.io/jrpc\"],this._torusNodePub=[{X:\"bbe83c64177c3775550e6ba6ac2bc059f6847d644c9e4894e42c60d7974d8c2b\",Y:\"82b49a7caf70def38cdad2740af45c1e4f969650105c5019a29bb18b21a9acb5\"},{X:\"c208cac4ef9a47d386097a9c915b28e9cb89213abee8d26a17198ee261201b0d\",Y:\"c7db2fe4631109f40833de9dc78d07e35706549ee48fa557b33e4e75e1047873\"},{X:\"ca1766bb426d4ca5582818a0c5439d560ea64f5baa060793ab29dd3d0ceacfe\",Y:\"d46c1d08c40e1306e1bca328c2287b8268166b11a1ba4b8442ea2ad0c5e32152\"},{X:\"c3934dd2f6f4b3d2e1e398cc501e143c1e1a381b52feb6d1525af34d16253768\",Y:\"71f5141a5035799099f5ea3e241e66946bc55dc857ac3bd7d6fcdb8dcd3eeeef\"},{X:\"22e66f1929631d00bf026227581597f085fd94fd952fc0dca9f0833398b5c064\",Y:\"6088b3912e10a1e9d50355a609c10db7d188f16a2e2fd7357e51bf4f6a74f0a1\"},{X:\"9dc9fa410f3ce9eb70df70cdea00a49f2c4cc7a31c08c0dab5f863ed35ff5139\",Y:\"627a291cb87a75c61da3f65d6818e1e05e360217179817ed27e8c73bca7ec122\"},{X:\"118b9fc07e97b096d899b9f6658463ce6a8caa64038e37fc969df4e6023dd8c6\",Y:\"baf9fa4e51770f4796ea165dd03a769b8606681a38954a0a92c4cbffd6609ce9\"},{X:\"8a6d8b925da15a273dec3d8f8395ec35cd6878f274b2b180e4e106999db64043\",Y:\"96f67f870c157743da0b1eb84d89bf30500d74dc84c11f501ee1cb013acc8c46\"},{X:\"39cecb62e863729f572f7dfc46c24867981bf04bb405fed0df39e33984bfade5\",Y:\"61c2364434012e68a2be2e9952805037e52629d7762fafc8e10e9fb5bad8f790\"}],this._torusIndexes=[1,2,3,4,5,6,7,8,9],this._network=y;try{r=new URL(e).href}catch(t){r=`https://${e}.infura.io/v3/${\"b8cdb0e4cff24599a286bf8e87ff1c96\"}`}g.a.setProvider(r),this.nodeListContract=new g.a(v,t),this.nodeListAddress=t,this.updated=!1,this._network=e}get _nodeDetails(){return{currentEpoch:this._currentEpoch,nodeListAddress:this.nodeListAddress,torusNodeEndpoints:this._torusNodeEndpoints,torusNodePub:this._torusNodePub,torusIndexes:this._torusIndexes,updated:this.updated}}getCurrentEpoch(){return this.nodeListContract.methods.currentEpoch().call()}getEpochInfo(e){return this.nodeListContract.methods.getEpochInfo(e).call()}getNodeEndpoint(e){return this.nodeListContract.methods.getNodeDetails(e).call()}getNodeDetails(e=!1,t=!1){return w(this,void 0,void 0,(function*(){try{if(e&&this._network===y)return this._nodeDetails;if(this.updated)return this._nodeDetails;const r=yield this.getCurrentEpoch();if(t&&this._network===y&&r===this._currentEpoch)return this._nodeDetails;this._currentEpoch=r;const n=yield this.getEpochInfo(r),i=n.nodeList.map((e,t)=>t+1);this._torusIndexes=i;const o=n.nodeList.map(e=>this.getNodeEndpoint(e)),a=yield Promise.all(o),s=[],u=[];for(let e=0;e<a.length;e+=1){const t=a[e],r=`https://${t.declaredIp.split(\":\")[0]}/jrpc`;s.push(r),u.push({X:Object(m.toHex)(t.pubKx).replace(\"0x\",\"\"),Y:Object(m.toHex)(t.pubKy).replace(\"0x\",\"\")})}return this._torusNodeEndpoints=s,this._torusNodePub=u,this.updated=!0,this._nodeDetails}catch(e){return this._nodeDetails}}))}}var S=r(13),E=r(54),x=r(199),k=r(14),A=r(201),M=r.n(A),R=r(69),O=r.n(R),P=r(68),T=r.n(P),j=r(52),I=r.n(j);function C(){}class B extends E.Duplex{constructor({name:e,target:t,targetWindow:r}){super({objectMode:!0}),this._init=!1,this._haveSyn=!1,this._name=e,this._target=t,this._targetWindow=r||window,this._origin=r?\"*\":window.location.origin,this._onMessage=this.onMessage.bind(this),this._synIntervalId=null,window.addEventListener(\"message\",this._onMessage,!1),this._handShake()}_break(){this.cork(),this._write(\"BRK\",null,C),this._haveSyn=!1,this._init=!1}_handShake(){this._write(\"SYN\",null,C),this.cork()}_onData(e){if(this._init)if(\"BRK\"===e)this._break();else try{this.push(e)}catch(e){this.emit(\"error\",e)}else\"SYN\"===e?(this._haveSyn=!0,this._write(\"ACK\",null,C)):\"ACK\"===e&&(this._init=!0,this._haveSyn||this._write(\"ACK\",null,C),this.uncork())}_postMessage(e){const t=this._origin;this._targetWindow.postMessage({target:this._target,data:e},t)}onMessage(e){const t=e.data;\"*\"!==this._origin&&e.origin!==this._origin||e.source!==this._targetWindow||\"object\"!=typeof t||t.target!==this._name||!t.data||this._onData(t.data)}_read(){}_write(e,t,r){this._postMessage(e),r()}}\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */function N(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))}function L(e,t,r){try{Reflect.apply(e,t,r)}catch(e){setTimeout(()=>{throw e})}}class D extends k.EventEmitter{emit(e,...t){let r=\"error\"===e;const n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){let e;if(t.length>0&&([e]=t),e instanceof Error)throw e;const r=new Error(\"Unhandled error.\"+(e?` (${e.message})`:\"\"));throw r.context=e,r}const i=n[e];if(void 0===i)return!1;if(\"function\"==typeof i)L(i,this,t);else{const e=i.length,r=function(e){const t=e.length,r=new Array(t);for(let n=0;n<t;n+=1)r[n]=e[n];return r}(i);for(let n=0;n<e;n+=1)L(r[n],this,t)}return!0}}class U extends Error{constructor({code:e,message:t,data:r}){if(!Number.isInteger(e))throw new Error(\"code must be an integer\");if(!t||\"string\"!=typeof t)throw new Error(\"message must be string\");super(t),this.code=e,void 0!==r&&(this.data=r)}toString(){return M()({code:this.code,message:this.message,data:this.data,stack:this.stack})}}function q(e){return e.toString()}function F(){const e={};const t=new D;const r=new E.Duplex({objectMode:!0,read:function(){return!1},write:function(r,n,i){let o;try{!r.id?function(e){t.emit(\"notification\",e)}(r):function(t){const r=e[t.id];if(!r)throw new Error(`StreamMiddleware - Unknown response id \"${t.id}\"`);delete e[t.id],Object.assign(r.res,t),setTimeout(r.end)}(r)}catch(e){o=e}i(o)}});return{events:t,middleware:(t,n,i,o)=>{r.push(t),e[t.id]={req:t,res:n,next:i,end:o}},stream:r}}function H(){return(e,t,r,n)=>{const i=e.id,o=Object(x.a)();e.id=o,t.id=o,r(r=>{e.id=i,t.id=i,r()})}}class z extends D{constructor(){super(),this._middleware=[]}push(e){this._middleware.push(e)}handle(e,t){if(t&&\"function\"!=typeof t)throw new Error('\"callback\" must be a function if provided.');return Array.isArray(e)?t?this._handleBatch(e,t):this._handleBatch(e):t?this._handle(e,t):this._promiseHandle(e)}asMiddleware(){return(e,t,r,n)=>N(this,void 0,void 0,(function*(){try{const[i,o,a]=yield z._runAllMiddleware(e,t,this._middleware);return o?(yield z._runReturnHandlers(a),n(i)):r(e=>N(this,void 0,void 0,(function*(){try{yield z._runReturnHandlers(a)}catch(t){return e(t)}return e()})))}catch(e){return n(e)}}))}_handleBatch(e,t){return N(this,void 0,void 0,(function*(){try{const r=yield Promise.all(e.map(this._promiseHandle.bind(this)));return t?t(null,r):r}catch(e){if(t)return t(e);throw e}}))}_promiseHandle(e){return new Promise(t=>{this._handle(e,(e,r)=>{t(r)})})}_handle(e,t){return N(this,void 0,void 0,(function*(){if(!e||Array.isArray(e)||\"object\"!=typeof e){const e=new U({code:-32603,message:\"request must be plain object\"});return t(e,{id:void 0,jsonrpc:\"2.0\",error:e})}if(\"string\"!=typeof e.method){const r=new U({code:-32603,message:\"method must be string\"});return t(r,{id:e.id,jsonrpc:\"2.0\",error:r})}const r=Object.assign({},e),n={id:r.id,jsonrpc:r.jsonrpc};let i=null;try{yield this._processRequest(r,n)}catch(e){i=e}return i&&(delete n.result,n.error||(n.error=q(i))),t(i,n)}))}_processRequest(e,t){return N(this,void 0,void 0,(function*(){const[r,n,i]=yield z._runAllMiddleware(e,t,this._middleware);if(z._checkForCompletion(e,t,n),yield z._runReturnHandlers(i),r)throw r}))}static _runAllMiddleware(e,t,r){return N(this,void 0,void 0,(function*(){const n=[];let i=null,o=!1;for(const a of r)if([i,o]=yield z._runMiddleware(e,t,a,n),o)break;return[i,o,n.reverse()]}))}static _runMiddleware(e,t,r,n){return new Promise(i=>{const o=e=>{const r=e||t.error;r&&(t.error=q(r)),i([r,!0])},a=e=>{t.error?o(t.error):(e&&(\"function\"!=typeof e&&o(new U({code:-32603,message:\"JRPCEngine: 'next' return handlers must be functions\"})),n.push(e)),i([null,!1]))};try{r(e,t,a,o)}catch(e){o(e)}})}static _runReturnHandlers(e){return N(this,void 0,void 0,(function*(){for(const t of e)yield new Promise((e,r)=>{t(t=>t?r(t):e())})}))}static _checkForCompletion(e,t,r){if(!(\"result\"in t)&&!(\"error\"in t))throw new U({code:-32603,message:\"Response has no error or result for request\"});if(!r)throw new U({code:-32603,message:\"Nothing ended request\"})}}class W extends E.Duplex{constructor({parent:e,name:t}){super({objectMode:!0}),this._parent=e,this._name=t}_read(){}_write(e,t,r){this._parent.push({name:this._name,data:e}),r()}}const K=Symbol(\"IGNORE_SUBSTREAM\");class V extends E.Duplex{constructor(e={}){super(Object.assign(Object.assign({},e),{objectMode:!0})),this._substreams={}}createStream(e){if(!e)throw new Error(\"ObjectMultiplex - name must not be empty\");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name \"${e}\" already exists`);const t=new W({parent:this,name:e});return this._substreams[e]=t,function(e,t){const r=T()(t);O()(e,{readable:!1},r),O()(e,{writable:!1},r)}(this,e=>t.destroy(e||void 0)),t}ignoreStream(e){if(!e)throw new Error(\"ObjectMultiplex - name must not be empty\");if(this._substreams[e])throw new Error(`ObjectMultiplex - Substream for name \"${e}\" already exists`);this._substreams[e]=K}_read(){}_write(e,t,r){const{name:n,data:i}=e;if(!n)return window.console.warn(`ObjectMultiplex - malformed chunk without name \"${e}\"`),r();const o=this._substreams[n];return o?(o!==K&&o.push(i),r()):(window.console.warn(`ObjectMultiplex - orphaned data for stream \"${n}\"`),r())}}var G,X=r(108),J=r(105),Y=r.n(J),$={GOOGLE:\"google\",FACEBOOK:\"facebook\",TWITCH:\"twitch\",REDDIT:\"reddit\",DISCORD:\"discord\"},Z={MOONPAY:\"moonpay\",WYRE:\"wyre\",RAMPNETWORK:\"rampnetwork\",XANPOOL:\"xanpool\",MERCURYO:\"mercuryo\",TRANSAK:\"transak\"},Q={PRODUCTION:\"production\",DEVELOPMENT:\"development\",BINANCE:\"binance\",TESTING:\"testing\",LRC:\"lrc\",BETA:\"beta\"},ee={BOTTOM_LEFT:\"bottom-left\",TOP_LEFT:\"top-left\",BOTTOM_RIGHT:\"bottom-right\",TOP_RIGHT:\"top-right\"},te=(G={},h()(G,Z.RAMPNETWORK,{line1:\"Debit Card/ Apple Pay/ Bank transfer\",line2:\"0.49% - 2.9%\",line3:\"5,000â¬/purchase, 20,000â¬/mo\",supportPage:\"https://instant.ramp.network/\",minOrderValue:50,maxOrderValue:2e4,validCurrencies:[\"GBP\",\"EUR\",\"USD\"],validCryptoCurrencies:[\"ETH\",\"DAI\",\"USDC\",\"BSC_BNB\"],includeFees:!0,enforceMax:!1}),h()(G,Z.MOONPAY,{line1:\"Credit / Debit Card / Apple Pay\",line2:\"4.5% or 5 USD\",line3:\"2,000â¬/day, 10,000â¬/mo\",supportPage:\"https://help.moonpay.io/en/\",minOrderValue:24.99,maxOrderValue:5e4,validCurrencies:[\"USD\",\"EUR\",\"GBP\",\"AUD\",\"CAD\",\"SGD\",\"RUB\"],validCryptoCurrencies:[\"ETH\",\"DAI\",\"TUSD\",\"USDC\",\"USDT\",\"BNB_BSC\",\"BUSD_BSC\"],includeFees:!0,enforceMax:!1}),h()(G,Z.WYRE,{line1:\"Apple Pay/ Debit/ Credit Card\",line2:\"4.9% + 30Â¢ or 5 USD\",line3:\"$250/day\",supportPage:\"https://support.sendwyre.com/en/\",minOrderValue:5,maxOrderValue:500,validCurrencies:[\"USD\",\"AUD\",\"CAD\",\"GBP\",\"EUR\"],validCryptoCurrencies:[\"ETH\",\"DAI\",\"USDC\",\"USDT\"],includeFees:!1,enforceMax:!1}),h()(G,Z.XANPOOL,{line1:\"PayNow/ InstaPay/ FPS/ GoJekPay/ UPI/ PromptPay/ VietelPay/ DuitNow\",line2:\"2.5% buying, 3% selling\",line3:\"$2,500 / day\",supportPage:\"mailto:support@xanpool.com\",minOrderValue:100,maxOrderValue:2500,validCurrencies:[\"SGD\",\"HKD\",\"MYR\",\"PHP\",\"INR\",\"VND\",\"THB\",\"IDR\"],validCryptoCurrencies:[\"ETH\",\"USDT\"],includeFees:!0,sell:!0,enforceMax:!1}),h()(G,Z.MERCURYO,{line1:\"Credit/ Debit Card/ Apple Pay\",line2:\"3.95% or 4 USD\",line3:\"10,000â¬/day, 25,000â¬/mo\",supportPage:\"mailto:support@mercuryo.io\",minOrderValue:30,maxOrderValue:5e3,validCurrencies:[\"USD\",\"EUR\",\"RUB\",\"TRY\",\"GBP\",\"UAH\"],validCryptoCurrencies:[\"ETH\",\"DAI\",\"BAT\",\"USDT\",\"OKB\"],includeFees:!0,enforceMax:!1}),h()(G,Z.TRANSAK,{line1:\"Credit/ Debit Card/ <br/>Bank Transfer (sepa/gbp)\",line2:\"0.99% - 5.5% or 5 USD\",line3:\"500â¬/day\",supportPage:\"https://support.transak.com/hc/en-US\",minOrderValue:20,maxOrderValue:500,validCurrencies:[\"USD\",\"EUR\",\"GBP\",\"AUD\",\"CAD\",\"SGD\"],validCryptoCurrencies:[\"ETH\",\"DAI\",\"USDC\",\"USDT\"],includeFees:!0,enforceMax:!1}),G),re={supportedVerifierList:[$.GOOGLE,$.REDDIT,$.DISCORD],paymentProviders:te,api:\"https://api.tor.us\",translations:{en:{embed:{continue:\"Continue\",actionRequired:\"Authorization required\",pendingAction:\"Click continue to proceed with your request in a popup\",cookiesRequired:\"Cookies Required\",enableCookies:\"Please enable cookies in your browser preferences to access Torus\",clickHere:\"More Info\"}},de:{embed:{continue:\"Fortsetzen\",actionRequired:\"Autorisierung erforderlich\",pendingAction:\"Klicken Sie in einem Popup auf Weiter, um mit Ihrer Anfrage fortzufahren\",cookiesRequired:\"Cookies benÃ¶tigt\",enableCookies:\"Bitte aktivieren Sie Cookies in Ihren Browsereinstellungen, um auf Torus zuzugreifen\",clickHere:\"Mehr Info\"}},ja:{embed:{continue:\"ç¶ç¶ãã\",actionRequired:\"èªè¨¼ãå¿è¦ã§ã\",pendingAction:\"ç¶è¡ãã¯ãªãã¯ãã¦ããããã¢ããã§ãªã¯ã¨ã¹ããç¶è¡ãã¾ã\",cookiesRequired:\"å¿è¦ãªã¯ãã­ã¼\",enableCookies:\"Torusã«ã¢ã¯ã»ã¹ããã«ã¯ããã©ã¦ã¶ã®è¨­å®ã§Cookieãæå¹ã«ãã¦ãã ããã\",clickHere:\"è©³ããã¯\"}},ko:{embed:{continue:\"ê³ìíë¤\",actionRequired:\"ì¹ì¸ íì\",pendingAction:\"íììì ìì²­ì ì§ííë ¤ë©´ ê³ìì í´ë¦­íì­ìì¤.\",cookiesRequired:\"ì¿ í¤ íì\",enableCookies:\"ë¸ë¼ì°ì  íê²½ ì¤ì ìì ì¿ í¤ë¥¼ íì±ííì¬ Torusì ì¡ì¸ì¤íì­ìì¤.\",clickHere:\"ë ë§ì ì ë³´\"}},zh:{embed:{continue:\"ç»§ç»­\",actionRequired:\"éè¦ææ\",pendingAction:\"åå»ç»§ç»­ä»¥å¨å¼¹åºçªå£ä¸­ç»§ç»­æ¨çè¯·æ±\",cookiesRequired:\"å¿å¡«Cookie\",enableCookies:\"è¯·å¨æ¨çæµè§å¨é¦éé¡¹ä¸­å¯ç¨cookieä»¥è®¿é®Torusã\",clickHere:\"æ´å¤ä¿¡æ¯\"}}},prodTorusUrl:\"\",localStorageKey:\"torus-\".concat(window.location.hostname)},ne=function(e){return new Promise((function(t,r){null!=window.document.body?Promise.resolve(e()).then(t).catch(r):window.document.addEventListener(\"DOMContentLoaded\",(function(){Promise.resolve(e()).then(t).catch(r)}))}))},ie=function(e){var t=window.document.createElement(\"template\"),r=e.trim();return t.innerHTML=r,t.content.firstChild},oe=function(e,t,r){e.on(t,(function n(i){r(i),e.removeListener(t,n)}))},ae=r(53),se=r.n(ae),ue=r(8),ce=r.n(ue),fe=r(55),de=r.n(fe),he=r(38),le=r.n(he),pe=r(39),be=r.n(pe),ge=r(17),me=r.n(ge),ye=r(111),ve=r(33),we=r(203),_e=r.n(we);function Se(e){return null!==e&&\"object\"==typeof e&&\"function\"==typeof e.pipe}function Ee(e){return function(e){return Se(e)&&!1!==e.writable&&\"function\"==typeof e._write&&\"object\"==typeof e._writableState}(e)&&function(e){return Se(e)&&!1!==e.readable&&\"function\"==typeof e._read&&\"object\"==typeof e._readableState}(e)}var xe=r(70),ke=r.n(xe).a.getLogger(\"torus-embed\"),Ae={errors:{disconnected:function(){return\"Torus: Lost connection to Torus.\"},permanentlyDisconnected:function(){return\"Torus: Disconnected from iframe. Page reload required.\"},sendSiteMetadata:function(){return\"Torus: Failed to send site metadata. This is an internal error, please report this bug.\"},unsupportedSync:function(e){return\"Torus: The Torus Ethereum provider does not support synchronous methods like \".concat(e,\" without a callback parameter.\")},invalidDuplexStream:function(){return\"Must provide a Node.js-style duplex stream.\"},invalidOptions:function(e,t){return\"Invalid options. Received: { maxEventListeners: \".concat(e,\", shouldSendMetadata: \").concat(t,\" }\")},invalidRequestArgs:function(){return\"Expected a single, non-array, object argument.\"},invalidRequestMethod:function(){return\"'args.method' must be a non-empty string.\"},invalidRequestParams:function(){return\"'args.params' must be an object or array if provided.\"},invalidLoggerObject:function(){return\"'args.logger' must be an object if provided.\"},invalidLoggerMethod:function(e){return\"'args.logger' must include required method '\".concat(e,\"'.\")}},info:{connected:function(e){return'Torus: Connected to chain with ID \"'.concat(e,'\".')}},warnings:{enableDeprecation:'Torus: \"\"ethereum.enable()\" is deprecated and may be removed in the future. Please use \"ethereum.send(\"eth_requestAccounts\")\" instead. For more information, see: https://eips.ethereum.org/EIPS/eip-1102',sendDeprecation:'Torus: \"ethereum.send(...)\" is deprecated and may be removed in the future. Please use \"ethereum.sendAsync(...)\" or \"ethereum.request(...)\" instead.\\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193',events:{close:'Torus: The event \"close\" is deprecated and may be removed in the future. Please use \"disconnect\" instead.\\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193',data:'Torus: The event \"data\" is deprecated and will be removed in the future.Use \"message\" instead.\\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message',networkChanged:'Torus: The event \"networkChanged\" is deprecated and may be removed in the future. Please use \"chainChanged\" instead.\\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193',notification:'Torus: The event \"notification\" is deprecated and may be removed in the future. Please use \"message\" instead.\\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193'},publicConfigStore:'Torus: The property \"publicConfigStore\" is deprecated and WILL be removed in the future.'}},Me=r(204),Re=r.n(Me),Oe=r(71),Pe=re.paymentProviders;function Te(){return function(e,t,r){\"string\"==typeof e.method&&e.method||(t.error=ve.ethErrors.rpc.invalidRequest({message:\"The request 'method' must be a non-empty string.\",data:e})),r((function(e){var r=t.error;return r?(ke.error(\"MetaMask - RPC Error: \".concat(r.message),r),e()):e()}))}}function je(e,t,r){var n='MetaMask: Lost connection to \"'.concat(e,'\".');null!=t&&t.stack&&(n+=\"\\n\".concat(t.stack)),ke.warn(n),r&&r.listenerCount(\"error\")>0&&r.emit(\"error\",n)}var Ie=Re.a,Ce=function(){var e=f()(p.a.mark((function e(t,r){var n,i,o,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=r.version||Oe.b,e.prev=1,\"binance\"!==t&&\"production\"!==t||r.version){e.next=12;break}if(re.prodTorusUrl){e.next=9;break}return e.next=6,Object(S.get)(\"\".concat(re.api,\"/latestversion?name=\").concat(Oe.a,\"&version=\").concat(Oe.b),{},{useAPIKey:!0});case 6:a=e.sent,e.next=10;break;case 9:a={data:re.prodTorusUrl};case 10:o=a.data,re.prodTorusUrl=a.data;case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),ke.error(e.t0,\"unable to fetch latest version\");case 17:ke.info(\"version used: \",o),e.t1=t,e.next=\"binance\"===e.t1?21:\"testing\"===e.t1?24:\"lrc\"===e.t1?27:\"beta\"===e.t1?30:\"development\"===e.t1?33:36;break;case 21:return n=\"https://binance.tor.us/v\".concat(o),i=\"info\",e.abrupt(\"break\",39);case 24:return n=\"https://testing.tor.us\",i=\"debug\",e.abrupt(\"break\",39);case 27:return n=\"https://lrc.tor.us\",i=\"debug\",e.abrupt(\"break\",39);case 30:return n=\"https://beta.tor.us\",i=\"debug\",e.abrupt(\"break\",39);case 33:return n=\"http://localhost:4050\",i=\"debug\",e.abrupt(\"break\",39);case 36:return n=\"https://app.tor.us/v\".concat(o),i=\"error\",e.abrupt(\"break\",39);case 39:return e.abrupt(\"return\",{torusUrl:n,logLevel:i});case 40:case\"end\":return e.stop()}}),e,null,[[1,14]])})));return function(t,r){return e.apply(this,arguments)}}(),Be=function(){var e=window.navigator.language||\"en-US\",t=e.split(\"-\");return e=Object.prototype.hasOwnProperty.call(re.translations,t[0])?t[0]:\"en\"},Ne=[\"eth_subscription\"],Le=function(){},De=\"directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=660,width=375\",Ue=\"directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=700,width=450\";function qe(e,t){var r=\"undefined\"!=typeof Symbol&&e[Symbol.iterator]||e[\"@@iterator\"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if(\"string\"==typeof e)return Fe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);\"Object\"===r&&e.constructor&&(r=e.constructor.name);if(\"Map\"===r||\"Set\"===r)return Array.from(e);if(\"Arguments\"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fe(e,t)}(e))||t&&e&&\"number\"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var o,a=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}function Fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function He(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?He(Object(r),!0).forEach((function(t){h()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):He(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function We(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=me()(e);if(t){var i=me()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return be()(this,r)}}D.defaultMaxListeners=100;var Ke=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return function(n,i){return n||i.error?t(n||i.error):!r||Array.isArray(i)?e(i):e(i.result)}},Ve=function(e){le()(i,e);var t,r,n=We(i);function i(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=r.maxEventListeners,s=void 0===o?100:o,u=r.shouldSendMetadata,c=void 0===u||u,f=r.jsonRpcStreamName,d=void 0===f?\"provider\":f;if(a()(this,i),t=n.call(this),h()(ce()(t),\"chainId\",void 0),h()(ce()(t),\"selectedAddress\",void 0),h()(ce()(t),\"_state\",void 0),h()(ce()(t),\"_rpcEngine\",void 0),h()(ce()(t),\"_jsonRpcConnection\",void 0),h()(ce()(t),\"networkVersion\",void 0),h()(ce()(t),\"shouldSendMetadata\",void 0),h()(ce()(t),\"isTorus\",void 0),h()(ce()(t),\"_sentWarnings\",{enable:!1,experimentalMethods:!1,send:!1,publicConfigStore:!1,events:{close:!1,data:!1,networkChanged:!1,notification:!1}}),h()(ce()(t),\"_publicConfigStore\",void 0),h()(ce()(t),\"tryPreopenHandle\",void 0),h()(ce()(t),\"enable\",void 0),!Ee(e))throw new Error(Ae.errors.invalidDuplexStream());t.isTorus=!0,t.setMaxListeners(s),t._state=ze({},i._defaultState),t.selectedAddress=null,t.networkVersion=null,t.chainId=null,t.shouldSendMetadata=c,t._handleAccountsChanged=t._handleAccountsChanged.bind(ce()(t)),t._handleChainChanged=t._handleChainChanged.bind(ce()(t)),t._handleUnlockStateChanged=t._handleUnlockStateChanged.bind(ce()(t)),t._handleConnect=t._handleConnect.bind(ce()(t)),t._handleDisconnect=t._handleDisconnect.bind(ce()(t)),t._handleStreamDisconnect=t._handleStreamDisconnect.bind(ce()(t)),t._sendSync=t._sendSync.bind(ce()(t)),t._rpcRequest=t._rpcRequest.bind(ce()(t)),t._warnOfDeprecation=t._warnOfDeprecation.bind(ce()(t)),t._initializeState=t._initializeState.bind(ce()(t)),t.request=t.request.bind(ce()(t)),t.send=t.send.bind(ce()(t)),t.sendAsync=t.sendAsync.bind(ce()(t));var l=new V;I()(e,l,e,t._handleStreamDisconnect.bind(ce()(t),\"MetaMask\")),t._publicConfigStore=new ye.ObservableStore({storageKey:\"Metamask-Config\"}),I()(l.createStream(\"publicConfig\"),Object(ye.storeAsStream)(t._publicConfigStore),je.bind(ce()(t),\"MetaMask PublicConfigStore\")),l.ignoreStream(\"phishing\"),t.on(\"connect\",(function(){t._state.isConnected=!0}));var p=F();I()(p.stream,l.createStream(d),p.stream,t._handleStreamDisconnect.bind(ce()(t),\"MetaMask RpcProvider\"));var b=new z;return b.push(H()),b.push(Te()),b.push(p.middleware),t._rpcEngine=b,p.events.on(\"notification\",(function(e){var r=e.method,n=e.params;\"wallet_accountsChanged\"===r?t._handleAccountsChanged(n):\"wallet_unlockStateChanged\"===r?t._handleUnlockStateChanged(n):\"wallet_chainChanged\"===r?t._handleChainChanged(n):Ne.includes(e.method)&&(t.emit(\"data\",e),t.emit(\"notification\",n.result),t.emit(\"message\",{type:r,data:n}))})),t}return u()(i,[{key:\"publicConfigStore\",get:function(){return this._sentWarnings.publicConfigStore||(ke.warn(Ae.warnings.publicConfigStore),this._sentWarnings.publicConfigStore=!0),this._publicConfigStore}},{key:\"isConnected\",value:function(){return this._state.isConnected}},{key:\"request\",value:(r=f()(p.a.mark((function e(t){var r,n,i=this;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&\"object\"===se()(t)&&!Array.isArray(t)){e.next=2;break}throw ve.ethErrors.rpc.invalidRequest({message:Ae.errors.invalidRequestArgs(),data:t});case 2:if(r=t.method,n=t.params,\"string\"==typeof r&&0!==r.length){e.next=5;break}throw ve.ethErrors.rpc.invalidRequest({message:Ae.errors.invalidRequestMethod(),data:t});case 5:if(void 0===n||Array.isArray(n)||\"object\"===se()(n)&&null!==n){e.next=7;break}throw ve.ethErrors.rpc.invalidRequest({message:Ae.errors.invalidRequestParams(),data:t});case 7:return e.abrupt(\"return\",new Promise((function(e,t){i._rpcRequest({method:r,params:n},Ke(e,t))})));case 8:case\"end\":return e.stop()}}),e)}))),function(e){return r.apply(this,arguments)})},{key:\"sendAsync\",value:function(e,t){this._rpcRequest(e,t)}},{key:\"addListener\",value:function(e,t){return this._warnOfDeprecation(e),de()(me()(i.prototype),\"addListener\",this).call(this,e,t)}},{key:\"on\",value:function(e,t){return this._warnOfDeprecation(e),de()(me()(i.prototype),\"on\",this).call(this,e,t)}},{key:\"once\",value:function(e,t){return this._warnOfDeprecation(e),de()(me()(i.prototype),\"once\",this).call(this,e,t)}},{key:\"prependListener\",value:function(e,t){return this._warnOfDeprecation(e),de()(me()(i.prototype),\"prependListener\",this).call(this,e,t)}},{key:\"prependOnceListener\",value:function(e,t){return this._warnOfDeprecation(e),de()(me()(i.prototype),\"prependOnceListener\",this).call(this,e,t)}},{key:\"_initializeState\",value:(t=f()(p.a.mark((function e(){var t,r,n,i,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.request({method:\"wallet_getProviderState\"});case 3:t=e.sent,r=t.accounts,n=t.chainId,i=t.isUnlocked,o=t.networkVersion,this.emit(\"connect\",{chainId:n}),this._handleChainChanged({chainId:n,networkVersion:o}),this._handleUnlockStateChanged({accounts:r,isUnlocked:i}),this._handleAccountsChanged(r),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),ke.error(\"MetaMask: Failed to get initial state. Please report this bug.\",e.t0);case 17:return e.prev=17,ke.info(\"initialized state\"),this._state.initialized=!0,this.emit(\"_initialized\"),e.finish(17);case 22:case\"end\":return e.stop()}}),e,this,[[0,14,17,22]])}))),function(){return t.apply(this,arguments)})},{key:\"_rpcRequest\",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=t,o=e;if(!Array.isArray(o))if(o.jsonrpc||(o.jsonrpc=\"2.0\"),\"eth_accounts\"===o.method||\"eth_requestAccounts\"===o.method)i=function(e,i){r._handleAccountsChanged(i.result||[],\"eth_accounts\"===o.method,n),t(e,i)};else if(\"wallet_getProviderState\"===o.method)return void this._rpcEngine.handle(e,i);this.tryPreopenHandle(o,i)}},{key:\"_handleConnect\",value:function(e){this._state.isConnected||(this._state.isConnected=!0,this.emit(\"connect\",{chainId:e}),ke.debug(Ae.info.connected(e)))}},{key:\"_handleDisconnect\",value:function(e,t){var r;(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e)&&(this._state.isConnected=!1,e?(r=new ve.EthereumRpcError(1013,t||Ae.errors.disconnected()),ke.debug(r)):(r=new ve.EthereumRpcError(1011,t||Ae.errors.permanentlyDisconnected()),ke.error(r),this.chainId=null,this._state.accounts=null,this.selectedAddress=null,this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit(\"disconnect\",r))}},{key:\"_handleStreamDisconnect\",value:function(e,t){je(e,t,this),this._handleDisconnect(!1,t?t.message:void 0)}},{key:\"_handleAccountsChanged\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e;Array.isArray(n)||(ke.error(\"MetaMask: Received non-array accounts parameter. Please report this bug.\",n),n=[]);var i,o=qe(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(\"string\"!=typeof a){ke.error(\"MetaMask: Received non-string account. Please report this bug.\",e),n=[];break}}}catch(e){o.e(e)}finally{o.f()}_e()(this._state.accounts,n)||(t&&Array.isArray(this._state.accounts)&&this._state.accounts.length>0&&!r&&ke.error('MetaMask: \"eth_accounts\" unexpectedly updated accounts. Please report this bug.',n),this._state.accounts=n,this.emit(\"accountsChanged\",n)),this.selectedAddress!==n[0]&&(this.selectedAddress=n[0]||null)}},{key:\"_handleChainChanged\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.chainId,r=e.networkVersion;t&&r?\"loading\"===r?this._handleDisconnect(!0):(this._handleConnect(t),t!==this.chainId&&(this.chainId=t,this._state.initialized&&this.emit(\"chainChanged\",this.chainId))):ke.error(\"MetaMask: Received invalid network parameters. Please report this bug.\",{chainId:t,networkVersion:r})}},{key:\"_handleUnlockStateChanged\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.accounts,r=e.isUnlocked;\"boolean\"==typeof r?r!==this._state.isUnlocked&&(this._state.isUnlocked=r,this._handleAccountsChanged(t||[])):ke.error(\"MetaMask: Received invalid isUnlocked parameter. Please report this bug.\",{isUnlocked:r})}},{key:\"_warnOfDeprecation\",value:function(e){!1===this._sentWarnings.events[e]&&(ke.warn(Ae.warnings.events[e]),this._sentWarnings.events[e]=!0)}},{key:\"send\",value:function(e,t){var r=this;return this._sentWarnings.send||(ke.warn(Ae.warnings.sendDeprecation),this._sentWarnings.send=!0),\"string\"!=typeof e||t&&!Array.isArray(t)?e&&\"object\"===se()(e)&&\"function\"==typeof t?this._rpcRequest(e,t):this._sendSync(e):new Promise((function(n,i){try{r._rpcRequest({method:e,params:t},Ke(n,i,!1))}catch(e){i(e)}}))}},{key:\"_sendSync\",value:function(e){var t;switch(e.method){case\"eth_accounts\":t=this.selectedAddress?[this.selectedAddress]:[];break;case\"eth_coinbase\":t=this.selectedAddress||null;break;case\"eth_uninstallFilter\":this._rpcRequest(e,Le),t=!0;break;case\"net_version\":t=this.networkVersion||null;break;default:throw new Error(Ae.errors.unsupportedSync(e.method))}return{id:e.id,jsonrpc:e.jsonrpc,result:t}}}]),i}(D);h()(Ve,\"_defaultState\",{accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1,hasEmittedConnection:!1});var Ge=Ve,Xe=r(31),Je=r.n(Xe),Ye=function(e,t){var r={};return e.algorithms.forEach((function(e){r[e]=Je()(e).update(t,\"utf8\").digest(\"base64\")})),r},$e=function(e,t){var r=function(e){return{algorithms:e.algorithms||[\"sha256\"],delimiter:e.delimiter||\" \",full:e.full||!1}}(e),n={hashes:Ye(r,t),integrity:void 0};return n.integrity=function(e,t){var r=\"\";return r+=Object.keys(t.hashes).map((function(e){return\"\".concat(e,\"-\").concat(t.hashes[e])})).join(e.delimiter)}(r,n),r.full?n:n.integrity};function Ze(e){var t=function(){if(\"undefined\"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if(\"function\"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=me()(e);if(t){var i=me()(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return be()(this,r)}}var Qe=function(e){le()(r,e);var t=Ze(r);function r(e){var n,i,o,s,u,c,f,d=e.url,l=e.target,p=e.features;return a()(this,r),n=t.call(this),h()(ce()(n),\"url\",void 0),h()(ce()(n),\"target\",void 0),h()(ce()(n),\"features\",void 0),h()(ce()(n),\"window\",void 0),h()(ce()(n),\"windowTimer\",void 0),h()(ce()(n),\"iClosedWindow\",void 0),n.url=d,n.target=l||\"_blank\",n.features=p||(i=void 0!==window.screenLeft?window.screenLeft:window.screenX,o=void 0!==window.screenTop?window.screenTop:window.screenY,s=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,u=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,c=Math.abs((s-1200)/2/1+i),f=Math.abs((u-700)/2/1+o),\"titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=\".concat(700,\",width=\").concat(1200,\",top=\").concat(f,\",left=\").concat(c)),n.window=void 0,n.windowTimer=void 0,n.iClosedWindow=!1,n._setupTimer(),n}return u()(r,[{key:\"_setupTimer\",value:function(){var e=this;this.windowTimer=Number(setInterval((function(){e.window&&e.window.closed&&(clearInterval(e.windowTimer),e.iClosedWindow||e.emit(\"close\"),e.iClosedWindow=!1,e.window=void 0),void 0===e.window&&clearInterval(e.windowTimer)}),500))}},{key:\"open\",value:function(){var e;return this.window=window.open(this.url.href,this.target,this.features),null!==(e=this.window)&&void 0!==e&&e.focus&&this.window.focus(),Promise.resolve()}},{key:\"close\",value:function(){this.iClosedWindow=!0,this.window&&this.window.close()}},{key:\"redirect\",value:function(e){e?window.location.replace(this.url.href):window.location.href=this.url.href}}]),r}(k.EventEmitter);function et(e){return new Promise((function(t,r){try{var n=document.createElement(\"img\");n.onload=function(){return t(!0)},n.onerror=function(){return t(!1)},n.src=e}catch(e){r(e)}}))}var tt=function(e){var t=e.document,r=t.querySelector('head > meta[property=\"og:site_name\"]');if(r)return r.content;var n=t.querySelector('head > meta[name=\"title\"]');return n?n.content:t.title&&t.title.length>0?t.title:e.location.hostname};function rt(e){return nt.apply(this,arguments)}function nt(){return(nt=f()(p.a.mark((function e(t){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.document,n=r.querySelector('head > link[rel=\"shortcut icon\"]'),e.t0=n,!e.t0){e.next=7;break}return e.next=6,et(n.href);case 6:e.t0=e.sent;case 7:if(!e.t0){e.next=9;break}return e.abrupt(\"return\",n.href);case 9:if(n=Array.from(r.querySelectorAll('head > link[rel=\"icon\"]')).find((function(e){return Boolean(e.href)})),e.t1=n,!e.t1){e.next=15;break}return e.next=14,et(n.href);case 14:e.t1=e.sent;case 15:if(!e.t1){e.next=17;break}return e.abrupt(\"return\",n.href);case 17:return e.abrupt(\"return\",null);case 18:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}var it=function(){var e=f()(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=tt(window),e.next=3,rt(window);case 3:return e.t1=e.sent,e.abrupt(\"return\",{name:e.t0,icon:e.t1});case 5:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function ot(){return(ot=f()(p.a.mark((function e(t){var r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,it();case 3:r=e.sent,t.handle({jsonrpc:\"2.0\",id:Ie(),method:\"wallet_sendDomainMetadata\",params:r},Le),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),ke.error({message:Ae.errors.sendSiteMetadata(),originalError:e.t0});case 10:case\"end\":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var at,st=[\"host\",\"chainId\",\"networkName\"],ut=[\"host\",\"chainId\",\"networkName\"];function ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(r),!0).forEach((function(t){h()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ct(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var dt,ht=(at={},h()(at,$.GOOGLE,!0),h()(at,$.FACEBOOK,!0),h()(at,$.REDDIT,!0),h()(at,$.TWITCH,!0),h()(at,$.DISCORD,!0),at),lt=\"sha384-UqF/BnlVpnk4s2tg954swPOCTdPeny0d3w9dCNRwwutPSHToLPFwDXi8mkF0PwgF\",pt=[\"eth_sendTransaction\",\"eth_signTypedData\",\"eth_signTypedData_v3\",\"eth_signTypedData_v4\",\"personal_sign\",\"eth_getEncryptionPublicKey\",\"eth_decrypt\"],bt=function(e){var t;try{t=window[e];var r=\"__storage_test__\";return t.setItem(r,r),t.removeItem(r),!0}catch(e){return e&&(22===e.code||1014===e.code||\"QuotaExceededError\"===e.name||\"NS_ERROR_DOM_QUOTA_REACHED\"===e.name)&&t&&0!==t.length}}(\"localStorage\");(dt=f()(p.a.mark((function e(){var t,r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,\"undefined\"!=typeof document){e.next=3;break}return e.abrupt(\"return\");case 3:return t=document.createElement(\"link\"),e.next=6,Ce(\"production\",{check:!1,hash:lt,version:\"\"});case 6:r=e.sent,n=r.torusUrl,t.href=\"\".concat(n,\"/popup\"),t.crossOrigin=\"anonymous\",t.type=\"text/html\",t.rel=\"prefetch\",t.relList&&t.relList.supports&&t.relList.supports(\"prefetch\")&&document.head.appendChild(t),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),ke.warn(e.t0);case 18:case\"end\":return e.stop()}}),e,null,[[0,15]])}))),function(){return dt.apply(this,arguments)})();var gt=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.buttonPosition,n=void 0===r?ee.BOTTOM_LEFT:r,i=t.modalZIndex,o=void 0===i?99999:i,s=t.apiKey,u=void 0===s?\"torus-default\":s;a()(this,e),h()(this,\"buttonPosition\",ee.BOTTOM_LEFT),h()(this,\"torusUrl\",void 0),h()(this,\"torusIframe\",void 0),h()(this,\"styleLink\",void 0),h()(this,\"isLoggedIn\",void 0),h()(this,\"isInitialized\",void 0),h()(this,\"torusWidgetVisibility\",void 0),h()(this,\"torusAlert\",void 0),h()(this,\"nodeDetailManager\",void 0),h()(this,\"torusJs\",void 0),h()(this,\"apiKey\",void 0),h()(this,\"modalZIndex\",void 0),h()(this,\"alertZIndex\",void 0),h()(this,\"torusAlertContainer\",void 0),h()(this,\"isIframeFullScreen\",void 0),h()(this,\"whiteLabel\",void 0),h()(this,\"requestedVerifier\",void 0),h()(this,\"currentVerifier\",void 0),h()(this,\"embedTranslations\",void 0),h()(this,\"ethereum\",void 0),h()(this,\"provider\",void 0),h()(this,\"communicationMux\",void 0),h()(this,\"isLoginCallback\",void 0),h()(this,\"dappStorageKey\",void 0),h()(this,\"paymentProviders\",re.paymentProviders),this.buttonPosition=n,this.torusUrl=\"\",this.isLoggedIn=!1,this.isInitialized=!1,this.torusWidgetVisibility=!0,this.requestedVerifier=\"\",this.currentVerifier=\"\",this.nodeDetailManager=new _,this.torusJs=new X.a({metadataHost:\"https://metadata.tor.us\",allowHost:\"https://signer.tor.us/api/allow\"}),this.apiKey=u,X.a.setAPIKey(u),Object(S.setAPIKey)(u),this.modalZIndex=o,this.alertZIndex=o+1e3,this.isIframeFullScreen=!1,this.dappStorageKey=\"\"}var t,r,n;return u()(e,[{key:\"init\",value:(n=f()(p.a.mark((function e(){var t,r,n,i,o,a,s,u,c,d,h,l,b,g,m,y,v,w,_,S,E,x,k,A,M,R,O,P,T,j,I,C,B,N,L,D,U,q,F,H,z,W=this,K=arguments;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=K.length>0&&void 0!==K[0]?K[0]:{},r=t.buildEnv,n=void 0===r?Q.PRODUCTION:r,i=t.enableLogging,o=void 0!==i&&i,a=t.enabledVerifiers,s=void 0===a?ht:a,u=t.network,c=void 0===u?{host:\"mainnet\",chainId:null,networkName:\"\",blockExplorer:\"\",ticker:\"\",tickerName:\"\"}:u,d=t.loginConfig,h=void 0===d?{}:d,l=t.showTorusButton,b=void 0===l||l,g=t.integrity,m=void 0===g?{check:!1,hash:lt,version:\"\"}:g,y=t.whiteLabel,v=t.skipTKey,w=void 0!==v&&v,_=t.useLocalStorage,S=void 0!==_&&_,!this.isInitialized){e.next=3;break}throw new Error(\"Already initialized\");case 3:return e.next=5,Ce(n,m);case 5:if(E=e.sent,x=E.torusUrl,k=E.logLevel,ke.info(x,\"url loaded\"),this.torusUrl=x,this.whiteLabel=y,ke.setDefaultLevel(k),o?ke.enableAll():ke.disableAll(),this.torusWidgetVisibility=b,A=\"\",bt&&S&&((M=window.localStorage.getItem(re.localStorageKey))?A=M:(R=\"torus-app-\".concat(Ie()),window.localStorage.setItem(re.localStorageKey,R),A=R)),this.dappStorageKey=A,(O=new URL(x)).pathname.endsWith(\"/\")?O.pathname+=\"popup\":O.pathname+=\"/popup\",A&&(O.hash=\"#dappStorageKey=\".concat(A)),this.torusIframe=ie('<iframe\\n        id=\"torusIframe\"\\n        class=\"torusIframe\"\\n        src=\"'.concat(O.href,'\"\\n        style=\"display: none; position: fixed; top: 0; right: 0; width: 100%;\\n        height: 100%; border: none; border-radius: 0; z-index: ').concat(this.modalZIndex,'\"\\n      ></iframe>')),this.torusAlertContainer=ie('<div id=\"torusAlertContainer\"></div>'),this.torusAlertContainer.style.display=\"none\",this.torusAlertContainer.style.setProperty(\"z-index\",this.alertZIndex.toString()),(P=window.document.createElement(\"link\")).setAttribute(\"rel\",\"stylesheet\"),P.setAttribute(\"type\",\"text/css\"),P.setAttribute(\"href\",\"\".concat(x,\"/css/widget.css\")),this.styleLink=P,T=this.whiteLabel||{},j=T.defaultLanguage,I=void 0===j?Be():j,C=T.customTranslations,B=void 0===C?{}:C,N=Y()(re.translations,B),L=N[I]||re.translations[Be()],this.embedTranslations=L.embed,D=function(){window.document.head.appendChild(W.styleLink),window.document.body.appendChild(W.torusIframe),window.document.body.appendChild(W.torusAlertContainer),W.torusIframe.onload=function(){W.isIframeFullScreen||W._displayIframe()}},U=function(){var e=f()(p.a.mark((function e(){var t,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(D);case 2:return e.next=4,ne(W._setupWeb3.bind(W));case 4:return t=W.communicationMux.getStream(\"init_stream\"),r=new Promise((function(e,r){t.on(\"data\",(function(t){var n=t.name,i=t.data,o=t.error;\"init_complete\"===n&&i.success?e(void 0):o&&r(new Error(o))}))})),e.next=8,ne(f()(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.write({name:\"init_stream\",data:{enabledVerifiers:s,loginConfig:h,whiteLabel:W.whiteLabel,buttonPosition:W.buttonPosition,torusWidgetVisibility:W.torusWidgetVisibility,apiKey:W.apiKey,skipTKey:w}}),e.next=3,W._setProvider(c);case 3:return e.next=5,r;case 5:W.isInitialized=!0;case 6:case\"end\":return e.stop()}}),e)}))));case 8:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),\"production\"!==n||!m.check){e.next=56;break}return q=\"\".concat(x,\"/popup\"),e.next=39,fetch(q,{cache:\"reload\"});case 39:if(\"max-age=3600\"===(F=e.sent).headers.get(\"Cache-Control\")){e.next=42;break}throw new Error(\"Unexpected Cache-Control headers, got \".concat(F.headers.get(\"Cache-Control\")));case 42:return e.next=44,F.text();case 44:if(H=e.sent,z=$e({algorithms:[\"sha384\"]},H),ke.info(z,\"integrity\"),z!==m.hash){e.next=52;break}return e.next=50,U();case 50:e.next=54;break;case 52:throw this.clearInit(),new Error(\"Integrity check failed\");case 54:e.next=58;break;case 56:return e.next=58,U();case 58:return e.abrupt(\"return\",void 0);case 59:case\"end\":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:\"login\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.verifier,r=void 0===t?\"\":t;if(!this.isInitialized)throw new Error(\"Call init() first\");return this.requestedVerifier=r,this.ethereum.enable()}},{key:\"logout\",value:function(){var e=this;return new Promise((function(t,r){if(e.isLoggedIn){e.communicationMux.getStream(\"logout\").write({name:\"logOut\"});var n=e.communicationMux.getStream(\"status\");oe(n,\"data\",(function(n){n.loggedIn?r(new Error(\"Some Error Occured\")):(e.isLoggedIn=!1,e.currentVerifier=\"\",e.requestedVerifier=\"\",t())}))}else r(new Error(\"User has not logged in yet\"))}))}},{key:\"cleanUp\",value:(r=f()(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isLoggedIn){e.next=3;break}return e.next=3,this.logout();case 3:this.clearInit();case 4:case\"end\":return e.stop()}}),e,this)}))),function(){return r.apply(this,arguments)})},{key:\"clearInit\",value:function(){function e(e){return e instanceof Element||e instanceof HTMLDocument}e(this.styleLink)&&window.document.body.contains(this.styleLink)&&(this.styleLink.remove(),this.styleLink=void 0),e(this.torusIframe)&&window.document.body.contains(this.torusIframe)&&(this.torusIframe.remove(),this.torusIframe=void 0),e(this.torusAlertContainer)&&window.document.body.contains(this.torusAlertContainer)&&(this.torusAlert=void 0,this.torusAlertContainer.remove(),this.torusAlertContainer=void 0),this.isInitialized=!1}},{key:\"_createPopupBlockAlert\",value:function(e,t){var r=this,n=this._getLogoUrl(),i=ie('<div id=\"torusAlert\" class=\"torus-alert--v2\">'+'<div id=\"torusAlert__logo\"><img src=\"'.concat(n,'\" /></div>')+\"<div>\"+'<h1 id=\"torusAlert__title\">'.concat(this.embedTranslations.actionRequired,\"</h1>\")+'<p id=\"torusAlert__desc\">'.concat(this.embedTranslations.pendingAction,\"</p>\")+\"</div></div>\"),o=ie('<div><a id=\"torusAlert__btn\">'.concat(this.embedTranslations.continue,\"</a></div>\")),a=ie('<div id=\"torusAlert__btn-container\"></div>');a.appendChild(o),i.appendChild(a);this._setEmbedWhiteLabel(i);ne((function(){r.torusAlertContainer.style.display=\"block\",r.torusAlertContainer.appendChild(i)})),ne((function(){o.addEventListener(\"click\",(function(){r._handleWindow(e,{url:t,target:\"_blank\",features:Ue}),i.remove(),0===r.torusAlertContainer.children.length&&(r.torusAlertContainer.style.display=\"none\")}))}))}},{key:\"_sendWidgetVisibilityStatus\",value:function(e){this.communicationMux.getStream(\"torus-widget-visibility\").write({data:e})}},{key:\"hideTorusButton\",value:function(){this.torusWidgetVisibility=!1,this._sendWidgetVisibilityStatus(!1),this._displayIframe()}},{key:\"showTorusButton\",value:function(){this.torusWidgetVisibility=!0,this._sendWidgetVisibilityStatus(!0),this._displayIframe()}},{key:\"_displayIframe\",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={};if(e)t.display=\"block\",t.width=\"100%\",t.height=\"100%\",t.top=\"0px\",t.right=\"0px\",t.left=\"0px\",t.bottom=\"0px\";else switch(t.display=this.torusWidgetVisibility?\"block\":\"none\",t.height=\"70px\",t.width=\"70px\",this.buttonPosition){case ee.TOP_LEFT:t.top=\"0px\",t.left=\"0px\",t.right=\"auto\",t.bottom=\"auto\";break;case ee.TOP_RIGHT:t.top=\"0px\",t.right=\"0px\",t.left=\"auto\",t.bottom=\"auto\";break;case ee.BOTTOM_RIGHT:t.bottom=\"0px\",t.right=\"0px\",t.top=\"auto\",t.left=\"auto\";break;case ee.BOTTOM_LEFT:default:t.bottom=\"0px\",t.left=\"0px\",t.top=\"auto\",t.right=\"auto\"}Object.assign(this.torusIframe.style,t),this.isIframeFullScreen=e}},{key:\"_setupWeb3\",value:function(){var e=this;ke.info(\"setupWeb3 running\");var t=new B({name:\"embed_metamask\",target:\"iframe_metamask\",targetWindow:this.torusIframe.contentWindow}),r=new B({name:\"embed_comm\",target:\"iframe_comm\",targetWindow:this.torusIframe.contentWindow}),n=new Ge(t),i=function(e){var t=n[e];n[e]=function(e){if(e&&\"eth_requestAccounts\"===e)return n.enable();for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.apply(this,[e].concat(i))}};i(\"send\"),i(\"sendAsync\"),n.enable=function(){return new Promise((function(t,r){n.sendAsync({jsonrpc:\"2.0\",id:Ie(),method:\"eth_requestAccounts\",params:[]},(function(n,i){var o=(i||{}).result;if(n)setTimeout((function(){r(n)}),50);else if(Array.isArray(o)&&o.length>0){var a=function(){if(\"\"!==e.requestedVerifier&&e.currentVerifier!==e.requestedVerifier){var n=e.requestedVerifier;e.logout().then((function(i){e.requestedVerifier=n,e._showLoginPopup(!0,t,r)})).catch((function(e){return r(e)}))}else t(o)};e.isLoggedIn?a():e.isLoginCallback=a}else e._showLoginPopup(!0,t,r)}))}))},n.tryPreopenHandle=function(t,r){var i=t;if(!Array.isArray(i)&&pt.includes(i.method)){var o=Ie();e._handleWindow(o,{target:\"_blank\",features:Ue}),i.preopenInstanceId=o}n._rpcEngine.handle(i,r)};var o=new Proxy(n,{deleteProperty:function(){return!0}});this.ethereum=o;var a=function(e){const t=new V;return t.getStream=function(e){return this._substreams[e]?this._substreams[e]:this.createStream(e)},I()(e,t,e,e=>{e&&window.console.error(e)}),t}(r);this.communicationMux=a,a.getStream(\"window\").on(\"data\",(function(t){\"create_window\"===t.name&&e._createPopupBlockAlert(t.data.preopenInstanceId,t.data.url)})),a.getStream(\"widget\").on(\"data\",(function(t){var r=t.data;e._displayIframe(r)})),a.getStream(\"status\").on(\"data\",(function(t){t.loggedIn?(e.isLoggedIn=t.loggedIn,e.currentVerifier=t.verifier):e._displayIframe(),e.isLoginCallback&&(e.isLoginCallback(),delete e.isLoginCallback)})),this.provider=o,this.provider.shouldSendMetadata&&function(e){ot.apply(this,arguments)}(this.provider._rpcEngine),n._initializeState(),ke.debug(\"Torus - injected provider\")}},{key:\"_showLoginPopup\",value:function(e,t,r){var n=this,i=function(e){var i=e.err,o=e.selectedAddress;i?(ke.error(i),r&&r(i)):t&&t([o]),n.isIframeFullScreen&&n._displayIframe()},o=this.communicationMux.getStream(\"oauth\");if(this.requestedVerifier){oe(o,\"data\",i);var a=Ie();this._handleWindow(a),o.write({name:\"oauth\",data:{calledFromEmbed:e,verifier:this.requestedVerifier,preopenInstanceId:a}})}else this._displayIframe(!0),oe(o,\"data\",i),o.write({name:\"oauth_modal\",data:{calledFromEmbed:e}})}},{key:\"setProvider\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.host,n=void 0===r?\"mainnet\":r,o=t.chainId,a=void 0===o?null:o,s=t.networkName,u=void 0===s?\"\":s,c=i()(t,st);return new Promise((function(t,r){var i=e.communicationMux.getStream(\"provider_change\");oe(i,\"data\",(function(e){var n=e.data,i=n.err,o=n.success;ke.info(e),i?r(i):o?t():r(new Error(\"some error occured\"))}));var o=Ie();e._handleWindow(o,{target:\"_blank\",features:De}),i.write({name:\"show_provider_change\",data:{network:ft({host:n,chainId:a,networkName:u},c),preopenInstanceId:o,override:!1}})}))}},{key:\"_setProvider\",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.host,n=void 0===r?\"mainnet\":r,o=t.chainId,a=void 0===o?null:o,s=t.networkName,u=void 0===s?\"\":s,c=i()(t,ut);return new Promise((function(t,r){if(e.isInitialized)r(new Error(\"Already initialized\"));else{var i=e.communicationMux.getStream(\"provider_change\");oe(i,\"data\",(function(e){ke.info(e);var n=e.data,i=n.err,o=n.success;i?r(i):o?t():r(new Error(\"some error occured\"))})),i.write({name:\"show_provider_change\",data:{network:ft({host:n,chainId:a,networkName:u},c),override:!0}})}}))}},{key:\"showWallet\",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.communicationMux.getStream(\"show_wallet\"),i=e?\"/\".concat(e):\"\";n.write({name:\"show_wallet\",data:{path:i}});var o=function(e){if(\"show_wallet_instance\"===e.name){var n=e.data.instanceId,o=new URL(\"\".concat(t.torusUrl,\"/wallet\").concat(i));o.searchParams.append(\"integrity\",\"true\"),o.searchParams.append(\"instanceId\",n),Object.keys(r).forEach((function(e){o.searchParams.append(e,r[e])})),t.dappStorageKey&&(o.hash=\"#dappStorageKey=\".concat(t.dappStorageKey)),new Qe({url:o,features:\"directories=0,titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=740,width=1315\"}).open()}};oe(n,\"data\",o)}},{key:\"getPublicAddress\",value:(t=f()(p.a.mark((function e(t){var r,n,i,o,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.verifier,n=t.verifierId,i=t.isExtended,o=void 0!==i&&i,re.supportedVerifierList.includes(r)){e.next=3;break}throw new Error(\"Unsupported verifier\");case 3:return e.next=5,this.nodeDetailManager.getNodeDetails(!1,!0);case 5:return a=e.sent,e.abrupt(\"return\",this.torusJs.getPublicAddress(a.torusNodeEndpoints,a.torusNodePub,{verifier:r,verifierId:n},o));case 7:case\"end\":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:\"getUserInfo\",value:function(e){var t=this;return new Promise((function(r,n){if(t.isLoggedIn){var i=t.communicationMux.getStream(\"user_info_access\");i.write({name:\"user_info_access_request\"});oe(i,\"data\",(function(i){var o=i.name,a=i.data,s=a.approved,u=a.payload,c=a.rejected,f=a.newRequest;if(\"user_info_access_response\"===o)if(s)r(u);else if(c)n(new Error(\"User rejected the request\"));else if(f){var d=t.communicationMux.getStream(\"user_info\");oe(d,\"data\",(function(e){\"user_info_response\"===e.name&&(e.data.approved?r(e.data.payload):n(new Error(\"User rejected the request\")))}));var h=Ie();t._handleWindow(h,{target:\"_blank\",features:De}),d.write({name:\"user_info_request\",data:{message:e,preopenInstanceId:h}})}}))}else n(new Error(\"User has not logged in yet\"))}))}},{key:\"_handleWindow\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.url,n=t.target,i=t.features;if(e){var o=this.communicationMux.getStream(\"window\"),a=new URL(r||\"\".concat(this.torusUrl,\"/redirect?preopenInstanceId=\").concat(e));this.dappStorageKey&&(a.hash?a.hash+=\"&dappStorageKey=\".concat(this.dappStorageKey):a.hash=\"#dappStorageKey=\".concat(this.dappStorageKey));var s=new Qe({url:a,target:n,features:i});if(s.open(),!s.window)return void this._createPopupBlockAlert(e,a.href);o.write({name:\"opened_window\",data:{preopenInstanceId:e}});var u=function t(r){var n=r.preopenInstanceId,i=r.close;n===e&&i&&(s.close(),o.removeListener(\"data\",t))};o.on(\"data\",u),s.once(\"close\",(function(){o.write({data:{preopenInstanceId:e,closed:!0}}),o.removeListener(\"data\",u)}))}}},{key:\"initiateTopup\",value:function(e,t){var r=this;return new Promise((function(n,i){if(r.isInitialized){var o=function(e,t){var r={};if(!e)return{errors:r,isValid:!0};if(e&&!Pe[e])return r.provider=\"Invalid Provider\",{errors:r,isValid:0===Object.keys(r).length};var n=Pe[e],i=t||{};if(i.fiatValue){var o=+parseFloat(i.fiatValue.toString())||0;o<n.minOrderValue&&(r.fiatValue=\"Requested amount is lower than supported\"),o>n.maxOrderValue&&n.enforceMax&&(r.fiatValue=\"Requested amount is higher than supported\")}return i.selectedCurrency&&!n.validCurrencies.includes(i.selectedCurrency)&&(r.selectedCurrency=\"Unsupported currency\"),i.selectedCryptoCurrency&&!n.validCryptoCurrencies.includes(i.selectedCryptoCurrency)&&(r.selectedCryptoCurrency=\"Unsupported cryptoCurrency\"),{errors:r,isValid:0===Object.keys(r).length}}(e,t),a=o.errors;if(!o.isValid)return void i(new Error(JSON.stringify(a)));var s=r.communicationMux.getStream(\"topup\");oe(s,\"data\",(function(e){\"topup_response\"===e.name&&(e.data.success?n(e.data.success):i(new Error(e.data.error)))}));var u=Ie();r._handleWindow(u),s.write({name:\"topup_request\",data:{provider:e,params:t,preopenInstanceId:u}})}else i(new Error(\"Torus is not initialized yet\"))}))}},{key:\"_setEmbedWhiteLabel\",value:function(e){var t=(this.whiteLabel||{}).theme;if(t){var r=t.isDark,n=void 0!==r&&r,i=t.colors,o=void 0===i?{}:i;n&&e.classList.add(\"torus-dark\"),o.torusBrand1&&e.style.setProperty(\"--torus-brand-1\",o.torusBrand1),o.torusGray2&&e.style.setProperty(\"--torus-gray-2\",o.torusGray2)}}},{key:\"_getLogoUrl\",value:function(){var e,t,r,n,i=\"\".concat(this.torusUrl,\"/images/torus_icon-blue.svg\");null!==(e=this.whiteLabel)&&void 0!==e&&null!==(t=e.theme)&&void 0!==t&&t.isDark?i=(null===(r=this.whiteLabel)||void 0===r?void 0:r.logoLight)||i:i=(null===(n=this.whiteLabel)||void 0===n?void 0:n.logoDark)||i;return i}}]),e}()},function(e,t,r){\"use strict\";r.r(t),r.d(t,\"TransactionTypes\",(function(){return y})),r.d(t,\"computeAddress\",(function(){return E})),r.d(t,\"recoverAddress\",(function(){return x})),r.d(t,\"accessListify\",(function(){return M})),r.d(t,\"serialize\",(function(){return T})),r.d(t,\"parse\",(function(){return I}));var n=r(24),i=r(34),o=r(0),a=r(380),s=r(16),u=r(10),c=r(25),f=r(198),d=r(4);const h=new d.a(\"signing-key/5.4.0\");let l=null;function p(){return l||(l=new f.a(\"secp256k1\")),l}class b{constructor(e){Object(u.c)(this,\"curve\",\"secp256k1\"),Object(u.c)(this,\"privateKey\",Object(o.g)(e));const t=p().keyFromPrivate(Object(o.a)(this.privateKey));Object(u.c)(this,\"publicKey\",\"0x\"+t.getPublic(!1,\"hex\")),Object(u.c)(this,\"compressedPublicKey\",\"0x\"+t.getPublic(!0,\"hex\")),Object(u.c)(this,\"_isSigningKey\",!0)}_addPoint(e){const t=p().keyFromPublic(Object(o.a)(this.publicKey)),r=p().keyFromPublic(Object(o.a)(e));return\"0x\"+t.pub.add(r.pub).encodeCompressed(\"hex\")}signDigest(e){const t=p().keyFromPrivate(Object(o.a)(this.privateKey)),r=Object(o.a)(e);32!==r.length&&h.throwArgumentError(\"bad digest length\",\"digest\",e);const n=t.sign(r,{canonical:!0});return Object(o.k)({recoveryParam:n.recoveryParam,r:Object(o.f)(\"0x\"+n.r.toString(16),32),s:Object(o.f)(\"0x\"+n.s.toString(16),32)})}computeSharedSecret(e){const t=p().keyFromPrivate(Object(o.a)(this.privateKey)),r=p().keyFromPublic(Object(o.a)(g(e)));return Object(o.f)(\"0x\"+t.derive(r.getPublic()).toString(16),32)}static isSigningKey(e){return!(!e||!e._isSigningKey)}}function g(e,t){const r=Object(o.a)(e);if(32===r.length){const e=new b(r);return t?\"0x\"+p().keyFromPrivate(r).getPublic(!0,\"hex\"):e.publicKey}return 33===r.length?t?Object(o.g)(r):\"0x\"+p().keyFromPublic(r).getPublic(!1,\"hex\"):65===r.length?t?\"0x\"+p().keyFromPublic(r).getPublic(!0,\"hex\"):Object(o.g)(r):h.throwArgumentError(\"invalid public or private key\",\"key\",\"[REDACTED]\")}const m=new d.a(\"transactions/5.4.0\");var y;function v(e){return\"0x\"===e?null:Object(n.a)(e)}function w(e){return\"0x\"===e?a.d:i.a.from(e)}!function(e){e[e.legacy=0]=\"legacy\",e[e.eip2930=1]=\"eip2930\",e[e.eip1559=2]=\"eip1559\"}(y||(y={}));const _=[{name:\"nonce\",maxLength:32,numeric:!0},{name:\"gasPrice\",maxLength:32,numeric:!0},{name:\"gasLimit\",maxLength:32,numeric:!0},{name:\"to\",length:20},{name:\"value\",maxLength:32,numeric:!0},{name:\"data\"}],S={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function E(e){const t=g(e);return Object(n.a)(Object(o.e)(Object(s.a)(Object(o.e)(t,1)),12))}function x(e,t){return E(function(e,t){const r=Object(o.k)(t),n={r:Object(o.a)(r.r),s:Object(o.a)(r.s)};return\"0x\"+p().recoverPubKey(Object(o.a)(e),n,r.recoveryParam).encode(\"hex\",!1)}(Object(o.a)(e),t))}function k(e,t){const r=Object(o.l)(i.a.from(e).toHexString());return r.length>32&&m.throwArgumentError(\"invalid length for \"+t,\"transaction:\"+t,e),r}function A(e,t){return{address:Object(n.a)(e),storageKeys:(t||[]).map((t,r)=>(32!==Object(o.d)(t)&&m.throwArgumentError(\"invalid access list storageKey\",`accessList[${e}:${r}]`,t),t.toLowerCase()))}}function M(e){if(Array.isArray(e))return e.map((e,t)=>Array.isArray(e)?(e.length>2&&m.throwArgumentError(\"access list expected to be [ address, storageKeys[] ]\",`value[${t}]`,e),A(e[0],e[1])):A(e.address,e.storageKeys));const t=Object.keys(e).map(t=>{const r=e[t].reduce((e,t)=>(e[t]=!0,e),{});return A(t,Object.keys(r).sort())});return t.sort((e,t)=>e.address.localeCompare(t.address)),t}function R(e){return M(e).map(e=>[e.address,e.storageKeys])}function O(e,t){if(null!=e.gasPrice){const t=i.a.from(e.gasPrice),r=i.a.from(e.maxFeePerGas||0);t.eq(r)||m.throwArgumentError(\"mismatch EIP-1559 gasPrice != maxFeePerGas\",\"tx\",{gasPrice:t,maxFeePerGas:r})}const r=[k(e.chainId||0,\"chainId\"),k(e.nonce||0,\"nonce\"),k(e.maxPriorityFeePerGas||0,\"maxPriorityFeePerGas\"),k(e.maxFeePerGas||0,\"maxFeePerGas\"),k(e.gasLimit||0,\"gasLimit\"),null!=e.to?Object(n.a)(e.to):\"0x\",k(e.value||0,\"value\"),e.data||\"0x\",R(e.accessList||[])];if(t){const e=Object(o.k)(t);r.push(k(e.recoveryParam,\"recoveryParam\")),r.push(Object(o.l)(e.r)),r.push(Object(o.l)(e.s))}return Object(o.c)([\"0x02\",c.b(r)])}function P(e,t){const r=[k(e.chainId||0,\"chainId\"),k(e.nonce||0,\"nonce\"),k(e.gasPrice||0,\"gasPrice\"),k(e.gasLimit||0,\"gasLimit\"),null!=e.to?Object(n.a)(e.to):\"0x\",k(e.value||0,\"value\"),e.data||\"0x\",R(e.accessList||[])];if(t){const e=Object(o.k)(t);r.push(k(e.recoveryParam,\"recoveryParam\")),r.push(Object(o.l)(e.r)),r.push(Object(o.l)(e.s))}return Object(o.c)([\"0x01\",c.b(r)])}function T(e,t){if(null==e.type||0===e.type)return null!=e.accessList&&m.throwArgumentError(\"untyped transactions do not support accessList; include type: 1\",\"transaction\",e),function(e,t){Object(u.b)(e,S);const r=[];_.forEach((function(t){let n=e[t.name]||[];const i={};t.numeric&&(i.hexPad=\"left\"),n=Object(o.a)(Object(o.g)(n,i)),t.length&&n.length!==t.length&&n.length>0&&m.throwArgumentError(\"invalid length for \"+t.name,\"transaction:\"+t.name,n),t.maxLength&&(n=Object(o.l)(n),n.length>t.maxLength&&m.throwArgumentError(\"invalid length for \"+t.name,\"transaction:\"+t.name,n)),r.push(Object(o.g)(n))}));let n=0;if(null!=e.chainId?(n=e.chainId,\"number\"!=typeof n&&m.throwArgumentError(\"invalid transaction.chainId\",\"transaction\",e)):t&&!Object(o.i)(t)&&t.v>28&&(n=Math.floor((t.v-35)/2)),0!==n&&(r.push(Object(o.g)(n)),r.push(\"0x\"),r.push(\"0x\")),!t)return c.b(r);const i=Object(o.k)(t);let a=27+i.recoveryParam;return 0!==n?(r.pop(),r.pop(),r.pop(),a+=2*n+8,i.v>28&&i.v!==a&&m.throwArgumentError(\"transaction.chainId/signature.v mismatch\",\"signature\",t)):i.v!==a&&m.throwArgumentError(\"transaction.chainId/signature.v mismatch\",\"signature\",t),r.push(Object(o.g)(a)),r.push(Object(o.l)(Object(o.a)(i.r))),r.push(Object(o.l)(Object(o.a)(i.s))),c.b(r)}(e,t);switch(e.type){case 1:return P(e,t);case 2:return O(e,t)}return m.throwError(\"unsupported transaction type: \"+e.type,d.a.errors.UNSUPPORTED_OPERATION,{operation:\"serializeTransaction\",transactionType:e.type})}function j(e,t,r){try{const r=w(t[0]).toNumber();if(0!==r&&1!==r)throw new Error(\"bad recid\");e.v=r}catch(e){m.throwArgumentError(\"invalid v for transaction type: 1\",\"v\",t[0])}e.r=Object(o.f)(t[1],32),e.s=Object(o.f)(t[2],32);try{const t=Object(s.a)(r(e));e.from=x(t,{r:e.r,s:e.s,recoveryParam:e.v})}catch(e){console.log(e)}}function I(e){const t=Object(o.a)(e);if(t[0]>127)return function(e){const t=c.a(e);9!==t.length&&6!==t.length&&m.throwArgumentError(\"invalid raw transaction\",\"rawTransaction\",e);const r={nonce:w(t[0]).toNumber(),gasPrice:w(t[1]),gasLimit:w(t[2]),to:v(t[3]),value:w(t[4]),data:t[5],chainId:0};if(6===t.length)return r;try{r.v=i.a.from(t[6]).toNumber()}catch(e){return console.log(e),r}if(r.r=Object(o.f)(t[7],32),r.s=Object(o.f)(t[8],32),i.a.from(r.r).isZero()&&i.a.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=t.slice(0,6);0!==r.chainId&&(i.push(Object(o.g)(r.chainId)),i.push(\"0x\"),i.push(\"0x\"),n-=2*r.chainId+8);const a=Object(s.a)(c.b(i));try{r.from=x(a,{r:Object(o.g)(r.r),s:Object(o.g)(r.s),recoveryParam:n})}catch(e){console.log(e)}r.hash=Object(s.a)(e)}return r.type=null,r}(t);switch(t[0]){case 1:return function(e){const t=c.a(e.slice(1));8!==t.length&&11!==t.length&&m.throwArgumentError(\"invalid component count for transaction type: 1\",\"payload\",Object(o.g)(e));const r={type:1,chainId:w(t[0]).toNumber(),nonce:w(t[1]).toNumber(),gasPrice:w(t[2]),gasLimit:w(t[3]),to:v(t[4]),value:w(t[5]),data:t[6],accessList:M(t[7])};return 8===t.length||(r.hash=Object(s.a)(e),j(r,t.slice(8),P)),r}(t);case 2:return function(e){const t=c.a(e.slice(1));9!==t.length&&12!==t.length&&m.throwArgumentError(\"invalid component count for transaction type: 2\",\"payload\",Object(o.g)(e));const r=w(t[2]),n=w(t[3]),i={type:2,chainId:w(t[0]).toNumber(),nonce:w(t[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:w(t[4]),to:v(t[5]),value:w(t[6]),data:t[7],accessList:M(t[8])};return 9===t.length||(i.hash=Object(s.a)(e),j(i,t.slice(9),O)),i}(t)}return m.throwError(\"unsupported transaction type: \"+t[0],d.a.errors.UNSUPPORTED_OPERATION,{operation:\"parseTransaction\",transactionType:t[0]})}},,function(e,t,r){\"use strict\";r.d(t,\"b\",(function(){return i})),r.d(t,\"d\",(function(){return o})),r.d(t,\"c\",(function(){return a})),r.d(t,\"a\",(function(){return s}));var n=r(34);const i=n.a.from(-1),o=n.a.from(0),a=n.a.from(1),s=n.a.from(\"0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\")}]).default;"]}í¤