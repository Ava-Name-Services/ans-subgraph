
Š€€€)}(n).then(function(n){return i._dbInfo.db[r]=n,e})});return e(o,t),o},removeItem:function(r,n){var t=this;"string"!=typeof r&&(console.warn(r+" used as a key, but it is not a string."),r=String(r));var i=t.ready().then(function(){var e=t._dbInfo.db;e.hasOwnProperty(r)&&delete e[r]});return e(i,n),i},clear:function(r){var n=this,t=n.ready().then(function(){var r=n._dbInfo.db;for(var e in r)r.hasOwnProperty(e)&&delete r[e]});return e(t,r),t},length:function(r){var n=this.keys().then(function(r){return r.length});return e(n,r),n},key:function(r,n){var t=this,i=t.ready().then(function(){var e=t._dbInfo.db,n=null,i=0;for(var o in e)if(e.hasOwnProperty(o)){if(r===i){n=o;break}i++}return n});return e(i,n),i},keys:function(r){var n=this,t=n.ready().then(function(){var r=n._dbInfo.db,e=[];for(var t in r)r.hasOwnProperty(t)&&e.push(t);return e});return e(t,r),t}}});
},{}],"C1oQ":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime/helpers/interopRequireWildcard"),t=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(require("@babel/runtime/helpers/classPrivateFieldGet")),a=require("rxjs"),i=require("rxjs/operators"),s=t(require("localforage")),l=t(require("localforage-memoryStorageDriver")),u=require("../configuration"),n=e(require("../configuration/keys")),d=new WeakMap;class c{constructor(e){d.set(this,{writable:!0,value:new Set}),this.prefix=e;const t=(0,u.getConfiguration)(n.FORCE_LOCAL_STORAGE);this.drivers=t?[s.default.LOCALSTORAGE,l.default]:[s.default.INDEXEDDB,s.default.LOCALSTORAGE,l.default]}async init(){this.changes=new a.Subject,this.db=s.default.createInstance({driver:this.drivers,name:`localforage/${this.prefix}`});try{await this.db.ready()}catch(e){null===this.db.driver()&&(await this.db.defineDriver(l.default),await this.db.setDriver(l.default._driver)),await this.db.ready()}}async set(e,t){await this.db.setItem(e,t),this.changes.next({key:e,value:t})}async get(e,t=null){return await this.db.getItem(e)||t}async getAll(){const e={};return await this.db.iterate((t,r)=>{e[r]=t}),e}async remove(e){await this.db.removeItem(e),this.changes.next({key:e,value:null})}async clear(){await this.db.clear();for(const e of(0,r.default)(this,d))this.changes.next({key:e,value:null})}observe(e,t){(0,r.default)(this,d).add(e);const s=this.get(e,t),l=this.changes.pipe((0,i.filter)(t=>t.key===e),(0,i.pluck)("value"));return(0,a.race)((0,a.concat)(s,l),l)}}exports.default=c;
},{"@babel/runtime/helpers/interopRequireWildcard":"t7py","@babel/runtime/helpers/interopRequireDefault":"SpGf","@babel/runtime/helpers/classPrivateFieldGet":"RWaD","rxjs":"iRqj","rxjs/operators":"cVrl","localforage":"EM1A","localforage-memoryStorageDriver":"mMVm","../configuration":"SdpA","../configuration/keys":"IxjJ"}],"HEmi":[function(require,module,exports) {
"use strict";var e=require("../../utils");Object.defineProperty(exports,"__esModule",{value:!0}),exports.shouldOverrideAppWithLatestVersion=t;const s="0x52AC38791EF1561b172Ca89d7115F178d058E57b",a="0x6C676c98a7442626a53b0b3B0f30B745B4B5aeb8",r="0xca5BC2D3517A84e7028A9bc08fE0b1B856Ea2CA8",d="0x05087eD2aD442e252CF6c6c648f26b7298a17A88";function t(t,u){return!!((0,e.addressesEqual)(t,s)&&(0,e.addressesEqual)(u,a)||(0,e.addressesEqual)(t,r)&&(0,e.addressesEqual)(u,d))}
},{"../../utils":"NfZQ"}],"EDTP":[function(require,module,exports) {
"use strict";module.exports=function(r,n){return function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];return r.apply(n,t)}};
},{}],"S1cf":[function(require,module,exports) {
"use strict";var r=require("./helpers/bind"),e=Object.prototype.toString;function t(r){return"[object Array]"===e.call(r)}function n(r){return void 0===r}function o(r){return null!==r&&!n(r)&&null!==r.constructor&&!n(r.constructor)&&"function"==typeof r.constructor.isBuffer&&r.constructor.isBuffer(r)}function u(r){return"[object ArrayBuffer]"===e.call(r)}function f(r){return"undefined"!=typeof FormData&&r instanceof FormData}function i(r){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(r):r&&r.buffer&&r.buffer instanceof ArrayBuffer}function c(r){return"string"==typeof r}function a(r){return"number"==typeof r}function l(r){return null!==r&&"object"==typeof r}function s(r){return"[object Date]"===e.call(r)}function p(r){return"[object File]"===e.call(r)}function y(r){return"[object Blob]"===e.call(r)}function d(r){return"[object Function]"===e.call(r)}function b(r){return l(r)&&d(r.pipe)}function j(r){return"undefined"!=typeof URLSearchParams&&r instanceof URLSearchParams}function v(r){return r.replace(/^\s*/,"").replace(/\s*$/,"")}function m(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function B(r,e){if(null!=r)if("object"!=typeof r&&(r=[r]),t(r))for(var n=0,o=r.length;n<o;n++)e.call(null,r[n],n,r);else for(var u in r)Object.prototype.hasOwnProperty.call(r,u)&&e.call(null,r[u],u,r)}function g(){var r={};function e(e,t){"object"==typeof r[t]&&"object"==typeof e?r[t]=g(r[t],e):r[t]=e}for(var t=0,n=arguments.length;t<n;t++)B(arguments[t],e);return r}function h(){var r={};function e(e,t){"object"==typeof r[t]&&"object"==typeof e?r[t]=h(r[t],e):r[t]="object"==typeof e?h({},e):e}for(var t=0,n=arguments.length;t<n;t++)B(arguments[t],e);return r}function A(e,t,n){return B(t,function(t,o){e[o]=n&&"function"==typeof t?r(t,n):t}),e}module.exports={isArray:t,isArrayBuffer:u,isBuffer:o,isFormData:f,isArrayBufferView:i,isString:c,isNumber:a,isObject:l,isUndefined:n,isDate:s,isFile:p,isBlob:y,isFunction:d,isStream:b,isURLSearchParams:j,isStandardBrowserEnv:m,forEach:B,merge:g,deepMerge:h,extend:A,trim:v};
},{"./helpers/bind":"EDTP"}],"H6Qo":[function(require,module,exports) {
"use strict";var e=require("./../utils");function r(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}module.exports=function(i,n,t){if(!n)return i;var a;if(t)a=t(n);else if(e.isURLSearchParams(n))a=n.toString();else{var c=[];e.forEach(n,function(i,n){null!=i&&(e.isArray(i)?n+="[]":i=[i],e.forEach(i,function(i){e.isDate(i)?i=i.toISOString():e.isObject(i)&&(i=JSON.stringify(i)),c.push(r(n)+"="+r(i))}))}),a=c.join("&")}if(a){var l=i.indexOf("#");-1!==l&&(i=i.slice(0,l)),i+=(-1===i.indexOf("?")?"?":"&")+a}return i};
},{"./../utils":"S1cf"}],"rj2i":[function(require,module,exports) {
"use strict";var t=require("./../utils");function e(){this.handlers=[]}e.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},e.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},e.prototype.forEach=function(e){t.forEach(this.handlers,function(t){null!==t&&e(t)})},module.exports=e;
},{"./../utils":"S1cf"}],"woEt":[function(require,module,exports) {
"use strict";var r=require("./../utils");module.exports=function(t,u,e){return r.forEach(e,function(r){t=r(t,u)}),t};
},{"./../utils":"S1cf"}],"V30M":[function(require,module,exports) {
"use strict";module.exports=function(t){return!(!t||!t.__CANCEL__)};
},{}],"M8l6":[function(require,module,exports) {
"use strict";var e=require("../utils");module.exports=function(t,r){e.forEach(t,function(e,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=e,delete t[o])})};
},{"../utils":"S1cf"}],"YdsM":[function(require,module,exports) {
"use strict";module.exports=function(e,i,s,t,n){return e.config=i,s&&(e.code=s),e.request=t,e.response=n,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e};
},{}],"bIiH":[function(require,module,exports) {
"use strict";var r=require("./enhanceError");module.exports=function(e,n,o,t,u){var a=new Error(e);return r(a,n,o,t,u)};
},{"./enhanceError":"YdsM"}],"aS8y":[function(require,module,exports) {
"use strict";var t=require("./createError");module.exports=function(e,s,r){var u=r.config.validateStatus;!u||u(r.status)?e(r):s(t("Request failed with status code "+r.status,r.config,null,r.request,r))};
},{"./createError":"bIiH"}],"YZjV":[function(require,module,exports) {
"use strict";module.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)};
},{}],"a2Uu":[function(require,module,exports) {
"use strict";module.exports=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e};
},{}],"KxkP":[function(require,module,exports) {
"use strict";var e=require("../helpers/isAbsoluteURL"),r=require("../helpers/combineURLs");module.exports=function(s,u){return s&&!e(u)?r(s,u):u};
},{"../helpers/isAbsoluteURL":"YZjV","../helpers/combineURLs":"a2Uu"}],"ZeD7":[function(require,module,exports) {
"use strict";var e=require("./../utils"),t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];module.exports=function(r){var i,o,n,s={};return r?(e.forEach(r.split("\n"),function(r){if(n=r.indexOf(":"),i=e.trim(r.substr(0,n)).toLowerCase(),o=e.trim(r.substr(n+1)),i){if(s[i]&&t.indexOf(i)>=0)return;s[i]="set-cookie"===i?(s[i]?s[i]:[]).concat([o]):s[i]?s[i]+", "+o:o}}),s):s};
},{"./../utils":"S1cf"}],"w7LF":[function(require,module,exports) {
"use strict";var t=require("./../utils");module.exports=t.isStandardBrowserEnv()?function(){var r,e=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");function a(t){var r=t;return e&&(o.setAttribute("href",r),r=o.href),o.setAttribute("href",r),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}return r=a(window.location.href),function(e){var o=t.isString(e)?a(e):e;return o.protocol===r.protocol&&o.host===r.host}}():function(){return!0};
},{"./../utils":"S1cf"}],"dn2M":[function(require,module,exports) {
"use strict";var e=require("./../utils");module.exports=e.isStandardBrowserEnv()?{write:function(n,t,o,r,i,u){var s=[];s.push(n+"="+encodeURIComponent(t)),e.isNumber(o)&&s.push("expires="+new Date(o).toGMTString()),e.isString(r)&&s.push("path="+r),e.isString(i)&&s.push("domain="+i),!0===u&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};
},{"./../utils":"S1cf"}],"KRuG":[function(require,module,exports) {
"use strict";var e=require("./../utils"),r=require("./../core/settle"),t=require("./../helpers/buildURL"),s=require("../core/buildFullPath"),o=require("./../helpers/parseHeaders"),n=require("./../helpers/isURLSameOrigin"),a=require("../core/createError");module.exports=function(i){return new Promise(function(u,l){var d=i.data,p=i.headers;e.isFormData(d)&&delete p["Content-Type"];var c=new XMLHttpRequest;if(i.auth){var f=i.auth.username||"",h=i.auth.password||"";p.Authorization="Basic "+btoa(f+":"+h)}var m=s(i.baseURL,i.url);if(c.open(i.method.toUpperCase(),t(m,i.params,i.paramsSerializer),!0),c.timeout=i.timeout,c.onreadystatechange=function(){if(c&&4===c.readyState&&(0!==c.status||c.responseURL&&0===c.responseURL.indexOf("file:"))){var e="getAllResponseHeaders"in c?o(c.getAllResponseHeaders()):null,t={data:i.responseType&&"text"!==i.responseType?c.response:c.responseText,status:c.status,statusText:c.statusText,headers:e,config:i,request:c};r(u,l,t),c=null}},c.onabort=function(){c&&(l(a("Request aborted",i,"ECONNABORTED",c)),c=null)},c.onerror=function(){l(a("Network Error",i,null,c)),c=null},c.ontimeout=function(){var e="timeout of "+i.timeout+"ms exceeded";i.timeoutErrorMessage&&(e=i.timeoutErrorMessage),l(a(e,i,"ECONNABORTED",c)),c=null},e.isStandardBrowserEnv()){var v=require("./../helpers/cookies"),T=(i.withCredentials||n(m))&&i.xsrfCookieName?v.read(i.xsrfCookieName):void 0;T&&(p[i.xsrfHeaderName]=T)}if("setRequestHeader"in c&&e.forEach(p,function(e,r){void 0===d&&"content-type"===r.toLowerCase()?delete p[r]:c.setRequestHeader(r,e)}),e.isUndefined(i.withCredentials)||(c.withCredentials=!!i.withCredentials),i.responseType)try{c.responseType=i.responseType}catch(g){if("json"!==i.responseType)throw g}"function"==typeof i.onDownloadProgress&&c.addEventListener("progress",i.onDownloadProgress),"function"==typeof i.onUploadProgress&&c.upload&&c.upload.addEventListener("progress",i.onUploadProgress),i.cancelToken&&i.cancelToken.promise.then(function(e){c&&(c.abort(),l(e),c=null)}),void 0===d&&(d=null),c.send(d)})};
},{"./../utils":"S1cf","./../core/settle":"aS8y","./../helpers/buildURL":"H6Qo","../core/buildFullPath":"KxkP","./../helpers/parseHeaders":"ZeD7","./../helpers/isURLSameOrigin":"w7LF","../core/createError":"bIiH","./../helpers/cookies":"dn2M"}],"BXyq":[function(require,module,exports) {
var process = require("process");
var e=require("process"),t=require("./utils"),r=require("./helpers/normalizeHeaderName"),n={"Content-Type":"application/x-www-form-urlencoded"};function a(e,r){!t.isUndefined(e)&&t.isUndefined(e["Content-Type"])&&(e["Content-Type"]=r)}function i(){var t;return"undefined"!=typeof XMLHttpRequest?t=require("./adapters/xhr"):void 0!==e&&"[object process]"===Object.prototype.toString.call(e)&&(t=require("./adapters/http")),t}var o={adapter:i(),transformRequest:[function(e,n){return r(n,"Accept"),r(n,"Content-Type"),t.isFormData(e)||t.isArrayBuffer(e)||t.isBuffer(e)||t.isStream(e)||t.isFile(e)||t.isBlob(e)?e:t.isArrayBufferView(e)?e.buffer:t.isURLSearchParams(e)?(a(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):t.isObject(e)?(a(n,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};t.forEach(["delete","get","head"],function(e){o.headers[e]={}}),t.forEach(["post","put","patch"],function(e){o.headers[e]=t.merge(n)}),module.exports=o;
},{"./utils":"S1cf","./helpers/normalizeHeaderName":"M8l6","./adapters/xhr":"KRuG","./adapters/http":"KRuG","process":"pBGv"}],"uz6X":[function(require,module,exports) {
"use strict";var e=require("./../utils"),r=require("./transformData"),a=require("../cancel/isCancel"),t=require("../defaults");function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}module.exports=function(n){return s(n),n.headers=n.headers||{},n.data=r(n.data,n.headers,n.transformRequest),n.headers=e.merge(n.headers.common||{},n.headers[n.method]||{},n.headers),e.forEach(["delete","get","head","post","put","patch","common"],function(e){delete n.headers[e]}),(n.adapter||t.adapter)(n).then(function(e){return s(n),e.data=r(e.data,e.headers,n.transformResponse),e},function(e){return a(e)||(s(n),e&&e.response&&(e.response.data=r(e.response.data,e.response.headers,n.transformResponse))),Promise.reject(e)})};
},{"./../utils":"S1cf","./transformData":"woEt","../cancel/isCancel":"V30M","../defaults":"BXyq"}],"OHvn":[function(require,module,exports) {
"use strict";var e=require("../utils");module.exports=function(t,r){r=r||{};var o={},a=["url","method","params","data"],n=["headers","auth","proxy"],s=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];e.forEach(a,function(e){void 0!==r[e]&&(o[e]=r[e])}),e.forEach(n,function(a){e.isObject(r[a])?o[a]=e.deepMerge(t[a],r[a]):void 0!==r[a]?o[a]=r[a]:e.isObject(t[a])?o[a]=e.deepMerge(t[a]):void 0!==t[a]&&(o[a]=t[a])}),e.forEach(s,function(e){void 0!==r[e]?o[e]=r[e]:void 0!==t[e]&&(o[e]=t[e])});var i=a.concat(n).concat(s),c=Object.keys(r).filter(function(e){return-1===i.indexOf(e)});return e.forEach(c,function(e){void 0!==r[e]?o[e]=r[e]:void 0!==t[e]&&(o[e]=t[e])}),o};
},{"../utils":"S1cf"}],"OvAf":[function(require,module,exports) {
"use strict";var e=require("./../utils"),t=require("../helpers/buildURL"),r=require("./InterceptorManager"),o=require("./dispatchRequest"),s=require("./mergeConfig");function i(e){this.defaults=e,this.interceptors={request:new r,response:new r}}i.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[o,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r},i.prototype.getUri=function(e){return e=s(this.defaults,e),t(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},e.forEach(["delete","get","head","options"],function(t){i.prototype[t]=function(r,o){return this.request(e.merge(o||{},{method:t,url:r}))}}),e.forEach(["post","put","patch"],function(t){i.prototype[t]=function(r,o,s){return this.request(e.merge(s||{},{method:t,url:r,data:o}))}}),module.exports=i;
},{"./../utils":"S1cf","../helpers/buildURL":"H6Qo","./InterceptorManager":"rj2i","./dispatchRequest":"uz6X","./mergeConfig":"OHvn"}],"mIKj":[function(require,module,exports) {
"use strict";function t(t){this.message=t}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,module.exports=t;
},{}],"tsWd":[function(require,module,exports) {
"use strict";var e=require("./Cancel");function n(n){if("function"!=typeof n)throw new TypeError("executor must be a function.");var o;this.promise=new Promise(function(e){o=e});var r=this;n(function(n){r.reason||(r.reason=new e(n),o(r.reason))})}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var e;return{token:new n(function(n){e=n}),cancel:e}},module.exports=n;
},{"./Cancel":"mIKj"}],"X8jb":[function(require,module,exports) {
"use strict";module.exports=function(n){return function(t){return n.apply(null,t)}};
},{}],"nUiQ":[function(require,module,exports) {
"use strict";var e=require("./utils"),r=require("./helpers/bind"),n=require("./core/Axios"),u=require("./core/mergeConfig"),t=require("./defaults");function i(u){var t=new n(u),i=r(n.prototype.request,t);return e.extend(i,n.prototype,t),e.extend(i,t),i}var l=i(t);l.Axios=n,l.create=function(e){return i(u(l.defaults,e))},l.Cancel=require("./cancel/Cancel"),l.CancelToken=require("./cancel/CancelToken"),l.isCancel=require("./cancel/isCancel"),l.all=function(e){return Promise.all(e)},l.spread=require("./helpers/spread"),module.exports=l,module.exports.default=l;
},{"./utils":"S1cf","./helpers/bind":"EDTP","./core/Axios":"OvAf","./core/mergeConfig":"OHvn","./defaults":"BXyq","./cancel/Cancel":"mIKj","./cancel/CancelToken":"tsWd","./cancel/isCancel":"V30M","./helpers/spread":"X8jb"}],"dZBD":[function(require,module,exports) {
module.exports=require("./lib/axios");
},{"./lib/axios":"nUiQ"}],"GO3g":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime/helpers/interopRequireDefault"),t=e(require("@babel/runtime/helpers/defineProperty"));function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function s(e){for(var s,o=1;o<arguments.length;o++)s=null==arguments[o]?{}:arguments[o],o%2?r(Object(s),!0).forEach(function(r){(0,t.default)(e,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):r(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))});return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;const o=require("axios");function i(e){return e.replace(/^[./]+/,"")}function n(e){return e.startsWith("http://")||e.startsWith("https://")||(e=`http://${e}`),e.endsWith("/")||(e=`${e}/`),e}class p{constructor({ipfsGateway:e=""}={}){this.providers=new Map([["http"]]),e&&this.providers.set("ipfs",{gateway:n(e)})}getFullPath(e,t,r){if(!this.supportsProvider(e))throw new Error(`Provider not supported: ${e}`);return`${n("ipfs"===e?`${this.providers.get("ipfs").gateway}${t}`:t)}${i(r)}`}async fetch(e,t,r,i){return(await o(this.getFullPath(e,t,r),s(s({},i),{},{responseType:"text",transformResponse:null}))).data}supportsProvider(e){return this.providers.has(e)}}exports.default=p;
},{"@babel/runtime/helpers/interopRequireDefault":"SpGf","@babel/runtime/helpers/defineProperty":"IxO8","axios":"dZBD"}],"IMsg":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.getApmInternalAppInfo=p,exports.default=f;var t=e(require("@babel/runtime/helpers/defineProperty")),r=require("./overrides"),o=require("./repo"),n=require("../../interfaces"),c=e(require("../../utils/FileFetcher"));function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function a(e){for(var r,o=1;o<arguments.length;o++)r=null==arguments[o]?{}:arguments[o],o%2?i(Object(r),!0).forEach(function(o){(0,t.default)(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))});return e}const s=1e4;function p(e){return(0,n.getAppInfo)(e,"apm")}async function u(e,t,{fetchTimeout:r}){const{contentURI:n,contractAddress:c,version:i}=t;let s;try{s=await(0,o.fetchRepoContentURI)(e,n,{fetchTimeout:r})}catch(p){console.warn("Fetching repo content failed",p)}return a(a({},s),{},{contractAddress:c,version:i})}function f(e,{ipfsGateway:t,fetchTimeout:n=s}={}){const i=new c.default({ipfsGateway:t});return{getContentPath:({location:e,provider:t},r)=>i.getFullPath(t,e,r),fetchLatestRepoContent:async(t,r)=>{const c=(0,o.makeRepoProxy)(t,e);return u(i,await(0,o.getRepoLatestVersion)(c),a({fetchTimeout:n},r))},fetchLatestRepoContentForContract:async(t,c,s)=>{const p=(0,o.makeRepoProxy)(t,e),f=(0,r.shouldOverrideAppWithLatestVersion)(t,c)?(0,o.getRepoLatestVersion)(p):(0,o.getRepoLatestVersionForContract)(p,c);return u(i,await f,a({fetchTimeout:n},s))}}}
},{"@babel/runtime/helpers/interopRequireDefault":"SpGf","@babel/runtime/helpers/defineProperty":"IxO8","./overrides":"HEmi","./repo":"Vyx7","../../interfaces":"VtZp","../../utils/FileFetcher":"GO3g"}],"YzXJ":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.getAragonOsInternalAppInfo=p,exports.isAragonOsInternalApp=i;var r=e(require("@babel/runtime/helpers/defineProperty")),t=require("../../interfaces");function n(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function o(e){for(var t,o=1;o<arguments.length;o++)t=null==arguments[o]?{}:arguments[o],o%2?n(Object(t),!0).forEach(function(n){(0,r.default)(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):n(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))});return e}function p(e){const r=(0,t.getAppInfo)(e,"aragon");return r&&o(o({},r),{},{isAragonOsInternalApp:!0})}function i(e){return(0,t.hasAppInfo)(e,"aragon")}
},{"@babel/runtime/helpers/interopRequireDefault":"SpGf","@babel/runtime/helpers/defineProperty":"IxO8","../../interfaces":"VtZp"}],"zUBf":[function(require,module,exports) {
module.exports={methods:{web3_clientVersion:[[],"S"],web3_sha3:[["S"],"D",1],net_version:[[],"S"],net_peerCount:[[],"Q"],net_listening:[[],"B"],personal_sign:[["D20","D","S"],"D",2],personal_ecRecover:[["D","D"],"D20",2],eth_protocolVersion:[[],"S"],eth_syncing:[[],"Boolean|EthSyncing"],eth_coinbase:[[],"D20"],eth_mining:[[],"B"],eth_hashrate:[[],"Q"],eth_gasPrice:[[],"Q"],eth_accounts:[[],["D20"]],eth_blockNumber:[[],"Q"],eth_getBalance:[["D20","Q|T"],"Q",1,2],eth_getStorageAt:[["D20","Q","Q|T"],"D",2,2],eth_getTransactionCount:[["D20","Q|T"],"Q",1,2],eth_getBlockTransactionCountByHash:[["D32"],"Q",1],eth_getBlockTransactionCountByNumber:[["Q|T"],"Q",1],eth_getUncleCountByBlockHash:[["D32"],"Q",1],eth_getUncleCountByBlockNumber:[["Q"],"Q",1],eth_getCode:[["D20","Q|T"],"D",1,2],eth_sign:[["D20","D32"],"D",2],eth_sendTransaction:[["SendTransaction"],"D",1],eth_sendRawTransaction:[["D"],"D32",1],eth_call:[["CallTransaction","Q|T"],"D",1,2],eth_estimateGas:[["EstimateTransaction","Q|T"],"Q",1],eth_getBlockByHash:[["D32","B"],"Block",2],eth_getBlockByNumber:[["Q|T","B"],"Block",2],eth_getTransactionByHash:[["D32"],"Transaction",1],eth_getTransactionByBlockHashAndIndex:[["D32","Q"],"Transaction",2],eth_getTransactionByBlockNumberAndIndex:[["Q|T","Q"],"Transaction",2],eth_getTransactionReceipt:[["D32"],"Receipt",1],eth_getUncleByBlockHashAndIndex:[["D32","Q"],"Block",1],eth_getUncleByBlockNumberAndIndex:[["Q|T","Q"],"Block",2],eth_getCompilers:[[],["S"]],eth_compileLLL:[["S"],"D",1],eth_compileSolidity:[["S"],"D",1],eth_compileSerpent:[["S"],"D",1],eth_newFilter:[["Filter"],"Q",1],eth_newBlockFilter:[[],"Q"],eth_newPendingTransactionFilter:[[],"Q"],eth_uninstallFilter:[["Q"],"B",1],eth_getFilterChanges:[["Q"],["FilterChange"],1],eth_getFilterLogs:[["Q"],["FilterChange"],1],eth_getLogs:[["Filter"],["FilterChange"],1],eth_getWork:[[],["D"]],eth_submitWork:[["D","D32","D32"],"B",3],eth_submitHashrate:[["D","D"],"B",2],db_putString:[["S","S","S"],"B",2],db_getString:[["S","S"],"S",2],db_putHex:[["S","S","D"],"B",2],db_getHex:[["S","S"],"D",2],shh_post:[["SHHPost"],"B",1],shh_version:[[],"S"],shh_newIdentity:[[],"D"],shh_hasIdentity:[["D"],"B"],shh_newGroup:[[],"D"],shh_addToGroup:[["D"],"B",1],shh_newFilter:[["SHHFilter"],"Q",1],shh_uninstallFilter:[["Q"],"B",1],shh_getFilterChanges:[["Q"],["SHHFilterChange"],1],shh_getMessages:[["Q"],["SHHFilterChange"],1]},tags:["latest","earliest","pending"],objects:{EthSyncing:{__required:[],startingBlock:"Q",currentBlock:"Q",highestBlock:"Q"},SendTransaction:{__required:["from","data"],from:"D20",to:"D20",gas:"Q",gasPrice:"Q",value:"Q",data:"D",nonce:"Q"},EstimateTransaction:{__required:[],from:"D20",to:"D20",gas:"Q",gasPrice:"Q",value:"Q",data:"D",nonce:"Q"},CallTransaction:{__required:["to"],from:"D20",to:"D20",gas:"Q",gasPrice:"Q",value:"Q",data:"D",nonce:"Q"},Block:{__required:[],number:"Q",hash:"D32",parentHash:"D32",nonce:"D",sha3Uncles:"D",logsBloom:"D",transactionsRoot:"D",stateRoot:"D",receiptsRoot:"D",miner:"D",difficulty:"Q",totalDifficulty:"Q",extraData:"D",size:"Q",gasLimit:"Q",gasUsed:"Q",timestamp:"Q",transactions:["DATA|Transaction"],uncles:["D"]},Transaction:{__required:[],hash:"D32",nonce:"Q",blockHash:"D32",blockNumber:"Q",transactionIndex:"Q",from:"D20",to:"D20",value:"Q",gasPrice:"Q",gas:"Q",input:"D"},Receipt:{__required:[],transactionHash:"D32",transactionIndex:"Q",blockHash:"D32",blockNumber:"Q",cumulativeGasUsed:"Q",gasUsed:"Q",contractAddress:"D20",logs:["FilterChange"]},Filter:{__required:[],fromBlock:"Q|T",toBlock:"Q|T",address:"Array|Data",topics:["D"]},FilterChange:{__required:[],removed:"B",logIndex:"Q",transactionIndex:"Q",transactionHash:"D32",blockHash:"D32",blockNumber:"Q",address:"D20",data:"Array|DATA",topics:["D"]},SHHPost:{__required:["topics","payload","priority","ttl"],from:"D",to:"D",topics:["D"],payload:"D",priority:"Q",ttl:"Q"},SHHFilter:{__required:["topics"],to:"D",topics:["D"]},SHHFilterChange:{__required:[],hash:"D",from:"D",to:"D",expiry:"Q",ttl:"Q",sent:"Q",topics:["D"],payload:"D",workProved:"Q"},SHHMessage:{__required:[],hash:"D",from:"D",to:"D",expiry:"Q",ttl:"Q",sent:"Q",topics:["D"],payload:"D",workProved:"Q"}}};
},{}],"ndER":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var r=require("buffer").Buffer,t=require("is-hex-prefixed"),e=require("strip-hex-prefix");function n(r){var t=r;if("string"!=typeof t)throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof t+", while padToEven.");return t.length%2&&(t="0"+t),t}function i(r){return"0x"+n(r.toString(16))}function o(t){var e=i(t);return r.from(e.slice(2),"hex")}function f(t){if("string"!=typeof t)throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof t+"'.");return r.byteLength(t,"utf8")}function u(r,t,e){if(!0!==Array.isArray(r))throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof r+"'");if(!0!==Array.isArray(t))throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof t+"'");return t[Boolean(e)?"some":"every"](function(t){return r.indexOf(t)>=0})}function a(t){return new r(n(e(t).replace(/^0+|0+$/g,"")),"hex").toString("utf8")}function s(r){var t="",e=0,n=r.length;for("0x"===r.substring(0,2)&&(e=2);e<n;e+=2){var i=parseInt(r.substr(e,2),16);t+=String.fromCharCode(i)}return t}function y(t){return"0x"+n(new r(t,"utf8").toString("hex")).replace(/^0+|0+$/g,"")}function g(r){for(var t="",e=0;e<r.length;e++){var n=r.charCodeAt(e).toString(16);t+=n.length<2?"0"+n:n}return"0x"+t}function h(r,t,e){if(!Array.isArray(r))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof r+"'");if("string"!=typeof t)throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof t+"'.");for(var n=[],i=0;i<r.length;i++){var o=r[i][t];if(e&&!o)o="";else if("string"!=typeof o)throw new Error("invalid abi");n.push(o)}return n}function p(r,t){return!("string"!=typeof r||!r.match(/^0x[0-9A-Fa-f]*$/))&&(!t||r.length===2+2*t)}module.exports={arrayContainsArray:u,intToBuffer:o,getBinarySize:f,isHexPrefixed:t,stripHexPrefix:e,padToEven:n,intToHex:i,fromAscii:g,fromUtf8:y,toAscii:s,toUtf8:a,getKeys:h,isHexString:p};
},{"is-hex-prefixed":"xMCX","strip-hex-prefix":"kqPR","buffer":"peL6"}],"XBYW":[function(require,module,exports) {
"use strict";var r=require("ethjs-schema"),t=require("ethjs-util"),e=require("number-to-bn"),n=require("strip-hex-prefix"),i=t.padToEven,o=t.arrayContainsArray,a=t.getBinarySize;function s(r,t){if(-1===["string","number","object"].indexOf(typeof r)||null===r)return r;var n=e(r);if(e(r).isNeg())throw new Error("[ethjs-format] while formatting quantity '"+n.toString(10)+"', invalid negative number. Number must be positive or zero.");return t?"0x"+n.toString(16):n}function u(t,e){var n=t;return-1===r.tags.indexOf(t)&&(n=s(t,e)),n}function f(r,t){var e=r,o=0;if("string"==typeof r&&(e="0x"+i(n(r)),o=a(e)),"0x00"===e&&(e="0x0"),"number"==typeof t&&null!==r&&"0x"!==e&&"0x0"!==e&&(!/^[0-9A-Fa-f]+$/.test(n(e))||o!==2+2*t))throw new Error("[ethjs-format] hex string '"+e+"' must be an alphanumeric "+(2+2*t)+" utf8 byte hex (chars: a-fA-F) string, is "+o+" bytes");return e}function c(t,e,n){var i=Object.assign({},e),a=null;if("string"==typeof t&&(a="Boolean|EthSyncing"===t?Object.assign({},r.objects.EthSyncing):"DATA|Transaction"===t?Object.assign({},r.objects.Transaction):Object.assign({},r.objects[t])),!o(Object.keys(e),a.__required))throw new Error("[ethjs-format] object "+JSON.stringify(e)+" must contain properties: "+a.__required.join(", "));return Object.keys(a).forEach(function(r){"__required"!==r&&void 0!==e[r]&&(i[r]=y(a[r],e[r],n))}),i}function m(r,t,e,n){var i=t.slice(),o=r;if("Array|DATA"===r&&(o=["D"]),"FilterChange"===r&&"string"==typeof t[0]&&(o=["D32"]),!0===e&&"number"==typeof n&&t.length<n)throw new Error("array "+JSON.stringify(t)+" must contain at least "+n+" params, but only contains "+t.length+".");return o=o.slice(),t.forEach(function(r,t){var n=0;o.length>1&&(n=t),i[t]=y(o[n],r,e)}),i}function y(r,t,e,n){var i=t;return"Q"===r?i=s(t,e):"Q|T"===r?i=u(t,e):"D"===r?i=f(t):"D20"===r?i=f(t,20):"D32"===r?i=f(t,32):"object"==typeof t&&null!==t&&!1===Array.isArray(t)?i=c(r,t,e):Array.isArray(t)&&(i=m(r,t,e,n)),i}function h(t,e){return y(r.methods[t][0],e,!0,r.methods[t][2])}function g(t,e){return y(r.methods[t][1],e,!1)}module.exports={schema:r,formatQuantity:s,formatQuantityOrTag:u,formatObject:c,formatArray:m,format:y,formatInputs:h,formatOutputs:g};
},{"ethjs-schema":"zUBf","ethjs-util":"ndER","number-to-bn":"EEAC","strip-hex-prefix":"kqPR"}],"GPhM":[function(require,module,exports) {
"use strict";function r(t,e){var o=this,n=e||{};if(!(this instanceof r))throw new Error('[ethjs-rpc] the EthRPC object requires the "new" flag in order to function normally (i.e. `const eth = new EthRPC(provider);`).');o.options=Object.assign({jsonSpace:n.jsonSpace||0,max:n.max||9999999999999}),o.idCounter=Math.floor(Math.random()*o.options.max),o.setProvider=function(r){if("object"!=typeof r)throw new Error("[ethjs-rpc] the EthRPC object requires that the first input 'provider' must be an object, got '"+typeof r+"' (i.e. 'const eth = new EthRPC(provider);')");o.currentProvider=r},o.setProvider(t)}function t(r,t){return Object.assign({},{id:t,jsonrpc:"2.0",params:[]},r)}module.exports=r,r.prototype.sendAsync=function(r,e){var o=this;o.idCounter=o.idCounter%o.options.max;var n=t(r,o.idCounter++);o.currentProvider.sendAsync(n,function(r,t){var i=t||{};if(r||i.error){var s="[ethjs-rpc] "+(i.error?"rpc":"")+" error with payload "+JSON.stringify(n,null,o.options.jsonSpace)+" "+(String(r)||JSON.stringify(i.error,null,o.options.jsonSpace)),c=new Error(s);return c.value=r||i.error,e(c,null)}return e(null,i.result)})};
},{}],"pEIX":[function(require,module,exports) {
"use strict";var t=require("ethjs-format"),e=require("ethjs-rpc");function o(t,r){var n=r||{};if(!(this instanceof o))throw new Error('[ethjs-query] the Eth object requires the "new" flag in order to function normally (i.e. `const eth = new Eth(provider);`).');if("object"!=typeof t)throw new Error("[ethjs-query] the Eth object requires that the first input 'provider' must be an object, got '"+typeof t+"' (i.e. 'const eth = new Eth(provider);')");this.options=Object.assign({debug:n.debug||!1,logger:n.logger||console,jsonSpace:n.jsonSpace||0}),this.rpc=new e(t),this.setProvider=this.rpc.setProvider}function r(e,o){return function(){var r=function(){},n=null,i=this,s=[].slice.call(arguments),h=e.replace("eth_","");return s.length>0&&"function"==typeof s[s.length-1]&&(r=s.pop()),new Promise(function(u,l){var a=function(o,n){if(o)l(o),r(o,null);else try{i.log("attempting method formatting for '"+h+"' with raw outputs: "+JSON.stringify(n,null,i.options.jsonSpace));var s=t.formatOutputs(e,n);i.log("method formatting success for '"+h+"' formatted result: "+JSON.stringify(s,null,i.options.jsonSpace)),u(s),r(null,s)}catch(p){var a=new Error("[ethjs-query] while formatting outputs from RPC '"+JSON.stringify(n,null,i.options.jsonSpace)+"' for method '"+h+"' "+p);l(a),r(a,null)}};if(s.length<o[2])return a(new Error("[ethjs-query] method '"+h+"' requires at least "+o[2]+" input (format type "+o[0][0]+"), "+s.length+" provided. For more information visit: https://github.com/ethereum/wiki/wiki/JSON-RPC#"+e.toLowerCase()));if(s.length>o[0].length)return a(new Error("[ethjs-query] method '"+h+"' requires at most "+o[0].length+" params, "+s.length+" provided '"+JSON.stringify(s,null,i.options.jsonSpace)+"'. For more information visit: https://github.com/ethereum/wiki/wiki/JSON-RPC#"+e.toLowerCase()));o[3]&&s.length<o[3]&&s.push("latest"),i.log("attempting method formatting for '"+h+"' with inputs "+JSON.stringify(s,null,i.options.jsonSpace));try{n=t.formatInputs(e,s),i.log("method formatting success for '"+h+"' with formatted result: "+JSON.stringify(n,null,i.options.jsonSpace))}catch(p){return a(new Error("[ethjs-query] while formatting inputs '"+JSON.stringify(s,null,i.options.jsonSpace)+"' for method '"+h+"' error: "+p))}return i.rpc.sendAsync({method:e,params:n},a)})}}module.exports=o,o.prototype.log=function(t){this.options.debug&&this.options.logger.log("[ethjs-query log] "+t)},Object.keys(t.schema.methods).forEach(function(e){Object.defineProperty(o.prototype,e.replace("eth_",""),{enumerable:!0,value:r(e,t.schema.methods[e])})});
},{"ethjs-format":"XBYW","ethjs-rpc":"GPhM"}],"fsuy":[function(require,module,exports) {
var process = require("process");
var global = arguments[3];
var t=require("process"),r=arguments[3];!function(e){"use strict";"object"==typeof t&&t.versions&&t.versions.node&&(e=r);for(var o=!e.JS_SHA3_TEST&&"object"==typeof module&&module.exports,s="0123456789abcdef".split(""),i=[0,8,16,24],n=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],a=[224,256,384,512],u=["hex","buffer","arrayBuffer","array"],h=function(t,r,e){return function(o){return new k(t,r,t).update(o)[e]()}},f=function(t,r,e){return function(o,s){return new k(t,r,s).update(o)[e]()}},c=function(t,r){var e=h(t,r,"hex");e.create=function(){return new k(t,r,t)},e.update=function(t){return e.create().update(t)};for(var o=0;o<u.length;++o){var s=u[o];e[s]=h(t,r,s)}return e},p=[{name:"keccak",padding:[1,256,65536,16777216],bits:a,createMethod:c},{name:"sha3",padding:[6,1536,393216,100663296],bits:a,createMethod:c},{name:"shake",padding:[31,7936,2031616,520093696],bits:[128,256],createMethod:function(t,r){var e=f(t,r,"hex");e.create=function(e){return new k(t,r,e)},e.update=function(t,r){return e.create(r).update(t)};for(var o=0;o<u.length;++o){var s=u[o];e[s]=f(t,r,s)}return e}}],l={},d=0;d<p.length;++d)for(var y=p[d],b=y.bits,v=0;v<b.length;++v)l[y.name+"_"+b[v]]=y.createMethod(b[v],y.padding);function k(t,r,e){this.blocks=[],this.s=[],this.padding=r,this.outputBits=e,this.reset=!0,this.block=0,this.start=0,this.blockCount=1600-(t<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=e>>5,this.extraBytes=(31&e)>>3;for(var o=0;o<50;++o)this.s[o]=0}k.prototype.update=function(t){var r="string"!=typeof t;r&&t.constructor==e.ArrayBuffer&&(t=new Uint8Array(t));for(var o,s,n=t.length,a=this.blocks,u=this.byteCount,h=this.blockCount,f=0,c=this.s;f<n;){if(this.reset)for(this.reset=!1,a[0]=this.block,o=1;o<h+1;++o)a[o]=0;if(r)for(o=this.start;f<n&&o<u;++f)a[o>>2]|=t[f]<<i[3&o++];else for(o=this.start;f<n&&o<u;++f)(s=t.charCodeAt(f))<128?a[o>>2]|=s<<i[3&o++]:s<2048?(a[o>>2]|=(192|s>>6)<<i[3&o++],a[o>>2]|=(128|63&s)<<i[3&o++]):s<55296||s>=57344?(a[o>>2]|=(224|s>>12)<<i[3&o++],a[o>>2]|=(128|s>>6&63)<<i[3&o++],a[o>>2]|=(128|63&s)<<i[3&o++]):(s=65536+((1023&s)<<10|1023&t.charCodeAt(++f)),a[o>>2]|=(240|s>>18)<<i[3&o++],a[o>>2]|=(128|s>>12&63)<<i[3&o++],a[o>>2]|=(128|s>>6&63)<<i[3&o++],a[o>>2]|=(128|63&s)<<i[3&o++]);if(this.lastByteIndex=o,o>=u){for(this.start=o-u,this.block=a[h],o=0;o<h;++o)c[o]^=a[o];B(c),this.reset=!0}else this.start=o}return this},k.prototype.finalize=function(){var t=this.blocks,r=this.lastByteIndex,e=this.blockCount,o=this.s;if(t[r>>2]|=this.padding[3&r],this.lastByteIndex==this.byteCount)for(t[0]=t[e],r=1;r<e+1;++r)t[r]=0;for(t[e-1]|=2147483648,r=0;r<e;++r)o[r]^=t[r];B(o)},k.prototype.toString=k.prototype.hex=function(){this.finalize();for(var t,r=this.blockCount,e=this.s,o=this.outputBlocks,i=this.extraBytes,n=0,a=0,u="";a<o;){for(n=0;n<r&&a<o;++n,++a)t=e[n],u+=s[t>>4&15]+s[15&t]+s[t>>12&15]+s[t>>8&15]+s[t>>20&15]+s[t>>16&15]+s[t>>28&15]+s[t>>24&15];a%r==0&&(B(e),n=0)}return i&&(t=e[n],i>0&&(u+=s[t>>4&15]+s[15&t]),i>1&&(u+=s[t>>12&15]+s[t>>8&15]),i>2&&(u+=s[t>>20&15]+s[t>>16&15])),u},k.prototype.arrayBuffer=function(){this.finalize();var t,r=this.blockCount,e=this.s,o=this.outputBlocks,s=this.extraBytes,i=0,n=0,a=this.outputBits>>3;t=s?new ArrayBuffer(o+1<<2):new ArrayBuffer(a);for(var u=new Uint32Array(t);n<o;){for(i=0;i<r&&n<o;++i,++n)u[n]=e[i];n%r==0&&B(e)}return s&&(u[i]=e[i],t=t.slice(0,a)),t},k.prototype.buffer=k.prototype.arrayBuffer,k.prototype.digest=k.prototype.array=function(){this.finalize();for(var t,r,e=this.blockCount,o=this.s,s=this.outputBlocks,i=this.extraBytes,n=0,a=0,u=[];a<s;){for(n=0;n<e&&a<s;++n,++a)t=a<<2,r=o[n],u[t]=255&r,u[t+1]=r>>8&255,u[t+2]=r>>16&255,u[t+3]=r>>24&255;a%e==0&&B(o)}return i&&(t=a<<2,r=o[n],i>0&&(u[t]=255&r),i>1&&(u[t+1]=r>>8&255),i>2&&(u[t+2]=r>>16&255)),u};var B=function(t){var r,e,o,s,i,a,u,h,f,c,p,l,d,y,b,v,k,B,g,x,C,m,w,A,z,M,S,I,_,j,T,U,q,E,H,J,D,F,G,K,L,N,O,P,Q,R,V,W,X,Y,Z,$,tt,rt,et,ot,st,it,nt,at,ut,ht,ft;for(o=0;o<48;o+=2)s=t[0]^t[10]^t[20]^t[30]^t[40],i=t[1]^t[11]^t[21]^t[31]^t[41],a=t[2]^t[12]^t[22]^t[32]^t[42],u=t[3]^t[13]^t[23]^t[33]^t[43],h=t[4]^t[14]^t[24]^t[34]^t[44],f=t[5]^t[15]^t[25]^t[35]^t[45],c=t[6]^t[16]^t[26]^t[36]^t[46],p=t[7]^t[17]^t[27]^t[37]^t[47],r=(l=t[8]^t[18]^t[28]^t[38]^t[48])^(a<<1|u>>>31),e=(d=t[9]^t[19]^t[29]^t[39]^t[49])^(u<<1|a>>>31),t[0]^=r,t[1]^=e,t[10]^=r,t[11]^=e,t[20]^=r,t[21]^=e,t[30]^=r,t[31]^=e,t[40]^=r,t[41]^=e,r=s^(h<<1|f>>>31),e=i^(f<<1|h>>>31),t[2]^=r,t[3]^=e,t[12]^=r,t[13]^=e,t[22]^=r,t[23]^=e,t[32]^=r,t[33]^=e,t[42]^=r,t[43]^=e,r=a^(c<<1|p>>>31),e=u^(p<<1|c>>>31),t[4]^=r,t[5]^=e,t[14]^=r,t[15]^=e,t[24]^=r,t[25]^=e,t[34]^=r,t[35]^=e,t[44]^=r,t[45]^=e,r=h^(l<<1|d>>>31),e=f^(d<<1|l>>>31),t[6]^=r,t[7]^=e,t[16]^=r,t[17]^=e,t[26]^=r,t[27]^=e,t[36]^=r,t[37]^=e,t[46]^=r,t[47]^=e,r=c^(s<<1|i>>>31),e=p^(i<<1|s>>>31),t[8]^=r,t[9]^=e,t[18]^=r,t[19]^=e,t[28]^=r,t[29]^=e,t[38]^=r,t[39]^=e,t[48]^=r,t[49]^=e,y=t[0],b=t[1],R=t[11]<<4|t[10]>>>28,V=t[10]<<4|t[11]>>>28,I=t[20]<<3|t[21]>>>29,_=t[21]<<3|t[20]>>>29,at=t[31]<<9|t[30]>>>23,ut=t[30]<<9|t[31]>>>23,N=t[40]<<18|t[41]>>>14,O=t[41]<<18|t[40]>>>14,E=t[2]<<1|t[3]>>>31,H=t[3]<<1|t[2]>>>31,v=t[13]<<12|t[12]>>>20,k=t[12]<<12|t[13]>>>20,W=t[22]<<10|t[23]>>>22,X=t[23]<<10|t[22]>>>22,j=t[33]<<13|t[32]>>>19,T=t[32]<<13|t[33]>>>19,ht=t[42]<<2|t[43]>>>30,ft=t[43]<<2|t[42]>>>30,rt=t[5]<<30|t[4]>>>2,et=t[4]<<30|t[5]>>>2,J=t[14]<<6|t[15]>>>26,D=t[15]<<6|t[14]>>>26,B=t[25]<<11|t[24]>>>21,g=t[24]<<11|t[25]>>>21,Y=t[34]<<15|t[35]>>>17,Z=t[35]<<15|t[34]>>>17,U=t[45]<<29|t[44]>>>3,q=t[44]<<29|t[45]>>>3,A=t[6]<<28|t[7]>>>4,z=t[7]<<28|t[6]>>>4,ot=t[17]<<23|t[16]>>>9,st=t[16]<<23|t[17]>>>9,F=t[26]<<25|t[27]>>>7,G=t[27]<<25|t[26]>>>7,x=t[36]<<21|t[37]>>>11,C=t[37]<<21|t[36]>>>11,$=t[47]<<24|t[46]>>>8,tt=t[46]<<24|t[47]>>>8,P=t[8]<<27|t[9]>>>5,Q=t[9]<<27|t[8]>>>5,M=t[18]<<20|t[19]>>>12,S=t[19]<<20|t[18]>>>12,it=t[29]<<7|t[28]>>>25,nt=t[28]<<7|t[29]>>>25,K=t[38]<<8|t[39]>>>24,L=t[39]<<8|t[38]>>>24,m=t[48]<<14|t[49]>>>18,w=t[49]<<14|t[48]>>>18,t[0]=y^~v&B,t[1]=b^~k&g,t[10]=A^~M&I,t[11]=z^~S&_,t[20]=E^~J&F,t[21]=H^~D&G,t[30]=P^~R&W,t[31]=Q^~V&X,t[40]=rt^~ot&it,t[41]=et^~st&nt,t[2]=v^~B&x,t[3]=k^~g&C,t[12]=M^~I&j,t[13]=S^~_&T,t[22]=J^~F&K,t[23]=D^~G&L,t[32]=R^~W&Y,t[33]=V^~X&Z,t[42]=ot^~it&at,t[43]=st^~nt&ut,t[4]=B^~x&m,t[5]=g^~C&w,t[14]=I^~j&U,t[15]=_^~T&q,t[24]=F^~K&N,t[25]=G^~L&O,t[34]=W^~Y&$,t[35]=X^~Z&tt,t[44]=it^~at&ht,t[45]=nt^~ut&ft,t[6]=x^~m&y,t[7]=C^~w&b,t[16]=j^~U&A,t[17]=T^~q&z,t[26]=K^~N&E,t[27]=L^~O&H,t[36]=Y^~$&P,t[37]=Z^~tt&Q,t[46]=at^~ht&rt,t[47]=ut^~ft&et,t[8]=m^~y&v,t[9]=w^~b&k,t[18]=U^~A&M,t[19]=q^~z&S,t[28]=N^~E&J,t[29]=O^~H&D,t[38]=$^~P&R,t[39]=tt^~Q&V,t[48]=ht^~rt&ot,t[49]=ft^~et&st,t[0]^=n[o],t[1]^=n[o+1]};if(o)module.exports=l;else if(e)for(var g in l)e[g]=l[g]}(this);
},{"process":"pBGv"}],"xhHI":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=require("bn.js"),n=require("number-to-bn"),t=require("js-sha3").keccak_256;function i(e){for(var r=e,n=r[0];r.length>0&&"0"===n.toString();)n=(r=r.slice(1))[0];return r}function o(r){var n=r.toString(16);return n.length%2&&(n="0"+n),i(new e(n,"hex"))}function a(e,r){return!("string"!=typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!r||e.length===2+2*r)}function d(r,n){var t=r;if(!e.isBuffer(t)){if(!a(t)){var i=new Error(n?"[ethjs-abi] invalid "+n:"[ethjs-abi] invalid hex or buffer, must be a prefixed alphanumeric even length hex string");throw i.reason="[ethjs-abi] invalid hex string, hex must be prefixed and alphanumeric (e.g. 0x023..)",i.value=t,i}(t=t.substring(2)).length%2&&(t="0"+t),t=new e(t,"hex")}return t}function s(e){return"number"==typeof e?"0x"+o(new r(e)).toString("hex"):e.mod||e.modulo?"0x"+o(e).toString("hex"):"0x"+d(e).toString("hex")}function u(e,r,n){var t=[];if(!Array.isArray(e))throw new Error("[ethjs-abi] while getting keys, invalid params value "+JSON.stringify(e));for(var i=0;i<e.length;i++){var o=e[i][r];if(n&&!o)o="";else if("string"!=typeof o)throw new Error("[ethjs-abi] while getKeys found invalid ABI data structure, type value not string");t.push(o)}return t}function c(t,i){return{encode:function(r){var o=r;return"object"==typeof o&&o.toString&&(o.toTwos||o.dividedToIntegerBy)&&(o=o.toString(10).split(".")[0]),"string"!=typeof o&&"number"!=typeof o||(o=String(o).split(".")[0]),o=(o=n(o)).toTwos(8*t).maskn(8*t),i&&(o=o.fromTwos(8*t).toTwos(256)),o.toArrayLike(e,"be",32)},decode:function(e,n){var o=32-t,a=new r(e.slice(n+o,n+32));return a=i?a.fromTwos(8*t):a.maskn(8*t),{consumed:32,value:new r(a.toString(10))}}}}var h=c(32,!1),l={encode:function(e){return h.encode(e?1:0)},decode:function(e,r){var n=h.decode(e,r);return{consumed:n.consumed,value:!n.value.isZero()}}};function f(r){return{encode:function(r){var n=r;if(32===(n=d(n)).length)return n;var t=new e(32);return t.fill(0),n.copy(t),t},decode:function(e,n){if(0!==e.length&&e.length<n+32)throw new Error("[ethjs-abi] while decoding fixed bytes, invalid bytes data length: "+r);return{consumed:32,value:"0x"+e.slice(n,n+r).toString("hex")}}}}var g={encode:function(r){var n=r,t=new e(32);if(!a(n,20))throw new Error("[ethjs-abi] while encoding address, invalid address value, not alphanumeric 20 byte hex string");return n=d(n),t.fill(0),n.copy(t,12),t},decode:function(e,r){if(0===e.length)return{consumed:32,value:"0x"};if(0!==e.length&&e.length<r+32)throw new Error("[ethjs-abi] while decoding address data, invalid address data, invalid byte length "+e.length);return{consumed:32,value:"0x"+e.slice(r+12,r+32).toString("hex")}}};function w(r){var n=parseInt(32*Math.ceil(r.length/32)),t=new e(n-r.length);return t.fill(0),e.concat([h.encode(r.length),r,t])}function v(e,r){if(0!==e.length&&e.length<r+32)throw new Error("[ethjs-abi] while decoding dynamic bytes data, invalid bytes length: "+e.length+" should be less than "+(r+32));var n=h.decode(e,r).value;if(n=n.toNumber(),0!==e.length&&e.length<r+32+n)throw new Error("[ethjs-abi] while decoding dynamic bytes data, invalid bytes length: "+e.length+" should be less than "+(r+32+n));return{consumed:parseInt(32+32*Math.ceil(n/32),10),value:e.slice(r+32,r+32+n)}}var b={encode:function(e){return w(d(e))},decode:function(e,r){var n=v(e,r);return n.value="0x"+n.value.toString("hex"),n},dynamic:!0},y={encode:function(r){return w(new e(r,"utf8"))},decode:function(e,r){var n=v(e,r);return n.value=n.value.toString("utf8"),n},dynamic:!0};function m(r,n){return{encode:function(t){var i=new e(0),o=n;if(!Array.isArray(t))throw new Error("[ethjs-abi] while encoding array, invalid array data, not type Object (Array)");if(-1===o&&(o=t.length,i=h.encode(o)),o!==t.length)throw new Error("[ethjs-abi] while encoding array, size mismatch array length "+o+" does not equal "+t.length);return t.forEach(function(n){i=e.concat([i,r.encode(n)])}),i},decode:function(e,t){var i,o=n,a=t,d=0;-1===o&&(o=(i=h.decode(e,a)).value.toNumber(),d+=i.consumed,a+=i.consumed);for(var s=[],u=0;u<o;u++){var c=r.decode(e,a);d+=c.consumed,a+=c.consumed,s.push(c.value)}return{consumed:d,value:s}},dynamic:-1===n}}var p=new RegExp(/^((u?int|bytes)([0-9]*)|(address|bool|string)|(\[([0-9]*)\]))/);function x(e){for(var r=e,n=null,t="[ethjs-abi] while getting param coder (getParamCoder) type value "+JSON.stringify(r)+" is either invalid or unsupported by ethjs-abi.";r;){var i=r.match(p);if(!i)throw new Error(t);r=r.substring(i[0].length);var o=i[2]||i[4]||i[5];switch(o){case"int":case"uint":if(n)throw new Error(t);var a=parseInt(i[3]||256);if(0===a||a>256||a%8!=0)throw new Error("[ethjs-abi] while getting param coder for type "+r+", invalid "+o+"<N> width: "+r);n=c(a/8,"int"===o);break;case"bool":if(n)throw new Error(t);n=l;break;case"string":if(n)throw new Error(t);n=y;break;case"bytes":if(n)throw new Error(t);if(i[3]){var d=parseInt(i[3]);if(0===d||d>32)throw new Error("[ethjs-abi] while getting param coder for prefix bytes, invalid type "+r+", size "+d+" should be 0 or greater than 32");n=f(d)}else n=b;break;case"address":if(n)throw new Error(t);n=g;break;case"[]":if(!n||n.dynamic)throw new Error(t);n=m(n,-1);break;default:if(!n||n.dynamic)throw new Error(t);n=m(n,parseInt(i[6]))}}if(!n)throw new Error(t);return n}module.exports={BN:r,bnToBuffer:o,isHexString:a,hexOrBuffer:d,hexlify:s,stripZeros:i,keccak256:t,getKeys:u,numberToBN:n,coderNumber:c,uint256Coder:h,coderBoolean:l,coderFixedBytes:f,coderAddress:g,coderDynamicBytes:b,coderString:y,coderArray:m,paramTypePart:p,getParamCoder:x};
},{"bn.js":"u1k2","number-to-bn":"EEAC","js-sha3":"fsuy","buffer":"peL6"}],"N2NP":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,n=require("./utils/index.js"),t=n.uint256Coder,r=n.coderBoolean,o=n.coderFixedBytes,u=n.coderAddress,a=n.coderDynamicBytes,c=n.coderString,i=n.coderArray,d=n.paramTypePart,s=n.getParamCoder;function f(){}function l(n,r){if(n.length!==r.length)throw new Error("[ethjs-abi] while encoding params, types/values mismatch, Your contract requires "+n.length+" types (arguments), and you passed in "+r.length);var o=[];function u(e){return parseInt(32*Math.ceil(e/32))}n.forEach(function(e,n){var t=s(e);o.push({dynamic:t.dynamic,value:t.encode(r[n])})});var a=0,c=0;o.forEach(function(e){e.dynamic?(a+=32,c+=u(e.value.length)):a+=u(e.value.length)});var i=0,d=a,f=new e(a+c);return o.forEach(function(e,n){e.dynamic?(t.encode(d).copy(f,i),i+=32,e.value.copy(f,d),d+=u(e.value.length)):(e.value.copy(f,i),i+=u(e.value.length))}),"0x"+f.toString("hex")}function v(e,r,o){var u=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];arguments.length<3&&(o=r,r=e,e=[]),o=n.hexOrBuffer(o);var a=new f,c=0;return r.forEach(function(n,r){var i=s(n);if(i.dynamic){var d=t.decode(o,c),f=i.decode(o,d.value.toNumber());c+=d.consumed}else{f=i.decode(o,c);c+=f.consumed}u&&(a[r]=f.value),e[r]&&(a[e[r]]=f.value)}),a}function h(t,r){var o=t.name+"("+n.getKeys(t.inputs,"type").join(",")+")";return""+("0x"+new e(n.keccak256(o),"hex").slice(0,4).toString("hex"))+l(n.getKeys(t.inputs,"type"),r).substring(2)}function p(e,t){return v(n.getKeys(e.outputs,"name",!0),n.getKeys(e.outputs,"type"),n.hexOrBuffer(t))}function y(e,n){return h(e,n)}function g(e){var t=e.name+"("+n.getKeys(e.inputs,"type").join(",")+")";return"0x"+n.keccak256(t)}function m(t,r,o){var u=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=t.inputs.filter(function(e){return!e.indexed}),c=v(n.getKeys(a,"name",!0),n.getKeys(a,"type"),n.hexOrBuffer(r),u),i=t.anonymous?0:1;return t.inputs.filter(function(e){return e.indexed}).map(function(n,t){var r=new e(o[t+i].slice(2),"hex"),u=s(n.type);c[n.name]=u.decode(r,0).value}),c._eventName=t.name,c}function x(e,n){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e&&n.topics[0]===g(e))return m(e,n.data,n.topics,t)}function w(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t={};return e.filter(function(e){return"event"===e.type}).map(function(e){t[g(e)]=e}),function(e){return e.map(function(e){return x(t[e.topics[0]],e,n)}).filter(function(e){return e})}}module.exports={encodeParams:l,decodeParams:v,encodeMethod:h,decodeMethod:p,encodeEvent:y,decodeEvent:m,decodeLogItem:x,logDecoder:w,eventSignature:g};
},{"./utils/index.js":"xhHI","buffer":"peL6"}],"Jt9w":[function(require,module,exports) {
"use strict";function t(t,e){function n(t){var n=this;n.filterId=null,n.options=Object.assign({delay:300,decoder:function(t){return t},defaultFilterObject:{}},t||{}),n.watchers={},n.interval=setInterval(function(){null!==n.filterId&&Object.keys(n.watchers).length>0&&e.getFilterChanges(n.filterId,function(t,e){var r=[],i=null;if(!t)try{e.forEach(function(t,i){r[i]=e[i],r[i].data=n.options.decoder(r[i].data)})}catch(o){i=new Error("[ethjs-filter] while decoding filter change event data from RPC '"+JSON.stringify(r)+"': "+o)}Object.keys(n.watchers).forEach(function(o){var c=n.watchers[o];!0!==c.stop?i?(c.reject(i),c.callback(i,null)):(t?c.reject(t):Array.isArray(r)&&e.length>0&&c.resolve(r),c.callback(t,r)):delete n.watchers[o]})})},n.options.delay)}return n.prototype.at=function(t){this.filterId=t},n.prototype.watch=function(t){var e=t||function(){},n=this,r=Math.random().toString(36).substring(7),i=new Promise(function(t,i){n.watchers[r]={resolve:t,reject:i,callback:e,stop:!1}});return i.stopWatching=function(){n.watchers[r].stop=!0},i},n.prototype.uninstall=function(t){var n=this,r=t||function(){};return n.watchers=Object.assign({}),clearInterval(n.interval),new Promise(function(t,i){e.uninstallFilter(n.filterId,function(e,n){e?i(e):t(n),r(e,n)})})},n.prototype.new=function(){var n=function(){},r=this,i=[],o=[].slice.call(arguments);return"function"==typeof o[o.length-1]&&(n=o.pop()),"Filter"===t&&i.push(Object.assign(r.options.defaultFilterObject,o[o.length-1]||{})),new Promise(function(o,c){i.push(function(t,e){t?c(t):(r.filterId=e,o(e)),n(t,e)}),e["new"+t].apply(e,i)})},n}function e(n){if(!(this instanceof e))throw new Error("the EthFilter object must be instantiated with `new` flag.. (e.g. `const filters = new EthFilter(query);`)");if("object"!=typeof n)throw new Error("the EthFilter object must be instantiated with an EthQuery instance (e.g. `const filters = new EthFilter(new EthQuery(provider));`). See github.com/ethjs/ethjs-query for more details..");this.Filter=t("Filter",n),this.BlockFilter=t("BlockFilter",n),this.PendingTransactionFilter=t("PendingTransactionFilter",n)}module.exports=e;
},{}],"vS84":[function(require,module,exports) {
"use strict";var t=require("ethjs-abi"),e=require("js-sha3").keccak_256,n=require("ethjs-filter"),r=require("ethjs-util").getKeys,o=require("ethjs-util").arrayContainsArray;function a(t){return!(!("object"==typeof t&&!0===Array.isArray(t)&&t.length>0&&"object"==typeof t[t.length-1])||0!==Object.keys(t[t.length-1]).length&&!o(Object.keys(t[t.length-1]),["from","to","data","value","gasPrice","gas"],!0))}function c(t){return t.filter(function(t){return"constructor"===t.type})[0]}function i(t){return t.filter(function(t){return("function"===t.type||"event"===t.type)&&t.name.length>0})}function s(o){return function(s,u,f){if(!Array.isArray(s))throw new Error("[ethjs-contract] Contract ABI must be type Array, got type "+typeof s);if(void 0!==u&&"string"!=typeof u)throw new Error("[ethjs-contract] Contract bytecode must be type String, got type "+typeof u);if(void 0!==f&&"object"!=typeof f)throw new Error("[ethjs-contract] Contract default tx object must be type Object, got type "+typeof s);var l={at:function(c){return new function(){var l=this;l.abi=s||[],l.query=o,l.address=c||"0x",l.bytecode=u||"0x",l.defaultTxObject=f||{},l.filters=new n(o),i(s).forEach(function(n){l[n.name]=function(){var c,i,s,u="call",f={},y=function(){},p=[].slice.call(arguments);if("function"==typeof p[p.length-1]&&(y=p.pop()),"function"===n.type)return new Promise(function(e,r){a(p)&&(f=p.pop());var c=Object.assign({},l.defaultTxObject,f,{to:l.address});c.data=t.encodeMethod(n,p),!1===n.constant&&(u="sendTransaction"),o[u](c,function(o,a){if("call"!==u||o)"sendTransaction"!==u||o?(r(o),y(o,null)):(e(a),y(null,a));else try{var c=t.decodeMethod(n,a);e(c),y(null,c)}catch(s){var i=new Error("[ethjs-contract] while formatting incoming raw call data "+JSON.stringify(a)+" "+s);r(i),y(i,null)}})});if("event"===n.type){var d=(c=r(n.inputs,"type",!1),i=["0x"+e(n.name+"("+c.join(",")+")")],s=Object.assign({},p[0])||{},{v:new l.filters.Filter(Object.assign({},s,{decoder:function(e){return t.decodeEvent(n,e,i)},defaultFilterObject:Object.assign({},p[0]||{},{to:l.address,topics:i})}))});if("object"==typeof d)return d.v}}})}},new:function(){var e={},n=function(){},i=[].slice.call(arguments);"function"==typeof i[i.length-1]&&(n=i.pop()),a(i)&&(e=i.pop());var l=c(s),y=Object.assign({},f,e);if(u&&(y.data=u),l){var p=t.encodeParams(r(l.inputs,"type"),i).substring(2);y.data=""+y.data+p}return o.sendTransaction(y,n)}};return l}}function u(t){return s(t)}module.exports=u;
},{"ethjs-abi":"N2NP","js-sha3":"fsuy","ethjs-filter":"Jt9w","ethjs-util":"ndER"}],"zV6L":[function(require,module,exports) {
var define;
var process = require("process");
var r,t=require("process");!function(t,n){"function"==typeof r&&r.amd?r(["punycode","./idna-map"],function(r,t){return n(r,t)}):"object"==typeof exports?module.exports=n(require("punycode"),require("./idna-map")):t.uts46=n(t.punycode,t.idna_map)}(this,function(r,t){function n(r,n,e){var i=[];for(var o of r){var a=o.codePointAt(0),u=t.mapChar(a),s=u>>23,d=u>>21&3,l=u>>5&65535,h=31&u,f=t.mapStr.substr(l,h);if(0==d||n&&1&s)throw new Error("Illegal char "+o);1==d?i.push(f):2==d?i.push(e?f:o):3==d&&i.push(o)}return i.join("").normalize("NFC")}function e(t,e,o){void 0===o&&(o=!1);var a=n(t,o,e).split(".");return(a=a.map(function(t){return t.startsWith("xn--")?i(t=r.decode(t.substring(4)),o,!1):i(t,o,e),t})).join(".")}function i(r,e,i){if("-"==r[2]&&"-"==r[3])throw new Error("Failed to validate "+r);if(r.startsWith("-")||r.endsWith("-"))throw new Error("Failed to validate "+r);if(r.includes("."))throw new Error("Failed to validate "+r);if(n(r,e,i)!=r)throw new Error("Failed to validate "+r);var o=r.codePointAt(0);if(t.mapChar(o)&2<<23)throw new Error("Label contains illegal character: "+o)}return{toUnicode:function(r,t){return void 0===t&&(t={}),e(r,!1,"useStd3ASCII"in t&&t.useStd3ASCII)},toAscii:function(t,n){void 0===n&&(n={});var i=!("transitional"in n)||n.transitional,o="useStd3ASCII"in n&&n.useStd3ASCII,a="verifyDnsLength"in n&&n.verifyDnsLength,u=e(t,i,o).split(".").map(r.toASCII),s=u.join(".");if(a){if(s.length<1||s.length>253)throw new Error("DNS name has wrong length: "+s);for(var d of u)if(d.length<1||d.length>63)throw new Error("DNS label has wrong length: "+d)}return s}}});
},{"punycode":"oWqx","./idna-map":"zfoe","process":"pBGv"}],"Whlg":[function(require,module,exports) {
var Buffer = require("buffer").Buffer;
var e=require("buffer").Buffer,r=require("js-sha3").keccak_256,n=require("idna-uts46");function a(e){return e?n.toUnicode(e,{useStd3ASCII:!0,transitional:!1}):e}module.exports=function(n){for(var t="",u=0;u<32;u++)t+="00";if(name=a(n),name){var i=name.split(".");for(u=i.length-1;u>=0;u--){var f=r(i[u]);t=r(new e(t+f,"hex"))}}return`0x${t}`};
},{"js-sha3":"B0TF","idna-uts46":"zV6L","buffer":"peL6"}],"Wcvx":[function(require,module,exports) {
module.exports=[{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"resolver",outputs:[{name:"",type:"address"}],type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"owner",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"resolver",type:"address"}],name:"setResolver",outputs:[],type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"label",type:"bytes32"},{name:"owner",type:"address"}],name:"setSubnodeOwner",outputs:[],type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"owner",type:"address"}],name:"setOwner",outputs:[],type:"function"}];
},{}],"AKDi":[function(require,module,exports) {
module.exports=[{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"addr",outputs:[{name:"",type:"address"}],type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"content",outputs:[{name:"",type:"bytes32"}],type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"}],name:"name",outputs:[{name:"",type:"string"}],type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"},{name:"kind",type:"bytes32"}],name:"has",outputs:[{name:"",type:"bool"}],type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"addr",type:"address"}],name:"setAddr",outputs:[],type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"hash",type:"bytes32"}],name:"setContent",outputs:[],type:"function"},{constant:!1,inputs:[{name:"node",type:"bytes32"},{name:"name",type:"string"}],name:"setName",outputs:[],type:"function"},{constant:!0,inputs:[{name:"node",type:"bytes32"},{name:"contentType",type:"uint256"}],name:"ABI",outputs:[{name:"",type:"uint256"},{name:"",type:"bytes"}],payable:!1,type:"function"}];
},{}],"VEGI":[function(require,module,exports) {
module.exports={1:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",3:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",4:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",5:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"};
},{}],"Wc6C":[function(require,module,exports) {
const e=require("ethjs-query"),r=require("ethjs-contract"),t=require("eth-ens-namehash"),s=require("./abis/registry.json"),o=require("./abis/resolver.json"),h=require("ethereum-ens-network-map"),i="0x0000000000000000000000000000000000000000000000000000000000000000",n="0x0000000000000000000000000000000000000000",a=new Error("ENS name not defined."),d=new Error("Illegal Character for ENS.");class u{constructor(i={}){const{provider:n,network:a}=i;let{registryAddress:d}=i;if(!n)throw new Error("The EthJsENS Constructor requires a provider.");if(!a&&!d)throw new Error("The EthJsENS Constructor requires a network or registry address.");this.provider=n,this.eth=new e(this.provider),this.contract=new r(this.eth),this.namehash=t,this.Registry=this.contract(s),!d&&a&&(d=h[a]),this.registry=this.Registry.at(d),this.Resolver=this.contract(o)}lookup(e=""){return this.getNamehash(e).then(e=>e===i?Promise.reject(a):this.resolveAddressForNode(e))}getNamehash(e){try{return Promise.resolve(t(e))}catch(r){return Promise.reject(d)}}getOwner(e=""){return this.getNamehash(e).then(e=>this.getOwnerForNode(e))}getOwnerForNode(e){return e===i?Promise.reject(a):this.registry.owner(e).then(e=>{const r=e[0];if(r===n)throw a;return r})}getResolver(e=""){return this.getNamehash(e).then(e=>this.getResolverForNode(e))}getResolverAddress(e=""){return this.getNamehash(e).then(e=>this.getResolverAddressForNode(e))}getResolverForNode(e){return e.startsWith("0x")||(e=`0x${e}`),this.getResolverAddressForNode(e).then(e=>this.Resolver.at(e))}getResolverAddressForNode(e){return this.registry.resolver(e).then(e=>{const r=e[0];if(r===n)throw a;return r})}resolveAddressForNode(e){return this.getResolverForNode(e).then(r=>r.addr(e)).then(e=>e[0])}reverse(e){if(!e)return Promise.reject(new Error("Must supply an address to reverse lookup."));e.startsWith("0x")&&(e=e.slice(2));const r=`${e.toLowerCase()}.addr.reverse`,s=t(r);return this.getNamehash(r).then(e=>this.getResolverForNode(e)).then(e=>e.name(s)).then(e=>e[0])}}module.exports=u;
},{"ethjs-query":"pEIX","ethjs-contract":"vS84","eth-ens-namehash":"Whlg","./abis/registry.json":"Wcvx","./abis/resolver.json":"AKDi","ethereum-ens-network-map":"VEGI"}],"IAgR":[function(require,module,exports) {
var s=1e3,e=60*s,r=60*e,a=24*r,n=7*a,c=365.25*a;function t(t){if(!((t=String(t)).length>100)){var u=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(u){var i=parseFloat(u[1]);switch((u[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return i*c;case"weeks":case"week":case"w":return i*n;case"days":case"day":case"d":return i*a;case"hours":case"hour":case"hrs":case"hr":case"h":return i*r;case"minutes":case"minute":case"mins":case"min":case"m":return i*e;case"seconds":case"second":case"secs":case"sec":case"s":return i*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}function u(n){var c=Math.abs(n);return c>=a?Math.round(n/a)+"d":c>=r?Math.round(n/r)+"h":c>=e?Math.round(n/e)+"m":c>=s?Math.round(n/s)+"s":n+"ms"}function i(n){var c=Math.abs(n);return c>=a?o(n,c,a,"day"):c>=r?o(n,c,r,"hour"):c>=e?o(n,c,e,"minute"):c>=s?o(n,c,s,"second"):n+" ms"}function o(s,e,r,a){var n=e>=1.5*r;return Math.round(s/r)+" "+a+(n?"s":"")}module.exports=function(s,e){e=e||{};var r=typeof s;if("string"===r&&s.length>0)return t(s);if("number"===r&&isFinite(s))return e.long?i(s):u(s);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(s))};
},{}],"Kest":[function(require,module,exports) {
function e(e){function n(e){let r,s,o,a=null;function l(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];if(!l.enabled)return;const o=l,a=Number(new Date),i=a-(r||a);o.diff=i,o.prev=r,o.curr=a,r=a,t[0]=n.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let c=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(e,r)=>{if("%%"===e)return"%";c++;const s=n.formatters[r];if("function"==typeof s){const n=t[c];e=s.call(o,n),t.splice(c,1),c--}return e}),n.formatArgs.call(o,t),(o.log||n.log).apply(o,t)}return l.namespace=e,l.useColors=n.useColors(),l.color=n.selectColor(e),l.extend=t,l.destroy=n.destroy,Object.defineProperty(l,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==a?a:(s!==n.namespaces&&(s=n.namespaces,o=n.enabled(e)),o),set:e=>{a=e}}),"function"==typeof n.init&&n.init(l),l}function t(e,t){const r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},n.disable=function(){const e=[...n.names.map(r),...n.skips.map(r).map(e=>"-"+e)].join(",");return n.enable(""),e},n.enable=function(e){let t;n.save(e),n.namespaces=e,n.names=[],n.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),s=r.length;for(t=0;t<s;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")))},n.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=require("ms"),n.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(t=>{n[t]=e[t]}),n.names=[],n.skips=[],n.formatters={},n.selectColor=function(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return n.colors[Math.abs(t)%n.colors.length]},n.enable(n.load()),n}module.exports=e;
},{"ms":"IAgR"}],"jcLW":[function(require,module,exports) {
var process = require("process");
var e=require("process");function o(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function t(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+module.exports.humanize(this.diff),!this.useColors)return;const o="color: "+this.color;e.splice(1,0,o,"color: inherit");let t=0,C=0;e[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(t++,"%c"===e&&(C=t))}),e.splice(C,0,o)}function C(e){try{e?exports.storage.setItem("debug",e):exports.storage.removeItem("debug")}catch(o){}}function r(){let o;try{o=exports.storage.getItem("debug")}catch(t){}return!o&&void 0!==e&&"env"in e&&(o=void 0),o}function n(){try{return localStorage}catch(e){}}exports.formatArgs=t,exports.save=C,exports.load=r,exports.useColors=o,exports.storage=n(),exports.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),exports.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],exports.log=console.debug||console.log||(()=>{}),module.exports=require("./common")(exports);const{formatters:s}=module.exports;s.j=function(e){try{return JSON.stringify(e)}catch(o){return"[UnexpectedJSONParseError]: "+o.message}};
},{"./common":"Kest","process":"pBGv"}],"qeEG":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime/helpers/interopRequireDefault"),r=e(require("ethjs-ens"));Object.defineProperty(exports,"__esModule",{value:!0}),exports.resolve=s,exports.default=n;const o=require("debug")("aragon.ens");function s(e,s={provider:{}}){const n=e.includes(".");s.provider.sendAsync||(s.provider.sendAsync=s.provider.send);const t=new r.default(s);return n?(o(`Looking up ENS name ${e}`),t.lookup(e)):(o(`Looking up ENS node ${e}`),t.resolveAddressForNode(e))}function n(e,r){return{resolve:o=>s(o,{provider:e,registryAddress:r})}}
},{"@babel/runtime/helpers/interopRequireDefault":"SpGf","ethjs-ens":"Wc6C","debug":"jcLW"}],"vLAp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;class e{async init(){}async resolve(){throw new Error("Not implemented")}async modify(){throw new Error("Not implemented")}}exports.default=e;
},{}],"dyqY":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("../cache")),a=e(require("./AddressIdentityProvider"));class r extends a.default{constructor(){super(),this.identityCache=new t.default("localIdentity")}async init(){await this.identityCache.init()}async resolve(e){return e=e.toLowerCase(),this.identityCache.get(e)}async modify(e,{name:t="",createdAt:a=Date.now()}={}){if(!t)throw new Error("name is required when modifying a local identity");e=e.toLowerCase();const r={name:t,createdAt:a};return await this.identityCache.set(e,r),Promise.resolve({address:e,metadata:r})}async search(e=""){const t="0x"===e.substring(0,2).toLowerCase(),a=await this.identityCache.getAll();return Object.entries(a).filter(([a,{name:r}])=>t&&3<e.length&&0===a.toLowerCase().indexOf(e.toLowerCase())||-1<r.toLowerCase().indexOf(e.toLowerCase())).map(([e,{name:t}])=>({name:t,address:e}))}async getAll(){return this.identityCache.getAll()}async remove(e){await this.identityCache.remove(e.toLowerCase())}}exports.default=r;
},{"@babel/runtime/helpers/interopRequireDefault":"SpGf","../cache":"C1oQ","./AddressIdentityProvider":"vLAp"}],"RJhY":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"AddressIdentityProvider",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"LocalIdentityProvider",{enumerable:!0,get:function(){return t.default}});var r=e(require("./AddressIdentityProvider")),t=e(require("./LocalIdentityProvider"));
},{"@babel/runtime/helpers/interopRequireDefault":"SpGf","./AddressIdentityProvider":"vLAp","./LocalIdentityProvider":"dyqY"}],"JlI9":[function(require,module,exports) {
"use strict";function e(e,n){if("fallback"===n)return e.find(e=>"fallback"===e.type);const t=!!n&&n.includes("(")&&n.includes(")");return e.filter(e=>"function"===e.type).find(e=>{if(!t)return e.name===n;const i=e.inputs.map(({type:e})=>e);return`${e.name}(${i.join(",")})`===n})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.findMethodAbiFragment=e;
},{}],"na2Y":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime/helpers/interopRequireDefault"),t=e(require("web3-eth-abi"));Object.defineProperty(exports,"__esModule",{value:!0}),exports.decodeCallScript=n,exports.encodeCallScript=i,exports.isCallScript=o,exports.CALLSCRIPT_ID=void 0;const r="0x00000001";function s(e){const t=`0x${e.substring(0,40)}`;e=e.substring(40);const r=2*parseInt(`0x${e.substring(0,8)}`,16);return{segment:{to:t,data:`0x${(e=e.substring(8)).substring(0,r)}`},scriptLeft:e=e.substring(r)}}function n(e){if(!o(e))throw new Error(`Not a call script: ${e}`);let t=e.substring(10);const r=[];for(;0<t.length;){const{segment:e,scriptLeft:n}=s(t);r.push(e),t=n}return r}function i(e){return e.reduce((e,{to:r,data:s})=>{const n=t.default.encodeParameter("address",r),i=t.default.encodeParameter("uint256",(s.length-2)/2).toString("hex");return e+n.slice(26)+i.slice(58)+s.slice(2)},r)}function o(e){return e.substring(0,10)===r}exports.CALLSCRIPT_ID="0x00000001";
},{"@babel/runtime/helpers/interopRequireDefault":"SpGf","web3-eth-abi":"xc6K"}],"BeDK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isValidForwardCall=s,exports.parseForwardCall=t,exports.FORWARD_SIG=void 0;const r="0xd948d468";function s(s){const t=(s=s.replace(/^0x/,"")).substring(0,8),e=s.substring(8);return`0x${t}`===r&&128<=e.length}function t(r){const s=(r=r.replace(/^0x/,"")).substring(8),t=2*parseInt(`0x${s.substring(0,64)}`,16),e=t+64,n=2*parseInt(`0x${s.substring(t,e)}`,16);return`0x${s.substring(e,e+n)}`}exports.FORWARD_SIG="0xd948d468";
},{}],"Rbgv":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.applyPretransaction=l,exports.applyForwardingFeePretransaction=d,exports.createDirectTransaction=u,exports.createDirectTransactionForApp=f,exports.createForwarderTransactionBuilder=p,exports.getRecommendedGasLimit=w;var t=e(require("@babel/runtime/helpers/defineProperty")),r=require("web3-utils"),o=require("../interfaces"),n=require("./abi");function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,o)}return r}function c(e){for(var r,o=1;o<arguments.length;o++)r=null==arguments[o]?{}:arguments[o],o%2?a(Object(r),!0).forEach(function(o){(0,t.default)(e,o,r[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))});return e}const i=1.5,s=.95;async function l(e,t){if(e.token){const{from:n,to:a,token:{address:c,value:i,spender:s}}=e,l=s||a,d=(0,o.getAbi)("standard/ERC20"),u=new t.eth.Contract(d,c),f=await u.methods.balanceOf(n).call(),p=(0,r.toBN)(i);if((0,r.toBN)(f).lt(p))throw new Error(`Balance too low. ${n} balance of ${c} token is ${f} (attempting to send ${i})`);const w=await u.methods.allowance(n,l).call(),b=(0,r.toBN)(w);if(b.lt(p)){b.gt((0,r.toBN)(0))&&console.warn(`${n} already approved ${l}. In some tokens, approval will fail unless the allowance is reset to 0 before re-approving again.`);const t={from:n,to:c,data:u.methods.approve(l,i).encodeABI()};e.pretransaction=t,delete e.token}}return e}async function d(e,t){const{to:n,from:a}=e,c=new t.eth.Contract((0,o.getAbi)("aragon/ForwarderFee"),n).methods.forwardFee,i={amount:(0,r.toBN)(0)};try{const e=await c().call({from:a});i.tokenAddress=e[0],i.amount=(0,r.toBN)(e[1])}catch(s){}return i.tokenAddress&&i.amount.gt((0,r.toBN)(0))&&(e.token={address:i.tokenAddress,spender:n,value:i.amount.toString()}),l(e,t)}async function u(e,t,r,o,n){let a=!1;if("fallback"===r.type){if(1<o.length)throw new Error("Could not create transaction to fallback function due to too many parameters",o);a=1===o.length}else r.inputs.length+1===o.length&&"object"==typeof o[o.length-1]&&(a=!0);let i={};if(a){const e=o.pop();i=c(c({},i),e)}return l(c(c({},i),{},{from:e,to:t,data:n.eth.abi.encodeFunctionCall(r,o)}),n)}async function f(e,t,r,o,a){if(!t)throw new Error("Could not create transaction due to missing app artifact");const{proxyAddress:c}=t;if(!t.abi)throw new Error(`No ABI specified in artifact for ${c}`);const i=(0,n.findMethodAbiFragment)(t.abi,r);if(!i)throw new Error(`${r} not found on ABI for ${c}`);return u(e,c,i,o,a)}function p(e,t,r){const n=new r.eth.Contract((0,o.getAbi)("aragon/Forwarder")).methods.forward;return(r,o)=>c(c({},t),{},{from:e,to:r,data:n(o).encodeABI()})}async function w(e,t,{gasFuzzFactor:r=i}={}){const o=(await e.eth.getBlock("latest")).gasLimit,n=Math.round(o*s),a=Math.round(t*r);return t>n?t:a<n?a:n}
},{"@babel/runtime/helpers/interopRequireDefault":"SpGf","@babel/runtime/helpers/defineProperty":"IxO8","web3-utils":"tG0A","../interfaces":"VtZp","./abi":"JlI9"}],"SICC":[function(require,module,exports) {
"use strict";var e=require("@babel/runtime/helpers/interopRequireWildcard"),t=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"providers",{enumerable:!0,get:function(){return d.providers}}),Object.defineProperty(exports,"apm",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(exports,"ensResolve",{enumerable:!0,get:function(){return P.resolve}}),Object.defineProperty(exports,"AddressIdentityProvider",{enumerable:!0,get:function(){return A.AddressIdentityProvider}}),Object.defineProperty(exports,"getRecommendedGasLimit",{enumerable:!0,get:function(){return E.getRecommendedGasLimit}}),exports.default=exports.detectProvider=void 0;var r=t(require("@babel/runtime/helpers/objectWithoutProperties")),a=t(require("@babel/runtime/helpers/defineProperty")),s=require("rxjs"),i=require("rxjs/operators"),n=t(require("web3")),o=require("web3-utils"),c=t(require("dot-prop")),d=e(require("@aragon/rpc-messenger")),p=e(require("./rpc/handlers")),l=e(require("./apps")),u=t(require("./cache")),h=e(require("./core/apm")),w=require("./core/apm/repo"),y=require("./core/aragonOS"),f=require("./core/aragonOS/kernel"),m=require("./configuration"),g=e(require("./configuration/keys")),P=e(require("./ens")),A=require("./identity"),b=require("./interfaces"),v=require("./radspec"),x=require("./utils"),I=require("./utils/abi"),q=require("./utils/apps"),R=require("./utils/callscript"),T=require("./utils/forwarding"),k=require("./utils/intents"),E=require("./utils/transactions");function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function j(e){for(var t,r=1;r<arguments.length;r++)t=null==arguments[r]?{}:arguments[r],r%2?S(Object(t),!0).forEach(function(r){(0,a.default)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))});return e}const O=()=>"undefined"==typeof web3?"wss://rinkeby.eth.aragon.network/ws":web3.currentProvider;exports.detectProvider=O;class C{constructor(e,t={}){const r={defaultGasPriceFn:()=>{},provider:O(),cache:{forceLocalStorage:!1,prefix:null},events:{subscriptionDelayTime:0}};t=Object.assign(r,t),(0,m.setConfiguration)(g.FORCE_LOCAL_STORAGE,!(!t.cache||!t.cache.forceLocalStorage)),(0,m.setConfiguration)(g.SUBSCRIPTION_EVENT_DELAY,Number.isFinite(t.events&&t.events.subscriptionEventDelay)?t.events.subscriptionEventDelay:0),(0,m.setConfiguration)(g.PAST_EVENTS_BLOCK_SIZE,!(!t.events||!t.events.blockSizeLimit)&&t.events.blockSizeLimit),this.web3=new n.default(t.provider),this.ens=(0,P.default)(t.provider,t.apm.ensRegistryAddress);const{ipfs:a={}}=t.apm;this.apm=(0,h.default)(this.web3,{fetchTimeout:a.fetchTimeout,ipfsGateway:a.gateway}),this.kernelProxy=(0,x.makeProxy)(e,"Kernel",this.web3);const s=t.cache.prefix?`${t.cache.prefix}:${e}`:e;this.cache=new u.default(s),this.appContextPool=new l.default,this.defaultGasPriceFn=t.defaultGasPriceFn}async init(e={}){let t;try{t=await this.kernelProxy.call("acl")}catch(r){throw Error("Provided daoAddress is not a DAO")}await this.cache.init(),await this.kernelProxy.updateInitializationBlock(),await this.initAccounts(e.accounts),await this.initAcl(Object.assign({aclAddress:t},e.acl)),await this.initIdentityProviders(),this.initApps(),this.initForwarders(),this.initAppIdentifiers(),this.initNetwork(e.network),this.initGuiStyle(e.guiStyle),this.pathIntents=new s.Subject,this.transactions=new s.Subject,this.signatures=new s.Subject}async initAccounts({fetchFromWeb3:e,providedAccounts:t=[]}={}){this.accounts=new s.ReplaySubject(1);const r=e?t.concat(await this.web3.eth.getAccounts()):t;this.setAccounts(r)}async initAcl({aclAddress:e}={}){e||(e=await this.kernelProxy.call("acl")),this.aclProxy=(0,x.makeProxy)(e,"ACL",this.web3,{initializationBlock:this.kernelProxy.initializationBlock});const t=(0,x.getCacheKey)(e,"acl"),r=await this.web3.eth.getBlockNumber(),a=Math.max(r-100,0),n=await this.cache.get(t,{}),{permissions:o,blockNumber:d}=n,p={toBlock:a,fromBlock:o?d+1:void 0},l=this.aclProxy.pastEvents(null,p).pipe((0,i.mergeMap)(e=>(0,s.from)(e)),(0,i.endWith)({event:t,returnValues:{}})),u=this.aclProxy.events(null,{fromBlock:a+1}).pipe((0,i.startWith)({event:"starting current events",returnValues:{}})),h=(0,s.concat)(l,u).pipe((0,i.scan)(([e],t)=>{const r=t.returnValues;if(r.app){const a=e[r.app]||{};if("SetPermission"===t.event){const e=`${r.role}.allowedEntities`,t=new Set(c.default.get(a,e,[]));r.allowed?t.add(r.entity):t.delete(r.entity),c.default.set(a,e,Array.from(t))}"ChangePermissionManager"===t.event&&c.default.set(a,`${r.role}.manager`,r.manager),e[r.app]=a}return[e,t]},[(0,x.makeAddressMapProxy)(o||{})]),(0,i.map)(([e,r])=>(r.event===t&&this.cache.set(t,{permissions:Object.assign({},e),blockNumber:a}),e)),(0,i.debounceTime)(30),(0,i.publishReplay)(1));h.connect();const w=o?(0,s.of)((0,x.makeAddressMapProxy)(o)):(0,s.of)();this.permissions=(0,s.concat)(w,h).pipe((0,i.publishReplay)(1)),this.permissions.connect()}isApp(e){return e.kernelAddress&&this.isKernelAddress(e.kernelAddress)}isKernelAddress(e){return(0,x.addressesEqual)(e,this.kernelProxy.address)}initApps(){const e=new x.AsyncRequestCache(async e=>{const[t,r]=e.split(".");return(0,y.getAragonOsInternalAppInfo)(t)||(0,h.getApmInternalAppInfo)(t)||this.apm.fetchLatestRepoContentForContract(await this.ens.resolve(t),r)}),t=new x.AsyncRequestCache(e=>{if(this.isKernelAddress(e)){const t=(0,x.makeProxy)(e,"ERCProxy",this.web3);return Promise.all([this.kernelProxy.call("KERNEL_APP_ID"),t.call("implementation")]).then(e=>({appId:e[0],codeAddress:e[1]}))}const t=(0,x.makeProxy)(e,"AppProxy",this.web3),r=(0,x.makeProxy)(e,"Forwarder",this.web3);return Promise.all([t.call("kernel"),t.call("appId"),t.call("implementation"),r.call("isForwarder").catch(()=>!1)]).then(e=>({kernelAddress:e[0],appId:e[1],codeAddress:e[2],isForwarder:e[3]}))}),a=this.permissions.pipe((0,i.map)(Object.keys),(0,i.distinctUntilChanged)((e,t)=>{if(e.length!==t.length)return!1;const r=new Set(e);return new Set(t.filter(e=>r.has(e))).size===r.size}),(0,i.map)(e=>{const t=e.filter(e=>!this.isKernelAddress(e));return[this.kernelProxy.address].concat(t)}),(0,i.switchMap)(e=>Promise.all(e.map(async e=>{let r;try{r=await t.request(e)}catch(a){}return j({proxyAddress:e},r)}))),(0,i.map)(e=>e.filter(e=>this.isApp(e)||this.isKernelAddress(e.proxyAddress)))),n=this.kernelProxy.events("SetApp",{fromBlock:"latest"}).pipe((0,i.filter)(({returnValues:e})=>(0,f.isKernelAppCodeNamespace)(e.namespace)),(0,i.withLatestFrom)(a,function(e,r){const{appId:a}=e.returnValues;return r.map(async e=>{if(e.appId!==a)return e;let r;try{r=await t.request(e.proxyAddress,!0)}catch(s){}return j(j(j({},e),r),{},{updated:!0})})}),(0,i.concatMap)(e=>Promise.all(e))),o=(0,s.merge)(a,n),c=o.pipe((0,i.concatMap)(t=>Promise.all(t.map(async t=>{let r;if(t.appId&&t.codeAddress){const a=`${t.appId}.${t.codeAddress}`;try{r=await e.request(a)}catch(s){}}let a={};return t.isForwarder&&r&&Array.isArray(r.abi)&&!r.abi.some(({type:e,name:t})=>"function"===e&&"isForwarder"===t)&&(a={isForwarder:!1}),j(j(j({},r),t),a)}))));this.apps=c.pipe((0,i.publishReplay)(1)),this.apps.connect();const d=new Map,p=o.pipe((0,i.map)(e=>Object.values(e.filter(({appId:e})=>!(0,y.isAragonOsInternalApp)(e)).reduce((e,{appId:t,codeAddress:r,updated:a})=>(e[t]={appId:t,updated:a,contractAddress:r},e),{}))),(0,i.map)(e=>{const t=[],r=[];return e.forEach(e=>{const{appId:a,updated:s}=e;d.has(a)?s&&r.push(a):t.push(a),d.set(a,e)}),[t,r]}),(0,i.filter)(([e,t])=>e.length||t.length),(0,i.concatMap)(async([e,t])=>{return[(await Promise.all(e.map(async e=>{let t;try{const a=await this.ens.resolve(e);t=(0,w.makeRepoProxy)(a,this.web3),await t.updateInitializationBlock()}catch(r){console.error(`Could not find repo for ${e}`,r)}return{appId:e,repoProxy:t}}))).filter(e=>e.repoProxy),t]}),(0,i.mergeMap)(([e,t])=>{const r=(0,s.of)(...t).pipe((0,i.map)(e=>({appId:e}))),a=(0,s.of)(...e),n=a.pipe((0,i.map)(({appId:e,repoProxy:t})=>({appId:e,repoAddress:t.address}))),o=a.pipe((0,i.mergeMap)(async({appId:e,repoProxy:t})=>{const r=[...await(0,w.getAllRepoVersions)(t)];return t.events("NewVersion").pipe((0,i.concatMap)(async e=>{const{versionId:a}=e.returnValues,s=1e3*(await this.web3.eth.getBlock(e.blockNumber)).timestamp,i=r.findIndex(({versionId:e})=>e===a);return j(j({},-1===i?await(0,w.getRepoVersionById)(t,a):r[i]),{},{timestamp:s})}),(0,i.startWith)(null),(0,i.scan)(({appId:e,versions:t},r)=>{let a=t;if(r){const e=t.findIndex(({versionId:e})=>e===r.versionId);-1===e?a=t.concat(r):(a=Array.from(t))[e]=r}return{appId:e,versions:a}},{appId:e,versions:r}))}),(0,i.mergeAll)());return(0,s.merge)(n,o,r)}),(0,i.scan)(({repos:e},t)=>{const{appId:a}=t,s=(0,r.default)(t,["appId"]),i=j(j({},e[a]),s);return{repos:j(j({},e),{},{[a]:i}),updatedRepoAppId:a}},{repos:{},updatedRepoAppId:null}),(0,i.filter)(({repos:e,updatedRepoAppId:t})=>!!t&&Array.isArray(e[t].versions)),(0,i.concatMap)(async({repos:t,updatedRepoAppId:r})=>{const{repoAddress:a,versions:s}=t[r],i=d.get(r),n={appId:r,repoAddress:a,versions:s},o=t=>e.request(`${r}.${t.contractAddress}`).catch(()=>({})).then(e=>({content:e,version:t.version})),c=s[s.length-1],p=Array.from(s).reverse().find(e=>(0,x.addressesEqual)(e.contractAddress,i.contractAddress));if(!p)return j(j({},n),{},{currentVersion:null,latestVersion:await o(c)});const l=o(p),u=(0,x.addressesEqual)(p.contractAddress,c.contractAddress)?l:o(c);return j(j({},n),{},{currentVersion:await l,latestVersion:await u})}));this.installedRepos=p.pipe((0,i.scan)((e,t)=>{const r=e.findIndex(e=>e.repoAddress===t.repoAddress);if(-1===r)return e.concat(t);{const a=Array.from(e);return a[r]=t,a}},[]),(0,i.throttleTime)(500,s.asyncScheduler,{leading:!1,trailing:!0}),(0,i.publishReplay)(1)),this.installedRepos.connect()}initForwarders(){this.forwarders=this.apps.pipe((0,i.map)(e=>e.filter(e=>e.isForwarder)),(0,i.publishReplay)(1)),this.forwarders.connect()}initAppIdentifiers(){this.appIdentifiers=new s.BehaviorSubject({}).pipe((0,i.scan)((e,{address:t,identifier:r})=>Object.assign(e,{[t]:r})),(0,i.publishReplay)(1)),this.appIdentifiers.connect()}setAppIdentifier(e,t){this.appIdentifiers.next({address:e,identifier:t})}async initIdentityProviders(){const e=[...[{name:"local",provider:new A.LocalIdentityProvider}]];await Promise.all(e.map(({provider:e})=>"function"==typeof e.init?e.init():Promise.resolve())),this.identityProviderRegistrar=new Map(e.map(({name:e,provider:t})=>[e,t])),this.identityIntents=new s.Subject}modifyAddressIdentity(e,t){const r=this.identityProviderRegistrar.get("local");return r&&"function"==typeof r.modify?r.modify(e,t):Promise.reject(new Error("Provider (local) not installed"))}resolveAddressIdentity(e){const t=this.identityProviderRegistrar.get("local");return t&&"function"==typeof t.resolve?t.resolve(e):Promise.reject(new Error("Provider (local) not installed"))}searchIdentities(e){const t=this.identityProviderRegistrar.get("local");return t&&"function"==typeof t.search?t.search(e):Promise.reject(new Error("Provider (local) not installed"))}requestAddressIdentityModification(e){return this.identityProviderRegistrar.has("local")?new Promise((t,r)=>{this.identityIntents.next({address:e,providerName:"local",resolve:t,reject(e){r(e||new Error("The identity modification was not completed"))}})}):Promise.reject(new Error("Provider (local) not installed"))}async removeLocalIdentities(e){const t=this.identityProviderRegistrar.get("local");for(const r of e)await t.remove(r)}getLocalIdentities(){return this.identityProviderRegistrar.get("local").getAll()}initGuiStyle({appearance:e,theme:t}={}){this.guiStyle=new s.BehaviorSubject({appearance:e||"light",theme:t||null})}setGuiStyle(e,t=null){this.guiStyle.next({appearance:e,theme:t})}async initNetwork(e){this.network=new s.ReplaySubject(1),e?this.network.next(e):this.network.next({id:await this.web3.eth.getChainId(),type:await this.web3.eth.net.getNetworkType()})}async requestAppPath(e,t){if("string"!=typeof t)throw new Error("Path must be a string");if(!(await this.getApp(e)))throw new Error(`Cannot request path for non-installed app: ${e}`);return new Promise((r,a)=>{this.pathIntents.next({appAddress:e,path:t,resolve:r,reject(e){a(e||new Error("The path was rejected"))}})})}setAppPath(e,t){if("string"!=typeof t)throw new Error("Path must be a string");this.appContextPool.emit(e,l.APP_CONTEXTS.PATH,t)}async runApp(e){const t=(await this.apps.pipe((0,i.first)()).toPromise()).find(t=>(0,x.addressesEqual)(t.proxyAddress,e)),r=(0,x.makeProxyFromAppABI)(t.proxyAddress,t.abi,this.web3);return await r.updateInitializationBlock(),t=>{const a=new d.default(t),s=a.requests().pipe((0,i.map)(e=>({request:e,proxy:r,wrapper:this})),(0,i.publishReplay)(1));s.connect();const n=p.combineRequestHandlers(p.createRequestHandler(s,"accounts",p.accounts),p.createRequestHandler(s,"cache",p.cache),p.createRequestHandler(s,"describe_script",p.describeScript),p.createRequestHandler(s,"describe_transaction",p.describeTransaction),p.createRequestHandler(s,"get_apps",p.getApps),p.createRequestHandler(s,"network",p.network),p.createRequestHandler(s,"path",p.path),p.createRequestHandler(s,"gui_style",p.guiStyle),p.createRequestHandler(s,"trigger",p.trigger),p.createRequestHandler(s,"web3_eth",p.web3Eth),p.createRequestHandler(s,"intent",p.intent),p.createRequestHandler(s,"call",p.call),p.createRequestHandler(s,"sign_message",p.signMessage),p.createRequestHandler(s,"events",p.events),p.createRequestHandler(s,"past_events",p.pastEvents),p.createRequestHandler(s,"external_call",p.externalCall),p.createRequestHandler(s,"external_events",p.externalEvents),p.createRequestHandler(s,"external_intent",p.externalIntent),p.createRequestHandler(s,"external_past_events",p.externalPastEvents),p.createRequestHandler(s,"identify",p.appIdentifier),p.createRequestHandler(s,"address_identity",p.addressIdentity),p.createRequestHandler(s,"search_identities",p.searchIdentities)).subscribe(e=>a.sendResponse(e.id,e.payload)),o=()=>n.unsubscribe();return{shutdown:o,shutdownAndClearCache:async()=>(o(),Object.keys(await this.cache.getAll()).reduce((t,r)=>t.then(()=>r.startsWith(e)?this.cache.remove(r):Promise.resolve()),Promise.resolve()))}}}setAccounts(e){this.accounts.next(e)}getAccounts(){return this.accounts.pipe((0,i.first)()).toPromise()}signMessage(e,t){return"string"==typeof e?new Promise((r,a)=>{this.signatures.next({message:e,requestingApp:t,resolve:r,reject(e){a(e||new Error("The message was not signed"))}})}):Promise.reject(new Error("Message to sign must be a string"))}performTransactionPath(e,{external:t}={}){return new Promise((r,a)=>{this.transactions.next({resolve:r,external:!!t,transaction:e[0],path:e,reject(e){a(e||new Error("The transaction was not signed"))}})})}async performACLIntent(e,t){const r=await this.getACLTransactionPath(e,t);return this.performTransactionPath(r)}getApp(e){return this.apps.pipe((0,i.map)(t=>t.find(t=>(0,x.addressesEqual)(t.proxyAddress,e))),(0,i.first)()).toPromise()}async getTransactionPath(e,t,r,a){const s=await this.getAccounts();for(let n of s){const s=await this.calculateTransactionPath(n,e,t,r,a);if(0<s.length)try{return this.describeTransactionPath(s)}catch(i){return s}}return[]}async getExternalTransactionPath(e,t,r){if((0,x.addressesEqual)(e,this.aclProxy.address))try{return this.getACLTransactionPath(t.name,r)}catch(s){return[]}if(await this.getApp(e))return this.getTransactionPath(e,t.name,r);const a=(await this.getAccounts())[0];try{const i=await(0,E.createDirectTransaction)(a,e,t,r,this.web3);return this.describeTransactionPath([i])}catch(s){return[]}}async getTransactionPathForIntentBasket(e,{checkMode:t="all"}={}){const r="all"===t?e:"single"===t?[e[0]]:[],a=await Promise.all(r.map(([e,t,r])=>(0,x.addressesEqual)(e,this.aclProxy.address)?this.getACLTransactionPath(t,r):this.getTransactionPath(e,t,r)));if((0,k.doIntentPathsMatch)(a)){const t=(await this.getAccounts())[0],r=await Promise.all(e.map(async([e,r,a])=>(0,E.createDirectTransactionForApp)(t,await this.getApp(e),r,a,this.web3)));if(1===a[0].length)try{return{path:[],transactions:await this.describeTransactionPath(await Promise.all(r.map(e=>this.applyTransactionGas(e))))}}catch(s){}else{const e=(0,E.createForwarderTransactionBuilder)(t,{},this.web3),i=a[0].slice(0,-1).reverse().map(({to:e})=>e).reduce((t,r)=>{const a=t[0],s=(0,R.encodeCallScript)(Array.isArray(a)?a:[a]);return[e(r,s),...t]},[r]);try{return i[0]=await this.applyTransactionGas(i[0],!0),{path:await this.describeTransactionPath(i),transactions:[i[0]]}}catch(s){}}}return{path:[],transactions:[]}}async getPermissionManager(e,t){const r=(await this.permissions.pipe((0,i.first)()).toPromise())[e];return c.default.get(r,`${t}.manager`)}async getACLTransactionPath(e,t){const r=this.aclProxy.address,a=await this.getApp(r),s=(0,q.findAppMethodFromSignature)(a,e,{allowDeprecated:!1});if(!s)throw new Error(`No method named ${e} on ACL`);if(s.roles&&0!==s.roles.length)return this.getTransactionPath(r,e,t);{const i=(0,I.findMethodAbiFragment)(a.abi,e);if(!i)throw new Error(`Method ${s} not found on ACL ABI`);const n=i.inputs.map(e=>e.name),o=n.indexOf("_app"),c=n.indexOf("_role");if(-1===o||-1===c)throw new Error(`Method ${e} doesn't take _app and _role as input. Permission manager cannot be found.`);const d=await this.getPermissionManager(t[o],t[c]);return this.getTransactionPath(r,e,t,d)}}decodeTransactionPath(e){if(!(0,R.isCallScript)(e))throw new Error(`Script could not be decoded: ${e}`);return(0,R.decodeCallScript)(e).map(e=>{const{data:t}=e;if((0,T.isValidForwardCall)(t)){const a=(0,T.parseForwardCall)(t);try{e.children=this.decodeTransactionPath(a)}catch(r){}}return e})}async describeTransactionPath(e){return Promise.all(e.map(async e=>{let t;if(Array.isArray(e)){try{t=await(0,v.tryDescribingUpgradeOrganizationBasket)(e,this)}catch(r){}return t||this.describeTransactionPath(e)}try{t=await(0,v.tryDescribingUpdateAppIntent)(e,this)}catch(r){}if(!t)try{t=await(0,v.tryEvaluatingRadspec)(e,this)}catch(r){}if(t){if(t.description)try{const e=await(0,v.postprocessRadspecDescription)(t.description,this);t.description=e.description,t.annotatedDescription=e.annotatedDescription}catch(r){}t.children&&(t.children=await this.describeTransactionPath(t.children))}return t||e}))}canForward(e,t,r){return(0,new this.web3.eth.Contract((0,b.getAbi)("aragon/Forwarder"),e).methods.canForward)(t,r).call().catch(()=>!1)}getDefaultGasPrice(e){return this.defaultGasPriceFn(e)}async applyTransactionGas(e,t=!1){if(e.pretransaction)return e.pretransaction=await this.applyTransactionGas(e.pretransaction,!1),e;const r=await this.web3.eth.estimateGas(j(j({},e),{},{gas:void 0})),a=await(0,E.getRecommendedGasLimit)(this.web3,r);return(!e.gas||t&&e.gas<a)&&(e.gas=a),e.gasPrice||(e.gasPrice=await this.getDefaultGasPrice(e.gas)),e}async calculateTransactionPath(e,t,r,a,s){const n=await this.getApp(t);if(!n)throw new Error(`Transaction path destination (${t}) is not an installed app`);const d=(0,q.findAppMethodFromSignature)(n,r,{allowDeprecated:!1});if(!d)throw new Error(`No method named ${r} on ${t}`);const p=await(0,E.createDirectTransactionForApp)(e,n,r,a,this.web3),l=(0,o.isAddress)(s);if(0===d.roles.length&&!l||(0,x.addressesEqual)(s,e))try{return[await this.applyTransactionGas(p)]}catch(w){return[]}const u=await this.forwarders.pipe((0,i.first)()).toPromise().then(e=>e.map(e=>e.proxyAddress));let h;if(l){if(!(0,x.includesAddress)(u,s))return[];h=[s]}else{const r=(await this.permissions.pipe((0,i.first)()).toPromise())[t],a=n.roles.find(e=>e.id===d.roles[0]).bytes,s=c.default.get(r,`${a}.allowedEntities`,[]);if(0===s.length)return[];if((0,x.includesAddress)(s,e)||(0,x.includesAddress)(s,x.ANY_ENTITY))try{return[await this.applyTransactionGas(p)]}catch(w){}h=u.filter(e=>(0,x.includesAddress)(s,e))}return this.calculateForwardingPath(e,t,p,h)}async calculateForwardingPath(e,t,r,a){if(0===a.length)return[];delete r.pretransaction;const s=(0,E.createForwarderTransactionBuilder)(e,r,this.web3);for(const i of a){const t=(0,R.encodeCallScript)([r]);if(await this.canForward(i,e,t)){const e=s(i,t);try{const t=await(0,E.applyForwardingFeePretransaction)(e,this.web3);return[await this.applyTransactionGas(t,!0),r]}catch(c){return[]}}}const n=await this.forwarders.pipe((0,i.first)()).toPromise().then(e=>e.map(e=>e.proxyAddress).filter(e=>!(0,x.includesAddress)(a,e))),o=a.map(e=>[[s(e,(0,R.encodeCallScript)([r])),r],n]);do{const[t,[r,...a]]=o.shift();if(!r||5<t.length)continue;const i=t[0].to,d=(0,R.encodeCallScript)([t[0]]);if(await this.canForward(i,r,d))if(await this.canForward(r,e,d)){const e=s(r,d);try{const r=await(0,E.applyForwardingFeePretransaction)(e,this.web3);return[await this.applyTransactionGas(r,!0),...t]}catch(c){return[]}}else o.push([[s(r,d),...t],n.filter(e=>e!==r)]);o.push([t,a])}while(o.length);return[]}}exports.default=C;
},{"@babel/runtime/helpers/interopRequireWildcard":"t7py","@babel/runtime/helpers/interopRequireDefault":"SpGf","@babel/runtime/helpers/objectWithoutProperties":"U8F3","@babel/runtime/helpers/defineProperty":"IxO8","rxjs":"iRqj","rxjs/operators":"cVrl","web3":"pGVw","web3-utils":"tG0A","dot-prop":"SlMJ","@aragon/rpc-messenger":"Cvad","./rpc/handlers":"TQha","./apps":"h3Dj","./cache":"C1oQ","./core/apm":"IMsg","./core/apm/repo":"Vyx7","./core/aragonOS":"YzXJ","./core/aragonOS/kernel":"HUYT","./configuration":"SdpA","./configuration/keys":"IxjJ","./ens":"qeEG","./identity":"RJhY","./interfaces":"VtZp","./radspec":"IRR5","./utils":"NfZQ","./utils/abi":"JlI9","./utils/apps":"u866","./utils/callscript":"na2Y","./utils/forwarding":"BeDK","./utils/intents":"pZCJ","./utils/transactions":"Rbgv"}],"MUEI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TRANSACTION_STATUS_UPCOMING=exports.TRANSACTION_STATUS_SUCCESS=exports.TRANSACTION_STATUS_PENDING=exports.TRANSACTION_STATUS_ERROR=exports.DAO_STATUS_UNLOADED=exports.DAO_STATUS_READY=exports.DAO_STATUS_LOADING=exports.DAO_STATUS_ERROR=exports.APPS_STATUS_UNLOADED=exports.APPS_STATUS_READY=exports.APPS_STATUS_LOADING=exports.APPS_STATUS_ERROR=exports.ACTIVITY_TYPE_TRANSACTION=exports.ACTIVITY_STATUS_TIMED_OUT=exports.ACTIVITY_STATUS_PENDING=exports.ACTIVITY_STATUS_FAILED=exports.ACTIVITY_STATUS_CONFIRMED=void 0;const T=Symbol("APPS_STATUS_ERROR");exports.APPS_STATUS_ERROR=T;const S=Symbol("APPS_STATUS_READY");exports.APPS_STATUS_READY=S;const A=Symbol("APPS_STATUS_LOADING");exports.APPS_STATUS_LOADING=A;const _=Symbol("APPS_STATUS_UNLOADED");exports.APPS_STATUS_UNLOADED=_;const o=Symbol("DAO_STATUS_ERROR");exports.DAO_STATUS_ERROR=o;const I=Symbol("DAO_STATUS_READY");exports.DAO_STATUS_READY=I;const U=Symbol("DAO_STATUS_LOADING");exports.DAO_STATUS_LOADING=U;const N=Symbol("DAO_STATUS_UNLOADED");exports.DAO_STATUS_UNLOADED=N;const O=Symbol("ACTIVITY_STATUS_CONFIRMED");exports.ACTIVITY_STATUS_CONFIRMED=O;const t=Symbol("ACTIVITY_STATUS_FAILED");exports.ACTIVITY_STATUS_FAILED=t;const s=Symbol("ACTIVITY_STATUS_PENDING");exports.ACTIVITY_STATUS_PENDING=s;const D=Symbol("ACTIVITY_STATUS_TIMED_OUT");exports.ACTIVITY_STATUS_TIMED_OUT=D;const R=Symbol("ACTIVITY_TYPE_TRANSACTION");exports.ACTIVITY_TYPE_TRANSACTION=R;const e=Symbol("TRANSACTION_STATUS_ERROR");exports.TRANSACTION_STATUS_ERROR=e;const C=Symbol("TRANSACTION_STATUS_PENDING");exports.TRANSACTION_STATUS_PENDING=C;const E=Symbol("TRANSACTION_STATUS_SUCCESS");exports.TRANSACTION_STATUS_SUCCESS=E;const r=Symbol("TRANSACTION_STATUS_UPCOMING");exports.TRANSACTION_STATUS_UPCOMING=r;
},{}],"hh6X":[function(require,module,exports) {
module.exports={_from:"web3@^1.5.2",_id:"web3@1.6.0",_inBundle:!1,_integrity:"sha512-rWpXnO88MiVX5yTRqMBCVKASxc7QDkXZZUl1D48sKlbX4dt3BAV+nVMVUKCBKiluZ5Bp8pDrVCUdPx/jIYai5Q==",_location:"/web3",_phantomChildren:{"async-limiter":"1.0.1",bluebird:"3.7.2","bn.js":"4.12.0",buffer:"5.7.1","decompress-response":"3.3.0",duplexer3:"0.1.4",elliptic:"6.5.4","fs-extra":"4.0.3",got:"9.6.0","is-plain-obj":"1.1.0","is-retry-allowed":"1.2.0","is-stream":"1.1.0",isurl:"1.0.0","lowercase-keys":"1.0.1","mime-types":"2.1.33","mkdirp-promise":"5.0.1","mock-fs":"4.14.0","nano-json-stream-parser":"0.1.2","p-timeout":"1.2.1",servify:"0.1.12",setimmediate:"1.0.5",tar:"4.4.19","timed-out":"4.0.1",ultron:"1.1.1","url-to-options":"1.0.1","web3-core":"1.6.0","web3-core-method":"1.6.0","web3-core-subscriptions":"1.6.0","web3-net":"1.6.0","xhr-request":"1.1.0","xhr-request-promise":"0.1.3"},_requested:{type:"range",registry:!0,raw:"web3@^1.5.2",name:"web3",escapedName:"web3",rawSpec:"^1.5.2",saveSpec:null,fetchSpec:"^1.5.2"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/web3/-/web3-1.6.0.tgz",_shasum:"d8fa0cd9e7bf252f9fe43bb77dc42bc6671affde",_spec:"web3@^1.5.2",_where:"/Users/saranshsharma/Documents/aragen/repos/aragon",author:{name:"ethereum.org"},authors:[{name:"Fabian Vogelsteller",email:"fabian@ethereum.org",homepage:"http://frozeman.de"},{name:"Marek Kotewicz",email:"marek@parity.io",url:"https://github.com/debris"},{name:"Marian Oancea",url:"https://github.com/cubedro"},{name:"Gav Wood",email:"g@parity.io",homepage:"http://gavwood.com"},{name:"Jeffery Wilcke",email:"jeffrey.wilcke@ethereum.org",url:"https://github.com/obscuren"}],bugs:{url:"https://github.com/ethereum/web3.js/issues"},bundleDependencies:!1,dependencies:{"web3-bzz":"1.6.0","web3-core":"1.6.0","web3-eth":"1.6.0","web3-eth-personal":"1.6.0","web3-net":"1.6.0","web3-shh":"1.6.0","web3-utils":"1.6.0"},deprecated:!1,description:"Ethereum JavaScript API",devDependencies:{"@types/node":"^12.12.6",dtslint:"^3.4.1",typescript:"^3.9.5","web3-core-helpers":"1.6.0"},engines:{node:">=8.0.0"},gitHead:"a34afae56647615d7cbdfa227af8a1389476e2d6",homepage:"https://github.com/ethereum/web3.js#readme",keywords:["Ethereum","JavaScript","API"],license:"LGPL-3.0",main:"lib/index.js",name:"web3",repository:{type:"git",url:"git+https://github.com/ethereum/web3.js.git"},scripts:{compile:"tsc -b tsconfig.json",dtslint:"dtslint --localTs ../../node_modules/typescript/lib types",postinstall:'echo "WARNING: the web3-shh and web3-bzz api will be deprecated in the next version"'},types:"types/index.d.ts",version:"1.6.0"};
},{}],"riiD":[function(require,module,exports) {
"use strict";var e=require("web3-core"),a=require("web3-core-subscriptions").subscriptions,s=require("web3-core-method"),r=require("web3-net"),n=function(){var n=this;e.packageInit(this,arguments);var t=this.setRequestManager;this.setRequestManager=function(e){return t(e),n.net.setRequestManager(e),!0};var m=this.setProvider;this.setProvider=function(){m.apply(n,arguments),n.setRequestManager(n._requestManager)},this.net=new r(this),[new a({name:"subscribe",type:"shh",subscriptions:{messages:{params:1}}}),new s({name:"getVersion",call:"shh_version",params:0}),new s({name:"getInfo",call:"shh_info",params:0}),new s({name:"setMaxMessageSize",call:"shh_setMaxMessageSize",params:1}),new s({name:"setMinPoW",call:"shh_setMinPoW",params:1}),new s({name:"markTrustedPeer",call:"shh_markTrustedPeer",params:1}),new s({name:"newKeyPair",call:"shh_newKeyPair",params:0}),new s({name:"addPrivateKey",call:"shh_addPrivateKey",params:1}),new s({name:"deleteKeyPair",call:"shh_deleteKeyPair",params:1}),new s({name:"hasKeyPair",call:"shh_hasKeyPair",params:1}),new s({name:"getPublicKey",call:"shh_getPublicKey",params:1}),new s({name:"getPrivateKey",call:"shh_getPrivateKey",params:1}),new s({name:"newSymKey",call:"shh_newSymKey",params:0}),new s({name:"addSymKey",call:"shh_addSymKey",params:1}),new s({name:"generateSymKeyFromPassword",call:"shh_generateSymKeyFromPassword",params:1}),new s({name:"hasSymKey",call:"shh_hasSymKey",params:1}),new s({name:"getSymKey",call:"shh_getSymKey",params:1}),new s({name:"deleteSymKey",call:"shh_deleteSymKey",params:1}),new s({name:"newMessageFilter",call:"shh_newMessageFilter",params:1}),new s({name:"getFilterMessages",call:"shh_getFilterMessages",params:1}),new s({name:"deleteMessageFilter",call:"shh_deleteMessageFilter",params:1}),new s({name:"post",call:"shh_post",params:1,inputFormatter:[null]}),new s({name:"unsubscribe",call:"shh_unsubscribe",params:1})].forEach(function(e){e.attachToObject(n),e.setRequestManager(n._requestManager)})};n.prototype.clearSubscriptions=function(){this._requestManager.clearSubscriptions()},e.addProviders(n),module.exports=n;
},{"web3-core":"KUai","web3-core-subscriptions":"Sn3u","web3-core-method":"pw7F","web3-net":"SwGM"}],"HudF":[function(require,module,exports) {
var r=require("./array.js"),n=function(r,n){return parseInt(r.slice(2*n+2,2*n+4),16)},t=function(r){var n=void 0;if("undefined"!=typeof window&&window.crypto&&window.crypto.getRandomValues)n=window.crypto.getRandomValues(new Uint8Array(r));else{if("undefined"==typeof require)throw"Safe random numbers not available.";n=require("crypto").randomBytes(r)}for(var t="0x",e=0;e<r;++e)t+=("00"+n[e].toString(16)).slice(-2);return t},e=function(r){return(r.length-2)/2},i=function(r){return"0x"+r.reduce(function(r,n){return r+n.slice(2)},"")},o=function(r,n,t){return"0x"+t.slice(2*r+2,2*n+2)},u=function(r){for(var n="0x",t=0,i=e(r);t<i;++t)n+=r.slice(2*(i-t),2*(i-t+1));return n},f=function r(n,t){return t.length===2*n+2?t:r(n,"0x0"+t.slice(2))},l=function r(n,t){return t.length===2*n+2?t:r(n,t+"0")},a=function(r){for(var n=[],t=2,e=r.length;t<e;t+=2)n.push(parseInt(r.slice(t,t+2),16));return n},c=function(r){for(var n="0x",t=0,e=r.length;t<e;++t){var i=r[t];n+=(i<16?"0":"")+i.toString(16)}return n},s=function(r){return new Uint8Array(a(r))},g=function(r){return c([].slice.call(r,0))},d=function(r){var n=r.toString(16);return n.length%2==0?"0x"+n:"0x0"+n},h=function(r){return parseInt(r.slice(2),16)},m=function(r,n){return r.concat(n.slice(2))},v=function(r){return"0x0"===r?"0x":r.length%2==0?r:"0x0"+r.slice(2)},x=function(r){return"0"===r[2]?"0x"+r.slice(3):r},p=function(r){for(var n="0x",t=0;t<r.length;++t)n+=("00"+r.charCodeAt(t).toString(16)).slice(-2);return n},y=function(r){for(var n="",t=2;t<r.length;t+=2)n+=String.fromCharCode(parseInt(r.slice(t,t+2),16));return n},S=function(r){for(var n=function(r){var n=r.toString(16);return n.length<2?"0"+n:n},t="0x",e=0;e!=r.length;e++){var i=r.charCodeAt(e);if(i<128)t+=n(i);else{if(i<2048)t+=n(i>>6|192);else{if(i>55295&&i<56320){if(++e==r.length)return null;var o=r.charCodeAt(e);if(o<56320||o>57343)return null;t+=n((i=65536+((1023&i)<<10)+(1023&o))>>18|240),t+=n(i>>12&63|128)}else t+=n(i>>12|224);t+=n(i>>6&63|128)}t+=n(63&i|128)}}return t},w=function(r){for(var t="",i=0,o=e(r);i<o;){var u=n(r,i++);if(u>127){if(u>191&&u<224){if(i>=o)return null;u=(31&u)<<6|63&n(r,i)}else if(u>223&&u<240){if(i+1>=o)return null;u=(15&u)<<12|(63&n(r,i))<<6|63&n(r,++i)}else{if(!(u>239&&u<248))return null;if(i+2>=o)return null;u=(7&u)<<18|(63&n(r,i))<<12|(63&n(r,++i))<<6|63&n(r,++i)}++i}if(u<=65535)t+=String.fromCharCode(u);else{if(!(u<=1114111))return null;u-=65536,t+=String.fromCharCode(u>>10|55296),t+=String.fromCharCode(1023&u|56320)}}return t};module.exports={random:t,length:e,concat:m,flatten:i,slice:o,reverse:u,pad:f,padRight:l,fromAscii:p,toAscii:y,fromString:S,toString:w,fromNumber:d,toNumber:h,fromNat:v,toNat:x,fromArray:c,toArray:a,fromUint8Array:g,toUint8Array:s};
},{"./array.js":"FA4B"}],"txf5":[function(require,module,exports) {
var r=require("eth-lib/lib/hash").keccak256,e=require("eth-lib/lib/bytes"),t=function(t,i){var n=e.reverse(e.pad(6,e.fromNumber(t))),a=e.flatten([n,"0x0000",i]);return r(a).slice(2)},i=function r(i){"string"==typeof i&&"0x"!==i.slice(0,2)?i=e.fromString(i):"string"!=typeof i&&void 0!==i.length&&(i=e.fromUint8Array(i));var n=e.length(i);if(n<=4096)return t(n,i);for(var a=4096;128*a<n;)a*=128;for(var f=[],l=0;l<n;l+=a){var o=a<n-l?a:n-l;f.push(r(e.slice(i,l,l+o)))}return t(n,e.flatten(f))};module.exports=i;
},{"eth-lib/lib/hash":"WREP","eth-lib/lib/bytes":"HudF"}],"ysbo":[function(require,module,exports) {
var process = require("process");
var n=require("process");module.exports=function(n){var t=n.fs,r=n.files,e=n.os,o=n.path,u=n.child_process,i=n.mimetype,a=n.defaultArchives,c=n.request,f=n.downloadUrl,s=n.bytes,d=n.hash,l=n.pick,h=function(n){return function(t){for(var r={},e=0,o=n.length;e<o;++e)r[n[e]]=t[e];return r}},p=function(n){return function(t){return"".concat(n,"/bzz-raw:/").concat(t)}},m=function(n){return function(t){return new Promise(function(r,e){c(p(n)(t),{responseType:"arraybuffer"},function(n,t,o){return n?e(n):o.statusCode>=400?e(new Error("Error ".concat(o.statusCode,"."))):r(new Uint8Array(t))})})}},v=function(n){return function(t){return function t(r){return function(e){return function(o){var u=function(n){return void 0===n.path?Promise.resolve():"application/bzz-manifest+json"===n.contentType?t(n.hash)(e+n.path)(o):Promise.resolve((r=e+n.path,function(n){return function(t){return t[r]=n,t}})(function(n){return{type:n.contentType,hash:n.hash}}(n))(o));var r};return m(n)(r).then(function(n){return JSON.parse(I(n)).entries}).then(function(n){return Promise.all(n.map(u))}).then(function(){return o})}}}(t)("")({})}},y=function(n){return function(t){return v(n)(t).then(function(n){return h(Object.keys(n))(Object.keys(n).map(function(t){return n[t].hash}))})}},w=function(n){return function(t){return v(n)(t).then(function(t){var r=Object.keys(t),e=r.map(function(n){return t[n].hash}),o=r.map(function(n){return t[n].type}),u=e.map(m(n));return Promise.all(u).then(function(n){return h(r)(function(n){return n.map(function(n,t){return{type:o[t],data:n}})}(n))})})}},D=function(n){return function(t){return function(e){return r.download(p(n)(t))(e)}}},k=function(n){return function(t){return function(r){return y(n)(t).then(function(t){var e=[];for(var u in t)if(u.length>0){var i=o.join(r,u);e.push(D(n)(t[u])(i))}return Promise.all(e).then(function(){return r})})}}},P=function(n){return function(t){return new Promise(function(r,e){var o={body:"string"==typeof t?M(t):t,method:"POST"};c("".concat(n,"/bzz-raw:/"),o,function(n,t){return n?e(n):r(t)})})}},b=function(n){return function(t){return function(r){return function(e){return function o(u){var i="/"===r[0]?r:"/"+r,a="".concat(n,"/bzz:/").concat(t).concat(i),f={method:"PUT",headers:{"Content-Type":e.type},body:e.data};return new Promise(function(n,t){c(a,f,function(r,e){return r?t(r):-1!==e.indexOf("error")?t(e):n(e)})}).catch(function(n){return u>0&&o(u-1)})}(3)}}}},T=function(n){return function(t){return F(n)({"":t})}},g=function(n){return function(r){return t.readFile(r).then(function(t){return T(n)({type:i.lookup(r),data:t})})}},F=function(n){return function(t){return P(n)("{}").then(function(r){return Object.keys(t).reduce(function(r,e){return r.then(function(r){return function(e){return b(n)(e)(r)(t[r])}}(e))},Promise.resolve(r))})}},A=function(n){return function(r){return t.readFile(r).then(P(n))}},S=function(n){return function(e){return function(o){return r.directoryTree(o).then(function(n){return Promise.all(n.map(function(n){return t.readFile(n)})).then(function(t){var r=n.map(function(n){return n.slice(o.length)}),e=n.map(function(n){return i.lookup(n)||"text/plain"});return h(r)(t.map(function(n,t){return{type:e[t],data:n}}))})}).then(function(n){return(t=e?{"":n[e]}:{},function(n){var r={};for(var e in t)r[e]=t[e];for(var o in n)r[o]=n[o];return r})(n);var t}).then(F(n))}}},z=function(n){return function(t){if("data"===t.pick)return l.data().then(P(n));if("file"===t.pick)return l.file().then(T(n));if("directory"===t.pick)return l.directory().then(F(n));if(t.path)switch(t.kind){case"data":return A(n)(t.path);case"file":return g(n)(t.path);case"directory":return S(n)(t.defaultFile)(t.path)}else{if(t.length||"string"==typeof t)return P(n)(t);if(t instanceof Object)return F(n)(t)}return Promise.reject(new Error("Bad arguments"))}},O=function(n){return function(t){return function(r){return U(n)(t).then(function(e){return e?r?k(n)(t)(r):w(n)(t):r?D(n)(t)(r):m(n)(t)})}}},j=function(n,t){var o=e.platform().replace("win32","windows")+"-"+("x64"===e.arch()?"amd64":"386"),u=(t||a)[o],i=f+u.archive+".tar.gz",c=u.archiveMD5,s=u.binaryMD5;return r.safeDownloadArchived(i)(c)(s)(n)},x=function(n){return new Promise(function(t,r){var e=u.spawn,o=function(n){return function(t){return-1!==(""+t).indexOf(n)}},i=n.account,a=n.password,c=n.dataDir,f=n.ensApi,s=n.privateKey,d=0,l=e(n.binPath,["--bzzaccount",i||s,"--datadir",c,"--ens-api",f]),h=function(n){0===d&&o("Passphrase")(n)?setTimeout(function(){d=1,l.stdin.write(a+"\n")},500):o("Swarm http proxy started")(n)&&(d=2,clearTimeout(p),t(l))};l.stdout.on("data",h),l.stderr.on("data",h);var p=setTimeout(function(){return r(new Error("Couldn't start swarm process."))},2e4)})},L=function(n){return new Promise(function(t,r){n.stderr.removeAllListeners("data"),n.stdout.removeAllListeners("data"),n.stdin.removeAllListeners("error"),n.removeAllListeners("error"),n.removeAllListeners("exit"),n.kill("SIGINT");var e=setTimeout(function(){return n.kill("SIGKILL")},8e3);n.once("close",function(){clearTimeout(e),t()})})},E=function(n){return P(n)("test").then(function(n){return"c9a99c7d326dcc6316f32fe2625b311f6dc49a175e6877681ded93137d3569e7"===n}).catch(function(){return!1})},U=function(n){return function(t){return m(n)(t).then(function(n){try{return!!JSON.parse(I(n)).entries}catch(t){return!1}})}},C=function(n){return function(t,r,e,o,u){var i;return void 0!==t&&(i=n(t)),void 0!==r&&(i=n(r)),void 0!==e&&(i=n(e)),void 0!==o&&(i=n(o)),void 0!==u&&(i=n(u)),i}},I=function(n){return s.toString(s.fromUint8Array(n))},M=function(n){return s.toUint8Array(s.fromString(n))},N=function(n){return{download:function(t,r){return O(n)(t)(r)},downloadData:C(m(n)),downloadDataToDisk:C(D(n)),downloadDirectory:C(w(n)),downloadDirectoryToDisk:C(k(n)),downloadEntries:C(v(n)),downloadRoutes:C(y(n)),isAvailable:function(){return E(n)},upload:function(t){return z(n)(t)},uploadData:C(P(n)),uploadFile:C(T(n)),uploadFileFromDisk:C(T(n)),uploadDataFromDisk:C(A(n)),uploadDirectory:C(F(n)),uploadDirectoryFromDisk:C(S(n)),uploadToManifest:C(b(n)),pick:l,hash:d,fromString:M,toString:I}};return{at:N,local:function(n){return function(t){return E("http://localhost:8500").then(function(r){return r?t(N("http://localhost:8500")).then(function(){}):j(n.binPath,n.archives).onData(function(t){return(n.onProgress||function(){})(t.length)}).then(function(){return x(n)}).then(function(n){return t(N("http://localhost:8500")).then(function(){return n})}).then(L)})}},download:O,downloadBinary:j,downloadData:m,downloadDataToDisk:D,downloadDirectory:w,downloadDirectoryToDisk:k,downloadEntries:v,downloadRoutes:y,isAvailable:E,startProcess:x,stopProcess:L,upload:z,uploadData:P,uploadDataFromDisk:A,uploadFile:T,uploadFileFromDisk:g,uploadDirectory:F,uploadDirectoryFromDisk:S,uploadToManifest:b,pick:l,hash:d,fromString:M,toString:I}};
},{"process":"pBGv"}],"DEPM":[function(require,module,exports) {
var e=function(){throw"This swarm.js function isn't available on the browser."},r={readFile:e},s={download:e,safeDownloadArchived:e,directoryTree:e},i={platform:e,arch:e},o={join:e,slice:e},a={spawn:e},l={lookup:e},t={},h=null,u=require("xhr-request"),n=require("eth-lib/lib/bytes"),c=require("./swarm-hash.js"),d=require("./pick.js"),p=require("./swarm");module.exports=p({fs:r,files:s,os:i,path:o,child_process:a,defaultArchives:t,mimetype:l,request:u,downloadUrl:h,bytes:n,hash:c,pick:d});
},{"xhr-request":"MCXC","eth-lib/lib/bytes":"HudF","./swarm-hash.js":"txf5","./pick.js":"w3fP","./swarm":"ysbo"}],"Y448":[function(require,module,exports) {
"use strict";var e=require("swarm-js"),r=function r(t){this.givenProvider=r.givenProvider,t&&t._requestManager&&(t=t.currentProvider),"undefined"!=typeof document&&(this.pick=e.pick),this.setProvider(t)};r.givenProvider=null,"undefined"!=typeof ethereum&&ethereum.bzz&&(r.givenProvider=ethereum.bzz),r.prototype.setProvider=function(r){if(r&&"object"==typeof r&&"string"==typeof r.bzz&&(r=r.bzz),"string"!=typeof r){this.currentProvider=null;var t=new Error("No provider set, please set one using bzz.setProvider().");return this.download=this.upload=this.isAvailable=function(){throw t},!1}return this.currentProvider=r,this.download=e.at(r).download,this.upload=e.at(r).upload,this.isAvailable=e.at(r).isAvailable,!0},module.exports=r;
},{"swarm-js":"DEPM"}],"ikFg":[function(require,module,exports) {
"use strict";var e=require("../package.json").version,r=require("web3-core"),s=require("web3-eth"),t=require("web3-net"),i=require("web3-eth-personal"),h=require("web3-shh"),u=require("web3-bzz"),n=require("web3-utils"),a=function(){var t=this;r.packageInit(this,arguments),this.version=e,this.utils=n,this.eth=new s(this),this.shh=new h(this),this.bzz=new u(this);var i=this.setProvider;this.setProvider=function(e,r){return i.apply(t,arguments),t.eth.setRequestManager(t._requestManager),t.shh.setRequestManager(t._requestManager),t.bzz.setProvider(e),!0}};a.version=e,a.utils=n,a.modules={Eth:s,Net:t,Personal:i,Shh:h,Bzz:u},r.addProviders(a),module.exports=a;
},{"../package.json":"hh6X","web3-core":"KUai","web3-eth":"qrxu","web3-net":"SwGM","web3-eth-personal":"TVxr","web3-shh":"riiD","web3-bzz":"Y448","web3-utils":"uckD"}],"p8GN":[function(require,module,exports) {
"use strict";function e(e,s,o){return s in e?Object.defineProperty(e,s,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[s]=o,e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.extendError=exports.RequiredField=exports.NoConnection=exports.InvalidURI=exports.InvalidNetworkType=exports.InvalidAddress=exports.DAONotFound=void 0;const s=(s,o)=>{let{defaultMessage:t}=o;return class extends Error{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:t),e(this,"name",s)}}};exports.extendError=s;const o=s("InvalidAddress",{defaultMessage:"The address is invalid"});exports.InvalidAddress=o;const t=s("RequiredField",{defaultMessage:"This field is required."});exports.RequiredField=t;const r=s("InvalidNetworkType",{defaultMessage:"The network type is invalid"});exports.InvalidNetworkType=r;const n=s("InvalidURI",{defaultMessage:"The URI is invalid"});exports.InvalidURI=n;const d=s("NoConnection",{defaultMessage:"There is no connection"});exports.NoConnection=d;class i extends Error{constructor(s){super("The ENS address of this dao could not be resolved"),e(this,"name","DAONotFound"),this.dao=s}}exports.DAONotFound=i;
},{}],"UAZL":[function(require,module,exports) {
"use strict";function t(t){return"/"===t.charAt(0)}function e(t,e){for(var r=e,n=r+1,o=t.length;n<o;r+=1,n+=1)t[r]=t[n];t.pop()}function r(r,n){void 0===n&&(n="");var o,i=r&&r.split("/")||[],f=n&&n.split("/")||[],u=r&&t(r),l=n&&t(n),s=u||l;if(r&&t(r)?f=i:i.length&&(f.pop(),f=f.concat(i)),!f.length)return"/";if(f.length){var a=f[f.length-1];o="."===a||".."===a||""===a}else o=!1;for(var p=0,v=f.length;v>=0;v--){var h=f[v];"."===h?e(f,v):".."===h?(e(f,v),p++):p&&(e(f,v),p--)}if(!s)for(;p--;p)f.unshift("..");!s||""===f[0]||f[0]&&t(f[0])||f.unshift("");var c=f.join("/");return o&&"/"!==c.substr(-1)&&(c+="/"),c}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var n=r;exports.default=n;
},{}],"z6iT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addStartingSlash=p,exports.appIconUrl=s,exports.appendTrailingSlash=f,exports.getAppIconBySize=o,exports.getLocalStorageKey=v,exports.identity=exports.iOS=void 0,exports.imgSrcFromBase=i,exports.isElectron=a,exports.isHumanReadable=x,exports.isSafari=void 0,exports.isString=d,exports.legacyAppIconUrl=r,exports.log=g,exports.noop=l,exports.pollEvery=n,exports.removeStartingSlash=c,exports.shuffleArray=h,exports.validateEmail=S;var t=e(require("resolve-pathname"));function e(t){return t&&t.__esModule?t:{default:t}}function n(t,e){let n=-1,r=!1;const o=async(i,s)=>{let a;try{a=await i()}catch(l){throw g("Polling failed for fn:",t),g("Error:",l),l}r||(s(a),n=setTimeout(o.bind(null,i,s),e))};return function(){const{request:e,onResult:i}=t(...arguments);return o(e,i),()=>{r=!0,clearTimeout(n)}}}function r(e){return e&&e.baseUrl?(0,t.default)("images/icon.svg",e.baseUrl):null}function o(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;const n=t.map((t,e)=>{const n=parseInt(t.sizes.split("x")[1],10);return[e,isNaN(n)?-1:n]}).filter(t=>-1!==t[1]).sort((t,e)=>t[1]-e[1]);return 0===n.length?null:-1===e?t[n[n.length-1][0]]:t[(n.find(t=>t[1]>=e)||n[n.length-1])[0]]}function i(e,n){return(0,t.default)(c(n),e)}function s(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;if(!t||!t.baseUrl||!Array.isArray(t.icons))return null;const n=o(t.icons,e);return n?i(t.baseUrl,n.src):null}function a(){return"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}function l(){}const u=t=>t;function c(t){return t.replace(/^\/+/,"")}function p(t){return t.startsWith("/")?t:`/${t}`}function f(t){return t+(t.endsWith("/")?"":"/")}function g(){0}function d(t){return"string"==typeof t||t instanceof String}function x(){return!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(" ").some(t=>t.length>26)}function h(t){const e=[...t];for(let n=e.length-1;n>0;n--){const t=Math.floor(Math.random()*(n+1));[e[n],e[t]]=[e[t],e[n]]}return e}function v(t,e){return`${e}:${t}`}function S(t){return/^.+\@.+\..+$/.test(t)}exports.identity=u;const y=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;exports.iOS=y;const m=/Version\/[\d.]+.*Safari/.test(navigator.userAgent);exports.isSafari=m;
},{"resolve-pathname":"UAZL"}],"gIzh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var a=require("eth-ens-namehash"),e={Agent:(0,a.hash)("agent.aragonpm.eth"),Finance:(0,a.hash)("finance.aragonpm.eth"),Fundraising:(0,a.hash)("aragon-fundraising.aragonpm.eth"),Survey:(0,a.hash)("survey.aragonpm.eth"),TokenManager:(0,a.hash)("token-manager.aragonpm.eth"),Vault:(0,a.hash)("vault.aragonpm.eth"),Voting:(0,a.hash)("voting.aragonpm.eth")};exports.default=e;
},{"eth-ens-namehash":"Ruki"}],"T30m":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.parseAppLocator=s;var t=require("eth-ens-namehash"),e=n(require("./known-app-ids")),l=require("./util/utils");function n(t){return t&&t.__esModule?t:{default:t}}const r={[e.default.Voting]:"http://localhost:3001/",[e.default.Finance]:"http://localhost:3002/",[e.default.TokenManager]:"http://localhost:3003/",[e.default.Survey]:"http://localhost:3004/",[e.default.Agent]:"http://localhost:3005/",[e.default.Fundraising]:"http://localhost:3006/"};function u(t){const e=t.indexOf(":");return-1===e?[t]:[t.slice(0,e).trim(),t.slice(e+1).trim()]}function a(l){return e.default[l]?e.default[l]:l.endsWith(".aragonpm.eth")?(0,t.hash)(l):l.startsWith("0x")&&66===l.length?l:null}function o(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return/^[0-9]+$/.test(e)?`http://localhost:${e}/`:e&&"local"!==e?e.startsWith("http")?e:`http://${e.includes("/")?e:(0,l.appendTrailingSlash)(e)}`:r[t]||null}function s(t){return t&&"ipfs"!==t?"local"===t?r:t.split(",").reduce((t,e)=>{const[l,n]=u(e),r=a(l);if(null===r)return t;const s=o(r,n);return null===s?t:{...t,[r]:s}},{}):{}}
},{"eth-ens-namehash":"Ruki","./known-app-ids":"gIzh","./util/utils":"z6iT"}],"W1GQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getAppLocator=x,exports.getClientTheme=m,exports.getDefaultEthNode=I,exports.getEnsRegistryAddress=T,exports.getEthSubscriptionEventDelay=A,exports.getFortmaticApiKey=K,exports.getIpfsGateway=C,exports.getLastPackageVersion=O,exports.getLocalChainId=h,exports.getPackageVersion=N,exports.getPortisDappId=L,exports.getSelectedCurrency=D,exports.setClientTheme=w,exports.setDefaultEthNode=S,exports.setIpfsGateway=P,exports.setPackageVersion=R,exports.setSelectedCurrency=y;const e="APP_LOCATOR",t="THEME",r="DEFAULT_ETH_NODE",n="ENS_REGISTRY_ADDRESS",o="ETH_NETWORK_TYPE",i="ETH_SUBSCRIPTION_EVENT_DELAY",s="IPFS_GATEWAY",u="LOCAL_CHAIN_ID",c="PACKAGE_VERSION",a="SELECTED_CURRENCY",p="PORTIS_DAPP_ID",f="FORTMATIC_API_KEY",d=[[e,"ipfs",void 0],[r,void 0,void 0],[n,"0xa6e6b048fc161a65e77234c0fca7bf8e7f99e160",void 0],[o,"local",void 0],[i,void 0,void 0],[s,"http://localhost:8080/ipfs",void 0],[a,void 0,void 0],[c,"1.1.0",void 0],[t,void 0],[u,void 0],[f,void 0],[p,void 0]].reduce((e,t)=>{let[r,n,o]=t;return{...e,[r]:{storageKey:`${r}_KEY`,envValue:n||o||null}}},{});function l(e,t){return t?`${t}:${e}`:e}function E(e,t){const r=l(d[e].storageKey,t);return window.localStorage.getItem(r)}function g(e){return d[e].envValue}function _(e,t){return E(e,t)||g(e)}function v(e,t,r){const n=l(d[e].storageKey,r);return window.localStorage.setItem(n,t)}function x(t){return _(e,t)||""}function h(){return _(u)||1337}function I(e){return _(r,e)||""}function S(e,t){return v(r,e,t)}function T(){return _(n)||""}function A(){const e=parseInt(_(i),10);return Number.isFinite(e)?e:0}function C(){return _(s)||"https://ipfs.eth.aragon.network/ipfs"}function P(e,t){return v(s,e,t)}function D(){return(_(a)||"USD").toUpperCase()}function y(e){return v(a,e.toUpperCase())}function N(){return g(c)||""}function O(){return E(c)||""}function R(e){return v(c,e)}function m(){const e=E(t);if(e)try{return JSON.parse(e)}catch(r){}return{appearance:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",theme:null}}function w(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return v(t,JSON.stringify({appearance:e,theme:r}))}function L(){return _(p)||""}function K(){return _(f)||""}
},{}],"bfQg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;var r=!0,e="Invariant failed";function t(t,o){if(!t){if(r)throw new Error(e);var n="function"==typeof o?o():o;throw new Error(n?e+": "+n:e)}}
},{}],"uJJE":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.ConnectorEvent=void 0,exports.ConnectorEvent=e,function(e){e.Update="Web3ReactUpdate",e.Error="Web3ReactError",e.Deactivate="Web3ReactDeactivate"}(e||(exports.ConnectorEvent=e={}));
},{}],"sIbj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=!0;function r(r,t){if(!e){if(r)return;var o="Warning: "+t;"undefined"!=typeof console&&console.warn(o);try{throw Error(o)}catch(n){}}}var t=r;exports.default=t;
},{}],"OyLl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Web3ReactProvider=exports.UnsupportedChainIdError=exports.PRIMARY_KEY=void 0,exports.createWeb3ReactRoot=w,exports.getWeb3ReactContext=x,exports.useWeb3React=D;var r=u(require("react")),e=a(require("tiny-invariant")),t=require("@web3-react/types"),n=a(require("tiny-warning")),o=require("@ethersproject/bytes"),c=require("@ethersproject/keccak256");function a(r){return r&&r.__esModule?r:{default:r}}function i(r){if("function"!=typeof WeakMap)return null;var e=new WeakMap,t=new WeakMap;return(i=function(r){return r?t:e})(r)}function u(r,e){if(!e&&r&&r.__esModule)return r;if(null===r||"object"!=typeof r&&"function"!=typeof r)return{default:r};var t=i(e);if(t&&t.has(r))return t.get(r);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in r)if("default"!==c&&Object.prototype.hasOwnProperty.call(r,c)){var a=o?Object.getOwnPropertyDescriptor(r,c):null;a&&(a.get||a.set)?Object.defineProperty(n,c,a):n[c]=r[c]}return n.default=r,t&&t.set(r,n),n}function s(){return(s=Object.assign||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r}).apply(this,arguments)}function f(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r,d(r,e)}function p(r){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)})(r)}function d(r,e){return(d=Object.setPrototypeOf||function(r,e){return r.__proto__=e,r})(r,e)}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(r){return!1}}function l(r,e,t){return(l=v()?Reflect.construct:function(r,e,t){var n=[null];n.push.apply(n,e);var o=new(Function.bind.apply(r,n));return t&&d(o,t.prototype),o}).apply(null,arguments)}function y(r){return-1!==Function.toString.call(r).indexOf("[native code]")}function R(r){var e="function"==typeof Map?new Map:void 0;return(R=function(r){if(null===r||!y(r))return r;if("function"!=typeof r)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(r))return e.get(r);e.set(r,t)}function t(){return l(r,arguments,p(this).constructor)}return t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),d(t,r)})(r)}var E="undefined"!=typeof Symbol?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator",h="undefined"!=typeof Symbol?Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")):"@@asyncIterator";function O(r,e){try{var t=r()}catch(n){return e(n)}return t&&t.then?t.then(void 0,e):t}function C(r){if("string"==typeof r){r=r.replace(/^Ox/,"0x");var t=Number.parseInt(r,"0x"===r.trim().substring(0,2)?16:10);return Number.isNaN(t)&&(0,e.default)(!1),t}return Number.isInteger(r)||(0,e.default)(!1),r}function b(r){"string"==typeof r&&r.match(/^(0x)?[0-9a-fA-F]{40}$/)||(0,e.default)(!1);for(var t="0x"===r.substring(0,2)?r:"0x"+r,n=t.toLowerCase().substring(2).split(""),a=new Uint8Array(40),i=0;i<40;i++)a[i]=n[i].charCodeAt(0);for(var u=(0,o.arrayify)((0,c.keccak256)(a)),s=0;s<40;s+=2)u[s>>1]>>4>=8&&(n[s]=n[s].toUpperCase()),(15&u[s>>1])>=8&&(n[s+1]=n[s+1].toUpperCase());var f="0x"+n.join("");return t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==f&&(0,e.default)(!1),f}var I,T=function(r,e){try{var t=function(t){return Promise.resolve(Promise.all([void 0===e.chainId?r.getChainId():e.chainId,void 0===e.account?r.getAccount():e.account])).then(function(e){var n=e[0],o=e[1],c=C(n);if(r.supportedChainIds&&!r.supportedChainIds.includes(c))throw new A(c,r.supportedChainIds);var a=null===o?o:b(o);return{provider:t,chainId:c,account:a}})},n=void 0===e.provider;return Promise.resolve(n?Promise.resolve(r.getProvider()).then(t):t(e.provider))}catch(o){return Promise.reject(o)}},m=function(r){function e(){var e;return(e=r.call(this)||this).name=e.constructor.name,e}return f(e,r),e}(R(Error)),A=function(r){function e(e,t){var n;return(n=r.call(this)||this).name=n.constructor.name,n.message="Unsupported chain id: "+e+". Supported chain ids are: "+t+".",n}return f(e,r),e}(R(Error));function _(r,e){var t=e.type,n=e.payload;switch(t){case I.ACTIVATE_CONNECTOR:return{connector:n.connector,provider:n.provider,chainId:n.chainId,account:n.account,onError:n.onError};case I.UPDATE:var o=n.provider,c=n.chainId,a=n.account;return s({},r,void 0===o?{}:{provider:o},void 0===c?{}:{chainId:c},void 0===a?{}:{account:a});case I.UPDATE_FROM_ERROR:var i=n.provider,u=n.chainId,f=n.account;return s({},r,void 0===i?{}:{provider:i},void 0===u?{}:{chainId:u},void 0===f?{}:{account:f},{error:void 0});case I.ERROR:var p=n.error;return{connector:r.connector,error:p,onError:r.onError};case I.ERROR_FROM_ACTIVATION:return{connector:n.connector,error:n.error};case I.DEACTIVATE_CONNECTOR:return{}}}function P(){var e=(0,r.useReducer)(_,{}),n=e[0],o=e[1],c=n.connector,a=n.provider,i=n.chainId,u=n.account,f=n.onError,p=n.error,d=(0,r.useRef)(-1);d.current+=1;var v=(0,r.useCallback)(function(r,e,t){void 0===t&&(t=!1);try{var n=d.current,c=!1;return Promise.resolve(O(function(){return Promise.resolve(r.activate().then(function(r){return c=!0,r})).then(function(t){return Promise.resolve(T(r,t)).then(function(t){if(d.current>n)throw new m;o({type:I.ACTIVATE_CONNECTOR,payload:s({connector:r},t,{onError:e})})})})},function(n){if(n instanceof m)c&&r.deactivate();else{if(t)throw c&&r.deactivate(),n;e?(c&&r.deactivate(),e(n)):o({type:I.ERROR_FROM_ACTIVATION,payload:{connector:r,error:n}})}}))}catch(a){return Promise.reject(a)}},[]),l=(0,r.useCallback)(function(r){o({type:I.ERROR,payload:{error:r}})},[]),y=(0,r.useCallback)(function(){o({type:I.DEACTIVATE_CONNECTOR})},[]),R=(0,r.useCallback)(function(r){try{if(!c)throw Error("This should never happen, it's just so Typescript stops complaining");var e=d.current;return Promise.resolve(function(){if(p)return O(function(){return Promise.resolve(T(c,r)).then(function(r){if(d.current>e)throw new m;o({type:I.UPDATE_FROM_ERROR,payload:r})})},function(r){r instanceof m||(f?f(r):o({type:I.ERROR,payload:{error:r}}))});var t=void 0===r.chainId?void 0:C(r.chainId);if(void 0!==t&&c.supportedChainIds&&!c.supportedChainIds.includes(t)){var n=new A(t,c.supportedChainIds);f?f(n):o({type:I.ERROR,payload:{error:n}})}else{var a="string"==typeof r.account?b(r.account):r.account;o({type:I.UPDATE,payload:{provider:r.provider,chainId:t,account:a}})}}())}catch(t){return Promise.reject(t)}},[c,p,f]),E=(0,r.useCallback)(function(r){f?f(r):o({type:I.ERROR,payload:{error:r}})},[f]),h=(0,r.useCallback)(function(){o({type:I.DEACTIVATE_CONNECTOR})},[]);return(0,r.useEffect)(function(){return function(){c&&c.deactivate()}},[c]),(0,r.useEffect)(function(){return c&&c.on(t.ConnectorEvent.Update,R).on(t.ConnectorEvent.Error,E).on(t.ConnectorEvent.Deactivate,h),function(){c&&c.off(t.ConnectorEvent.Update,R).off(t.ConnectorEvent.Error,E).off(t.ConnectorEvent.Deactivate,h)}},[c,R,E,h]),{connector:c,provider:a,chainId:i,account:u,activate:v,setError:l,deactivate:y,error:p}}exports.UnsupportedChainIdError=A,function(r){r[r.ACTIVATE_CONNECTOR=0]="ACTIVATE_CONNECTOR",r[r.UPDATE=1]="UPDATE",r[r.UPDATE_FROM_ERROR=2]="UPDATE_FROM_ERROR",r[r.ERROR=3]="ERROR",r[r.ERROR_FROM_ACTIVATION=4]="ERROR_FROM_ACTIVATION",r[r.DEACTIVATE_CONNECTOR=5]="DEACTIVATE_CONNECTOR"}(I||(I={}));var N="primary";exports.PRIMARY_KEY=N;var g={};function w(t){g[t]&&(0,e.default)(!1),g[t]=(0,r.createContext)({activate:function(){try{return(0,e.default)(!1),Promise.resolve()}catch(r){return Promise.reject(r)}},setError:function(){(0,e.default)(!1)},deactivate:function(){(0,e.default)(!1)},active:!1}),g[t].displayName="Web3ReactContext - "+t;var n=g[t].Provider;return function(e){var t=e.getLibrary,o=e.children,c=P(),a=c.connector,i=c.provider,u=c.chainId,s=c.account,f=c.activate,p=c.setError,d=c.deactivate,v=c.error,l=void 0!==a&&void 0!==u&&void 0!==s&&!v,y=(0,r.useMemo)(function(){return l&&void 0!==u&&Number.isInteger(u)&&a?t(i,a):void 0},[l,t,i,a,u]),R={connector:a,library:y,chainId:u,account:s,activate:f,setError:p,deactivate:d,active:l,error:v};return r.default.createElement(n,{value:R},o)}}var j=w(N);function x(r){return void 0===r&&(r=N),Object.keys(g).includes(r)||(0,e.default)(!1),g[r]}function D(e){return(0,r.useContext)(x(e))}exports.Web3ReactProvider=j;
},{"react":"n8MK","tiny-invariant":"bfQg","@web3-react/types":"uJJE","tiny-warning":"sIbj","@ethersproject/bytes":"kHJk","@ethersproject/keccak256":"Ko0x"}],"sKa6":[function(require,module,exports) {
var define;
var t;!function(i,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof t&&t.amd?t(e):(i=i||self).JSBI=e()}(this,function(){"use strict";var t=Math.imul,i=Math.clz32,e=Math.abs,n=Math.max,r=Math.floor;class _ extends Array{constructor(t,i){if(super(t),this.sign=i,t>_.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded")}static BigInt(t){var i=Number.isFinite;if("number"==typeof t){if(0===t)return _.__zero();if(_.__isOneDigitInt(t))return 0>t?_.__oneDigit(-t,!0):_.__oneDigit(t,!1);if(!i(t)||r(t)!==t)throw new RangeError("The number "+t+" cannot be converted to BigInt because it is not an integer");return _.__fromDouble(t)}if("string"==typeof t){const i=_.__fromString(t);if(null===i)throw new SyntaxError("Cannot convert "+t+" to a BigInt");return i}if("boolean"==typeof t)return!0===t?_.__oneDigit(1,!1):_.__zero();if("object"==typeof t){if(t.constructor===_)return t;const i=_.__toPrimitive(t);return _.BigInt(i)}throw new TypeError("Cannot convert "+t+" to a BigInt")}toDebugString(){const t=["BigInt["];for(const i of this)t.push((i?(i>>>0).toString(16):i)+", ");return t.push("]"),t.join("")}toString(t=10){if(2>t||36<t)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":0==(t&t-1)?_.__toStringBasePowerOfTwo(this,t):_.__toStringGeneric(this,t,!1)}static toNumber(t){const i=t.length;if(0===i)return 0;if(1===i){const i=t.__unsignedDigit(0);return t.sign?-i:i}const e=t.__digit(i-1),n=_.__clz30(e),r=30*i-n;if(1024<r)return t.sign?-1/0:1/0;let o=r-1,s=e,l=i-1;const u=n+3;let g=32===u?0:s<<u;g>>>=12;const a=u-12;let f=12<=u?0:s<<20+u,c=20+u;for(0<a&&0<l&&(l--,g|=(s=t.__digit(l))>>>30-a,f=s<<a+2,c=a+2);0<c&&0<l;)l--,s=t.__digit(l),f|=30<=c?s<<c-30:s>>>30-c,c-=30;const h=_.__decideRounding(t,c,l,s);if((1===h||0===h&&1==(1&f))&&(0===(f=f+1>>>0)&&(0!=++g>>>20&&(g=0,1023<++o))))return t.sign?-1/0:1/0;const d=t.sign?-2147483648:0;return o=o+1023<<20,_.__kBitConversionInts[1]=d|o|g,_.__kBitConversionInts[0]=f,_.__kBitConversionDouble[0]}static unaryMinus(t){if(0===t.length)return t;const i=t.__copy();return i.sign=!t.sign,i}static bitwiseNot(t){return t.sign?_.__absoluteSubOne(t).__trim():_.__absoluteAddOne(t,!0)}static exponentiate(t,i){if(i.sign)throw new RangeError("Exponent must be positive");if(0===i.length)return _.__oneDigit(1,!1);if(0===t.length)return t;if(1===t.length&&1===t.__digit(0))return t.sign&&0==(1&i.__digit(0))?_.unaryMinus(t):t;if(1<i.length)throw new RangeError("BigInt too big");let e=i.__unsignedDigit(0);if(1===e)return t;if(e>=_.__kMaxLengthBits)throw new RangeError("BigInt too big");if(1===t.length&&2===t.__digit(0)){const i=1+(0|e/30),n=t.sign&&0!=(1&e),r=new _(i,n);r.__initializeDigits();const o=1<<e%30;return r.__setDigit(i-1,o),r}let n=null,r=t;for(0!=(1&e)&&(n=t),e>>=1;0!==e;e>>=1)r=_.multiply(r,r),0!=(1&e)&&(n=null===n?r:_.multiply(n,r));return n}static multiply(t,i){if(0===t.length)return t;if(0===i.length)return i;let e=t.length+i.length;30<=t.__clzmsd()+i.__clzmsd()&&e--;const n=new _(e,t.sign!==i.sign);n.__initializeDigits();for(let r=0;r<t.length;r++)_.__multiplyAccumulate(i,t.__digit(r),n,r);return n.__trim()}static divide(t,i){if(0===i.length)throw new RangeError("Division by zero");if(0>_.__absoluteCompare(t,i))return _.__zero();const e=t.sign!==i.sign,n=i.__unsignedDigit(0);let r;if(1===i.length&&32767>=n){if(1===n)return e===t.sign?t:_.unaryMinus(t);r=_.__absoluteDivSmall(t,n,null)}else r=_.__absoluteDivLarge(t,i,!0,!1);return r.sign=e,r.__trim()}static remainder(t,i){if(0===i.length)throw new RangeError("Division by zero");if(0>_.__absoluteCompare(t,i))return t;const e=i.__unsignedDigit(0);if(1===i.length&&32767>=e){if(1===e)return _.__zero();const i=_.__absoluteModSmall(t,e);return 0===i?_.__zero():_.__oneDigit(i,t.sign)}const n=_.__absoluteDivLarge(t,i,!1,!0);return n.sign=t.sign,n.__trim()}static add(t,i){const e=t.sign;return e===i.sign?_.__absoluteAdd(t,i,e):0<=_.__absoluteCompare(t,i)?_.__absoluteSub(t,i,e):_.__absoluteSub(i,t,!e)}static subtract(t,i){const e=t.sign;return e===i.sign?0<=_.__absoluteCompare(t,i)?_.__absoluteSub(t,i,e):_.__absoluteSub(i,t,!e):_.__absoluteAdd(t,i,e)}static leftShift(t,i){return 0===i.length||0===t.length?t:i.sign?_.__rightShiftByAbsolute(t,i):_.__leftShiftByAbsolute(t,i)}static signedRightShift(t,i){return 0===i.length||0===t.length?t:i.sign?_.__leftShiftByAbsolute(t,i):_.__rightShiftByAbsolute(t,i)}static unsignedRightShift(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}static lessThan(t,i){return 0>_.__compareToBigInt(t,i)}static lessThanOrEqual(t,i){return 0>=_.__compareToBigInt(t,i)}static greaterThan(t,i){return 0<_.__compareToBigInt(t,i)}static greaterThanOrEqual(t,i){return 0<=_.__compareToBigInt(t,i)}static equal(t,i){if(t.sign!==i.sign)return!1;if(t.length!==i.length)return!1;for(let e=0;e<t.length;e++)if(t.__digit(e)!==i.__digit(e))return!1;return!0}static notEqual(t,i){return!_.equal(t,i)}static bitwiseAnd(t,i){if(!t.sign&&!i.sign)return _.__absoluteAnd(t,i).__trim();if(t.sign&&i.sign){const e=n(t.length,i.length)+1;let r=_.__absoluteSubOne(t,e);const o=_.__absoluteSubOne(i);return r=_.__absoluteOr(r,o,r),_.__absoluteAddOne(r,!0,r).__trim()}return t.sign&&([t,i]=[i,t]),_.__absoluteAndNot(t,_.__absoluteSubOne(i)).__trim()}static bitwiseXor(t,i){if(!t.sign&&!i.sign)return _.__absoluteXor(t,i).__trim();if(t.sign&&i.sign){const e=n(t.length,i.length),r=_.__absoluteSubOne(t,e),o=_.__absoluteSubOne(i);return _.__absoluteXor(r,o,r).__trim()}const e=n(t.length,i.length)+1;t.sign&&([t,i]=[i,t]);let r=_.__absoluteSubOne(i,e);return r=_.__absoluteXor(r,t,r),_.__absoluteAddOne(r,!0,r).__trim()}static bitwiseOr(t,i){const e=n(t.length,i.length);if(!t.sign&&!i.sign)return _.__absoluteOr(t,i).__trim();if(t.sign&&i.sign){let n=_.__absoluteSubOne(t,e);const r=_.__absoluteSubOne(i);return n=_.__absoluteAnd(n,r,n),_.__absoluteAddOne(n,!0,n).__trim()}t.sign&&([t,i]=[i,t]);let r=_.__absoluteSubOne(i,e);return r=_.__absoluteAndNot(r,t,r),_.__absoluteAddOne(r,!0,r).__trim()}static asIntN(t,i){if(0===i.length)return i;if(0>(t=r(t)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===t)return _.__zero();if(t>=_.__kMaxLengthBits)return i;const e=0|(t+29)/30;if(i.length<e)return i;const n=i.__unsignedDigit(e-1),o=1<<(t-1)%30;if(i.length===e&&n<o)return i;if((n&o)!==o)return _.__truncateToNBits(t,i);if(!i.sign)return _.__truncateAndSubFromPowerOfTwo(t,i,!0);if(0==(n&o-1)){for(let n=e-2;0<=n;n--)if(0!==i.__digit(n))return _.__truncateAndSubFromPowerOfTwo(t,i,!1);return i.length===e&&n===o?i:_.__truncateToNBits(t,i)}return _.__truncateAndSubFromPowerOfTwo(t,i,!1)}static asUintN(t,i){if(0===i.length)return i;if(0>(t=r(t)))throw new RangeError("Invalid value: not (convertible to) a safe integer");if(0===t)return _.__zero();if(i.sign){if(t>_.__kMaxLengthBits)throw new RangeError("BigInt too big");return _.__truncateAndSubFromPowerOfTwo(t,i,!1)}if(t>=_.__kMaxLengthBits)return i;const e=0|(t+29)/30;if(i.length<e)return i;const n=t%30;if(i.length==e){if(0===n)return i;if(0==i.__digit(e-1)>>>n)return i}return _.__truncateToNBits(t,i)}static ADD(t,i){if(t=_.__toPrimitive(t),i=_.__toPrimitive(i),"string"==typeof t)return"string"!=typeof i&&(i=i.toString()),t+i;if("string"==typeof i)return t.toString()+i;if(t=_.__toNumeric(t),i=_.__toNumeric(i),_.__isBigInt(t)&&_.__isBigInt(i))return _.add(t,i);if("number"==typeof t&&"number"==typeof i)return t+i;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}static LT(t,i){return _.__compare(t,i,0)}static LE(t,i){return _.__compare(t,i,1)}static GT(t,i){return _.__compare(t,i,2)}static GE(t,i){return _.__compare(t,i,3)}static EQ(t,i){for(;;){if(_.__isBigInt(t))return _.__isBigInt(i)?_.equal(t,i):_.EQ(i,t);if("number"==typeof t){if(_.__isBigInt(i))return _.__equalToNumber(i,t);if("object"!=typeof i)return t==i;i=_.__toPrimitive(i)}else if("string"==typeof t){if(_.__isBigInt(i))return null!==(t=_.__fromString(t))&&_.equal(t,i);if("object"!=typeof i)return t==i;i=_.__toPrimitive(i)}else if("boolean"==typeof t){if(_.__isBigInt(i))return _.__equalToNumber(i,+t);if("object"!=typeof i)return t==i;i=_.__toPrimitive(i)}else if("symbol"==typeof t){if(_.__isBigInt(i))return!1;if("object"!=typeof i)return t==i;i=_.__toPrimitive(i)}else{if("object"!=typeof t)return t==i;if("object"==typeof i&&i.constructor!==_)return t==i;t=_.__toPrimitive(t)}}}static NE(t,i){return!_.EQ(t,i)}static __zero(){return new _(0,!1)}static __oneDigit(t,i){const e=new _(1,i);return e.__setDigit(0,t),e}__copy(){const t=new _(this.length,this.sign);for(let i=0;i<this.length;i++)t[i]=this[i];return t}__trim(){let t=this.length,i=this[t-1];for(;0===i;)i=this[--t-1],this.pop();return 0===t&&(this.sign=!1),this}__initializeDigits(){for(let t=0;t<this.length;t++)this[t]=0}static __decideRounding(t,i,e,n){if(0<i)return-1;let r;if(0>i)r=-i-1;else{if(0===e)return-1;e--,n=t.__digit(e),r=29}let _=1<<r;if(0==(n&_))return-1;if(0!=(n&(_-=1)))return 1;for(;0<e;)if(e--,0!==t.__digit(e))return 1;return 0}static __fromDouble(t){_.__kBitConversionDouble[0]=t;const i=(2047&_.__kBitConversionInts[1]>>>20)-1023,e=1+(0|i/30),n=new _(e,0>t);let r=1048575&_.__kBitConversionInts[1]|1048576,o=_.__kBitConversionInts[0];const s=i%30;let l,u=0;if(20>s){const t=20-s;u=t+32,l=r>>>t,r=r<<32-t|o>>>t,o<<=32-t}else if(20===s)u=32,l=r,r=o,o=0;else{const t=s-20;u=32-t,l=r<<t|o>>>32-t,r=o<<t,o=0}n.__setDigit(e-1,l);for(let _=e-2;0<=_;_--)0<u?(u-=30,l=r>>>2,r=r<<30|o>>>2,o<<=30):l=0,n.__setDigit(_,l);return n.__trim()}static __isWhitespace(t){return!!(13>=t&&9<=t)||(159>=t?32==t:131071>=t?160==t||5760==t:196607>=t?10>=(t&=131071)||40==t||41==t||47==t||95==t||4096==t:65279==t)}static __fromString(t,i=0){let e=0;const n=t.length;let r=0;if(r===n)return _.__zero();let o=t.charCodeAt(r);for(;_.__isWhitespace(o);){if(++r===n)return _.__zero();o=t.charCodeAt(r)}if(43===o){if(++r===n)return null;o=t.charCodeAt(r),e=1}else if(45===o){if(++r===n)return null;o=t.charCodeAt(r),e=-1}if(0===i){if(i=10,48===o){if(++r===n)return _.__zero();if(88===(o=t.charCodeAt(r))||120===o){if(i=16,++r===n)return null;o=t.charCodeAt(r)}else if(79===o||111===o){if(i=8,++r===n)return null;o=t.charCodeAt(r)}else if(66===o||98===o){if(i=2,++r===n)return null;o=t.charCodeAt(r)}}}else if(16===i&&48===o){if(++r===n)return _.__zero();if(88===(o=t.charCodeAt(r))||120===o){if(++r===n)return null;o=t.charCodeAt(r)}}if(0!=e&&10!==i)return null;for(;48===o;){if(++r===n)return _.__zero();o=t.charCodeAt(r)}const s=n-r;let l=_.__kMaxBitsPerChar[i],u=_.__kBitsPerCharTableMultiplier-1;if(s>1073741824/l)return null;const g=l*s+u>>>_.__kBitsPerCharTableShift,a=new _(0|(g+29)/30,!1),f=10>i?i:10,c=10<i?i-10:0;if(0==(i&i-1)){l>>=_.__kBitsPerCharTableShift;const i=[],e=[];let s=!1;do{let _=0,u=0;for(;;){let i;if(o-48>>>0<f)i=o-48;else{if(!((32|o)-97>>>0<c)){s=!0;break}i=(32|o)-87}if(u+=l,_=_<<l|i,++r===n){s=!0;break}if(o=t.charCodeAt(r),30<u+l)break}i.push(_),e.push(u)}while(!s);_.__fillFromParts(a,i,e)}else{a.__initializeDigits();let e=!1,s=0;do{let g=0,h=1;for(;;){let _;if(o-48>>>0<f)_=o-48;else{if(!((32|o)-97>>>0<c)){e=!0;break}_=(32|o)-87}const l=h*i;if(1073741823<l)break;if(h=l,g=g*i+_,s++,++r===n){e=!0;break}o=t.charCodeAt(r)}const d=0|(l*s+(u=30*_.__kBitsPerCharTableMultiplier-1)>>>_.__kBitsPerCharTableShift)/30;a.__inplaceMultiplyAdd(h,g,d)}while(!e)}if(r!==n){if(!_.__isWhitespace(o))return null;for(r++;r<n;r++)if(o=t.charCodeAt(r),!_.__isWhitespace(o))return null}return a.sign=-1==e,a.__trim()}static __fillFromParts(t,i,e){let n=0,r=0,_=0;for(let o=i.length-1;0<=o;o--){const s=i[o],l=e[o];r|=s<<_,30===(_+=l)?(t.__setDigit(n++,r),_=0,r=0):30<_&&(t.__setDigit(n++,1073741823&r),r=s>>>l-(_-=30))}if(0!==r){if(n>=t.length)throw new Error("implementation bug");t.__setDigit(n++,r)}for(;n<t.length;n++)t.__setDigit(n,0)}static __toStringBasePowerOfTwo(t,i){const e=t.length;let n=i-1;const r=n=(15&(n=(51&(n=(85&n>>>1)+(85&n))>>>2)+(51&n))>>>4)+(15&n),o=i-1,s=t.__digit(e-1);let l=0|(30*e-_.__clz30(s)+r-1)/r;if(t.sign&&l++,268435456<l)throw new Error("string too long");const u=Array(l);let g=l-1,a=0,f=0;for(let h=0;h<e-1;h++){const i=t.__digit(h),e=(a|i<<f)&o;u[g--]=_.__kConversionChars[e];const n=r-f;for(a=i>>>n,f=30-n;f>=r;)u[g--]=_.__kConversionChars[a&o],a>>>=r,f-=r}const c=(a|s<<f)&o;for(u[g--]=_.__kConversionChars[c],a=s>>>r-f;0!==a;)u[g--]=_.__kConversionChars[a&o],a>>>=r;if(t.sign&&(u[g--]="-"),-1!=g)throw new Error("implementation bug");return u.join("")}static __toStringGeneric(t,i,e){const n=t.length;if(0===n)return"";if(1===n){let n=t.__unsignedDigit(0).toString(i);return!1===e&&t.sign&&(n="-"+n),n}const r=30*n-_.__clz30(t.__digit(n-1)),o=_.__kMaxBitsPerChar[i]-1;let s=r*_.__kBitsPerCharTableMultiplier;const l=(s=0|(s+=o-1)/o)+1>>1,u=_.exponentiate(_.__oneDigit(i,!1),_.__oneDigit(l,!1));let g,a;const f=u.__unsignedDigit(0);if(1===u.length&&32767>=f){(g=new _(t.length,!1)).__initializeDigits();let e=0;for(let i=2*t.length-1;0<=i;i--){const n=e<<15|t.__halfDigit(i);g.__setHalfDigit(i,0|n/f),e=0|n%f}a=e.toString(i)}else{const e=_.__absoluteDivLarge(t,u,!0,!0);g=e.quotient;const n=e.remainder.__trim();a=_.__toStringGeneric(n,i,!0)}g.__trim();let c=_.__toStringGeneric(g,i,!0);for(;a.length<l;)a="0"+a;return!1===e&&t.sign&&(c="-"+c),c+a}static __unequalSign(t){return t?-1:1}static __absoluteGreater(t){return t?-1:1}static __absoluteLess(t){return t?1:-1}static __compareToBigInt(t,i){const e=t.sign;if(e!==i.sign)return _.__unequalSign(e);const n=_.__absoluteCompare(t,i);return 0<n?_.__absoluteGreater(e):0>n?_.__absoluteLess(e):0}static __compareToNumber(t,i){if(_.__isOneDigitInt(i)){const n=t.sign,r=0>i;if(n!==r)return _.__unequalSign(n);if(0===t.length){if(r)throw new Error("implementation bug");return 0===i?0:-1}if(1<t.length)return _.__absoluteGreater(n);const o=e(i),s=t.__unsignedDigit(0);return s>o?_.__absoluteGreater(n):s<o?_.__absoluteLess(n):0}return _.__compareToDouble(t,i)}static __compareToDouble(t,i){if(i!=i)return i;if(i===1/0)return-1;if(i===-1/0)return 1;const e=t.sign;if(e!==0>i)return _.__unequalSign(e);if(0===i)throw new Error("implementation bug: should be handled elsewhere");if(0===t.length)return-1;_.__kBitConversionDouble[0]=i;const n=2047&_.__kBitConversionInts[1]>>>20;if(2047==n)throw new Error("implementation bug: handled elsewhere");const r=n-1023;if(0>r)return _.__absoluteGreater(e);const o=t.length;let s=t.__digit(o-1);const l=_.__clz30(s),u=30*o-l,g=r+1;if(u<g)return _.__absoluteLess(e);if(u>g)return _.__absoluteGreater(e);let a=1048576|1048575&_.__kBitConversionInts[1],f=_.__kBitConversionInts[0];const c=29-l;if(c!==(0|(u-1)%30))throw new Error("implementation bug");let h,d=0;if(20>c){const t=20-c;d=t+32,h=a>>>t,a=a<<32-t|f>>>t,f<<=32-t}else if(20===c)d=32,h=a,a=f,f=0;else{const t=c-20;d=32-t,h=a<<t|f>>>32-t,a=f<<t,f=0}if((s>>>=0)>(h>>>=0))return _.__absoluteGreater(e);if(s<h)return _.__absoluteLess(e);for(let b=o-2;0<=b;b--){0<d?(d-=30,h=a>>>2,a=a<<30|f>>>2,f<<=30):h=0;const i=t.__unsignedDigit(b);if(i>h)return _.__absoluteGreater(e);if(i<h)return _.__absoluteLess(e)}if(0!==a||0!==f){if(0===d)throw new Error("implementation bug");return _.__absoluteLess(e)}return 0}static __equalToNumber(t,i){return _.__isOneDigitInt(i)?0===i?0===t.length:1===t.length&&t.sign===0>i&&t.__unsignedDigit(0)===e(i):0===_.__compareToDouble(t,i)}static __comparisonResultToBool(t,i){return 0===i?0>t:1===i?0>=t:2===i?0<t:3===i?0<=t:void 0}static __compare(t,i,e){if(t=_.__toPrimitive(t),i=_.__toPrimitive(i),"string"==typeof t&&"string"==typeof i)switch(e){case 0:return t<i;case 1:return t<=i;case 2:return t>i;case 3:return t>=i}if(_.__isBigInt(t)&&"string"==typeof i)return null!==(i=_.__fromString(i))&&_.__comparisonResultToBool(_.__compareToBigInt(t,i),e);if("string"==typeof t&&_.__isBigInt(i))return null!==(t=_.__fromString(t))&&_.__comparisonResultToBool(_.__compareToBigInt(t,i),e);if(t=_.__toNumeric(t),i=_.__toNumeric(i),_.__isBigInt(t)){if(_.__isBigInt(i))return _.__comparisonResultToBool(_.__compareToBigInt(t,i),e);if("number"!=typeof i)throw new Error("implementation bug");return _.__comparisonResultToBool(_.__compareToNumber(t,i),e)}if("number"!=typeof t)throw new Error("implementation bug");if(_.__isBigInt(i))return _.__comparisonResultToBool(_.__compareToNumber(i,t),2^e);if("number"!=typeof i)throw new Error("implementation bug");return 0===e?t<i:1===e?t<=i:2===e?t>i:3===e?t>=i:void 0}__clzmsd(){return _.__clz30(this.__digit(this.length-1))}static __absoluteAdd(t,i,e){if(t.length<i.length)return _.__absoluteAdd(i,t,e);if(0===t.length)return t;if(0===i.length)return t.sign===e?t:_.unaryMinus(t);let n=t.length;(0===t.__clzmsd()||i.length===t.length&&0===i.__clzmsd())&&n++;const r=new _(n,e);let o=0,s=0;for(;s<i.length;s++){const e=t.__digit(s)+i.__digit(s)+o;o=e>>>30,r.__setDigit(s,1073741823&e)}for(;s<t.length;s++){const i=t.__digit(s)+o;o=i>>>30,r.__setDigit(s,1073741823&i)}return s<r.length&&r.__setDigit(s,o),r.__trim()}static __absoluteSub(t,i,e){if(0===t.length)return t;if(0===i.length)return t.sign===e?t:_.unaryMinus(t);const n=new _(t.length,e);let r=0,o=0;for(;o<i.length;o++){const e=t.__digit(o)-i.__digit(o)-r;r=1&e>>>30,n.__setDigit(o,1073741823&e)}for(;o<t.length;o++){const i=t.__digit(o)-r;r=1&i>>>30,n.__setDigit(o,1073741823&i)}return n.__trim()}static __absoluteAddOne(t,i,e=null){const n=t.length;null===e?e=new _(n,i):e.sign=i;let r=1;for(let _=0;_<n;_++){const i=t.__digit(_)+r;r=i>>>30,e.__setDigit(_,1073741823&i)}return 0!=r&&e.__setDigitGrow(n,1),e}static __absoluteSubOne(t,i){const e=t.length,n=new _(i=i||e,!1);let r=1;for(let _=0;_<e;_++){const i=t.__digit(_)-r;r=1&i>>>30,n.__setDigit(_,1073741823&i)}if(0!=r)throw new Error("implementation bug");for(let _=e;_<i;_++)n.__setDigit(_,0);return n}static __absoluteAnd(t,i,e=null){let n=t.length,r=i.length,o=r;if(n<r){o=n;const e=t,_=n;t=i,n=r,i=e,r=_}let s=o;null===e?e=new _(s,!1):s=e.length;let l=0;for(;l<o;l++)e.__setDigit(l,t.__digit(l)&i.__digit(l));for(;l<s;l++)e.__setDigit(l,0);return e}static __absoluteAndNot(t,i,e=null){const n=t.length,r=i.length;let o=r;n<r&&(o=n);let s=n;null===e?e=new _(s,!1):s=e.length;let l=0;for(;l<o;l++)e.__setDigit(l,t.__digit(l)&~i.__digit(l));for(;l<n;l++)e.__setDigit(l,t.__digit(l));for(;l<s;l++)e.__setDigit(l,0);return e}static __absoluteOr(t,i,e=null){let n=t.length,r=i.length,o=r;if(n<r){o=n;const e=t,_=n;t=i,n=r,i=e,r=_}let s=n;null===e?e=new _(s,!1):s=e.length;let l=0;for(;l<o;l++)e.__setDigit(l,t.__digit(l)|i.__digit(l));for(;l<n;l++)e.__setDigit(l,t.__digit(l));for(;l<s;l++)e.__setDigit(l,0);return e}static __absoluteXor(t,i,e=null){let n=t.length,r=i.length,o=r;if(n<r){o=n;const e=t,_=n;t=i,n=r,i=e,r=_}let s=n;null===e?e=new _(s,!1):s=e.length;let l=0;for(;l<o;l++)e.__setDigit(l,t.__digit(l)^i.__digit(l));for(;l<n;l++)e.__setDigit(l,t.__digit(l));for(;l<s;l++)e.__setDigit(l,0);return e}static __absoluteCompare(t,i){const e=t.length-i.length;if(0!=e)return e;let n=t.length-1;for(;0<=n&&t.__digit(n)===i.__digit(n);)n--;return 0>n?0:t.__unsignedDigit(n)>i.__unsignedDigit(n)?1:-1}static __multiplyAccumulate(t,i,e,n){if(0===i)return;const r=32767&i,o=i>>>15;let s=0,l=0;for(let u,g=0;g<t.length;g++,n++){u=e.__digit(n);const i=t.__digit(g),a=32767&i,f=i>>>15,c=_.__imul(a,r),h=_.__imul(a,o),d=_.__imul(f,r),b=_.__imul(f,o);s=(u+=l+c+s)>>>30,u&=1073741823,s+=(u+=((32767&h)<<15)+((32767&d)<<15))>>>30,l=b+(h>>>15)+(d>>>15),e.__setDigit(n,1073741823&u)}for(;0!=s||0!==l;n++){let t=e.__digit(n);t+=s+l,l=0,s=t>>>30,e.__setDigit(n,1073741823&t)}}static __internalMultiplyAdd(t,i,e,n,r){let o=e,s=0;for(let l=0;l<n;l++){const e=t.__digit(l),n=_.__imul(32767&e,i),u=_.__imul(e>>>15,i),g=n+((32767&u)<<15)+s+o;o=g>>>30,s=u>>>15,r.__setDigit(l,1073741823&g)}if(r.length>n)for(r.__setDigit(n++,o+s);n<r.length;)r.__setDigit(n++,0);else if(0!==o+s)throw new Error("implementation bug")}__inplaceMultiplyAdd(t,i,e){e>this.length&&(e=this.length);const n=32767&t,r=t>>>15;let o=0,s=i;for(let l=0;l<e;l++){const t=this.__digit(l),i=32767&t,e=t>>>15,u=_.__imul(i,n),g=_.__imul(i,r),a=_.__imul(e,n),f=_.__imul(e,r);let c=s+u+o;o=c>>>30,c&=1073741823,o+=(c+=((32767&g)<<15)+((32767&a)<<15))>>>30,s=f+(g>>>15)+(a>>>15),this.__setDigit(l,1073741823&c)}if(0!=o||0!==s)throw new Error("implementation bug")}static __absoluteDivSmall(t,i,e=null){null===e&&(e=new _(t.length,!1));let n=0;for(let r,_=2*t.length-1;0<=_;_-=2){const o=0|(r=(n<<15|t.__halfDigit(_))>>>0)/i,s=0|(r=((n=0|r%i)<<15|t.__halfDigit(_-1))>>>0)/i;n=0|r%i,e.__setDigit(_>>>1,o<<15|s)}return e}static __absoluteModSmall(t,i){let e=0;for(let n=2*t.length-1;0<=n;n--){e=0|((e<<15|t.__halfDigit(n))>>>0)%i}return e}static __absoluteDivLarge(t,i,e,n){const r=i.__halfDigitLength(),o=i.length,s=t.__halfDigitLength()-r;let l=null;e&&(l=new _(s+2>>>1,!1)).__initializeDigits();const u=new _(r+2>>>1,!1);u.__initializeDigits();const g=_.__clz15(i.__halfDigit(r-1));0<g&&(i=_.__specialLeftShift(i,g,0));const a=_.__specialLeftShift(t,g,1),f=i.__halfDigit(r-1);let c=0;for(let h,d=s;0<=d;d--){h=32767;const t=a.__halfDigit(d+r);if(t!==f){const e=(t<<15|a.__halfDigit(d+r-1))>>>0;h=0|e/f;let n=0|e%f;const o=i.__halfDigit(r-2),s=a.__halfDigit(d+r-2);for(;_.__imul(h,o)>>>0>(n<<16|s)>>>0&&(h--,!(32767<(n+=f))););}_.__internalMultiplyAdd(i,h,0,o,u);let n=a.__inplaceSub(u,d,r+1);0!==n&&(n=a.__inplaceAdd(i,d,r),a.__setHalfDigit(d+r,32767&a.__halfDigit(d+r)+n),h--),e&&(1&d?c=h<<15:l.__setDigit(d>>>1,c|h))}if(n)return a.__inplaceRightShift(g),e?{quotient:l,remainder:a}:a;if(e)return l;throw new Error("unreachable")}static __clz15(t){return _.__clz30(t)-15}__inplaceAdd(t,i,e){let n=0;for(let r=0;r<e;r++){const e=this.__halfDigit(i+r)+t.__halfDigit(r)+n;n=e>>>15,this.__setHalfDigit(i+r,32767&e)}return n}__inplaceSub(t,i,e){let n=0;if(1&i){i>>=1;let r=this.__digit(i),_=32767&r,o=0;for(;o<e-1>>>1;o++){const e=t.__digit(o),s=(r>>>15)-(32767&e)-n;n=1&s>>>15,this.__setDigit(i+o,(32767&s)<<15|32767&_),n=1&(_=(32767&(r=this.__digit(i+o+1)))-(e>>>15)-n)>>>15}const s=t.__digit(o),l=(r>>>15)-(32767&s)-n;if(n=1&l>>>15,this.__setDigit(i+o,(32767&l)<<15|32767&_),i+o+1>=this.length)throw new RangeError("out of bounds");0==(1&e)&&(n=1&(_=(32767&(r=this.__digit(i+o+1)))-(s>>>15)-n)>>>15,this.__setDigit(i+t.length,1073709056&r|32767&_))}else{i>>=1;let r=0;for(;r<t.length-1;r++){const e=this.__digit(i+r),_=t.__digit(r),o=(32767&e)-(32767&_)-n,s=(e>>>15)-(_>>>15)-(n=1&o>>>15);n=1&s>>>15,this.__setDigit(i+r,(32767&s)<<15|32767&o)}const _=this.__digit(i+r),o=t.__digit(r),s=(32767&_)-(32767&o)-n;n=1&s>>>15;let l=0;0==(1&e)&&(n=1&(l=(_>>>15)-(o>>>15)-n)>>>15),this.__setDigit(i+r,(32767&l)<<15|32767&s)}return n}__inplaceRightShift(t){if(0===t)return;let i=this.__digit(0)>>>t;const e=this.length-1;for(let n=0;n<e;n++){const e=this.__digit(n+1);this.__setDigit(n,1073741823&e<<30-t|i),i=e>>>t}this.__setDigit(e,i)}static __specialLeftShift(t,i,e){const n=t.length,r=new _(n+e,!1);if(0===i){for(let i=0;i<n;i++)r.__setDigit(i,t.__digit(i));return 0<e&&r.__setDigit(n,0),r}let o=0;for(let _=0;_<n;_++){const e=t.__digit(_);r.__setDigit(_,1073741823&e<<i|o),o=e>>>30-i}return 0<e&&r.__setDigit(n,o),r}static __leftShiftByAbsolute(t,i){const e=_.__toShiftAmount(i);if(0>e)throw new RangeError("BigInt too big");const n=0|e/30,r=e%30,o=t.length,s=0!==r&&0!=t.__digit(o-1)>>>30-r,l=o+n+(s?1:0),u=new _(l,t.sign);if(0===r){let i=0;for(;i<n;i++)u.__setDigit(i,0);for(;i<l;i++)u.__setDigit(i,t.__digit(i-n))}else{let i=0;for(let t=0;t<n;t++)u.__setDigit(t,0);for(let e=0;e<o;e++){const _=t.__digit(e);u.__setDigit(e+n,1073741823&_<<r|i),i=_>>>30-r}if(s)u.__setDigit(o+n,i);else if(0!==i)throw new Error("implementation bug")}return u.__trim()}static __rightShiftByAbsolute(t,i){const e=t.length,n=t.sign,r=_.__toShiftAmount(i);if(0>r)return _.__rightShiftByMaximum(n);const o=0|r/30,s=r%30;let l=e-o;if(0>=l)return _.__rightShiftByMaximum(n);let u=!1;if(n)if(0!=(t.__digit(o)&(1<<s)-1))u=!0;else for(let _=0;_<o;_++)if(0!==t.__digit(_)){u=!0;break}if(u&&0===s){0==~t.__digit(e-1)&&l++}let g=new _(l,n);if(0===s){g.__setDigit(l-1,0);for(let i=o;i<e;i++)g.__setDigit(i-o,t.__digit(i))}else{let i=t.__digit(o)>>>s;const n=e-o-1;for(let e=0;e<n;e++){const n=t.__digit(e+o+1);g.__setDigit(e,1073741823&n<<30-s|i),i=n>>>s}g.__setDigit(n,i)}return u&&(g=_.__absoluteAddOne(g,!0,g)),g.__trim()}static __rightShiftByMaximum(t){return t?_.__oneDigit(1,!0):_.__zero()}static __toShiftAmount(t){if(1<t.length)return-1;const i=t.__unsignedDigit(0);return i>_.__kMaxLengthBits?-1:i}static __toPrimitive(t,i="default"){if("object"!=typeof t)return t;if(t.constructor===_)return t;if("undefined"!=typeof Symbol&&"symbol"==typeof Symbol.toPrimitive){const e=t[Symbol.toPrimitive];if(e){const t=e(i);if("object"!=typeof t)return t;throw new TypeError("Cannot convert object to primitive value")}}const e=t.valueOf;if(e){const i=e.call(t);if("object"!=typeof i)return i}const n=t.toString;if(n){const i=n.call(t);if("object"!=typeof i)return i}throw new TypeError("Cannot convert object to primitive value")}static __toNumeric(t){return _.__isBigInt(t)?t:+t}static __isBigInt(t){return"object"==typeof t&&null!==t&&t.constructor===_}static __truncateToNBits(t,i){const e=0|(t+29)/30,n=new _(e,i.sign),r=e-1;for(let _=0;_<r;_++)n.__setDigit(_,i.__digit(_));let o=i.__digit(r);if(0!=t%30){const i=32-t%30;o=o<<i>>>i}return n.__setDigit(r,o),n.__trim()}static __truncateAndSubFromPowerOfTwo(t,i,e){var n=Math.min;const r=0|(t+29)/30,o=new _(r,e);let s=0;const l=r-1;let u=0;for(const _=n(l,i.length);s<_;s++){const t=0-i.__digit(s)-u;u=1&t>>>30,o.__setDigit(s,1073741823&t)}for(;s<l;s++)o.__setDigit(s,0|1073741823&-u);let g=l<i.length?i.__digit(l):0;const a=t%30;let f;if(0==a)f=0-g-u,f&=1073741823;else{const t=32-a,i=1<<32-t;f=i-(g=g<<t>>>t)-u,f&=i-1}return o.__setDigit(l,f),o.__trim()}__digit(t){return this[t]}__unsignedDigit(t){return this[t]>>>0}__setDigit(t,i){this[t]=0|i}__setDigitGrow(t,i){this[t]=0|i}__halfDigitLength(){const t=this.length;return 32767>=this.__unsignedDigit(t-1)?2*t-1:2*t}__halfDigit(t){return 32767&this[t>>>1]>>>15*(1&t)}__setHalfDigit(t,i){const e=t>>>1,n=this.__digit(e),r=1&t?32767&n|i<<15:1073709056&n|32767&i;this.__setDigit(e,r)}static __digitPow(t,i){let e=1;for(;0<i;)1&i&&(e*=t),i>>>=1,t*=t;return e}static __isOneDigitInt(t){return(1073741823&t)===t}}return _.__kMaxLength=33554432,_.__kMaxLengthBits=_.__kMaxLength<<5,_.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],_.__kBitsPerCharTableShift=5,_.__kBitsPerCharTableMultiplier=1<<_.__kBitsPerCharTableShift,_.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],_.__kBitConversionBuffer=new ArrayBuffer(8),_.__kBitConversionDouble=new Float64Array(_.__kBitConversionBuffer),_.__kBitConversionInts=new Int32Array(_.__kBitConversionBuffer),_.__clz30=i?function(t){return i(t)-2}:function(t){var i=Math.LN2,e=Math.log;return 0===t?30:0|29-(0|e(t>>>0)/i)},_.__imul=t||function(t,i){return 0|t*i},_});
},{}],"FheM":[function(require,module,exports) {
var t=null;function e(){return t||(t=n()),t}function n(){try{throw new Error}catch(e){var t=(""+e.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\/\/[^)\n]+/g);if(t)return r(t[0])}return"/"}function r(t){return(""+t).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\/\/.+)?\/[^/]+(?:\?.*)?$/,"$1")+"/"}exports.getBundleURL=e,exports.getBaseURL=r;
},{}],"TUK3":[function(require,module,exports) {
var r=require("./bundle-url").getBundleURL;function e(r){Array.isArray(r)||(r=[r]);var e=r[r.length-1];try{return Promise.resolve(require(e))}catch(n){if("MODULE_NOT_FOUND"===n.code)return new s(function(n,i){t(r.slice(0,-1)).then(function(){return require(e)}).then(n,i)});throw n}}function t(r){return Promise.all(r.map(u))}var n={};function i(r,e){n[r]=e}module.exports=exports=e,exports.load=t,exports.register=i;var o={};function u(e){var t;if(Array.isArray(e)&&(t=e[1],e=e[0]),o[e])return o[e];var i=(e.substring(e.lastIndexOf(".")+1,e.length)||e).toLowerCase(),u=n[i];return u?o[e]=u(r()+e).then(function(r){return r&&module.bundle.register(t,r),r}).catch(function(r){throw delete o[e],r}):void 0}function s(r){this.executor=r,this.promise=null}s.prototype.then=function(r,e){return null===this.promise&&(this.promise=new Promise(this.executor)),this.promise.then(r,e)},s.prototype.catch=function(r){return null===this.promise&&(this.promise=new Promise(this.executor)),this.promise.catch(r)};
},{"./bundle-url":"FheM"}],"Vsfl":[function(require,module,exports) {
var define;
var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.ConnectorUnsupportedError=exports.ConnectionRejectedError=exports.ChainUnsupportedError=void 0,exports.UseWalletProvider=Re,exports.chains=exports.blockExplorerUrl=void 0,exports.getProviderFromUseWalletId=ke,exports.getProviderString=ge,exports.useWallet=Ne;var t=require("prop-types"),r=require("react"),n=require("@web3-react/core"),o=a(require("jsbi"));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,n,o,a,u){try{var i=e[a](u),c=i.value}catch(s){return void r(s)}i.done?t(c):Promise.resolve(c).then(n,o)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){u(a,n,o,i,c,"next",e)}function c(e){u(a,n,o,i,c,"throw",e)}i(void 0)})}}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,p(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function h(e,t,r){return(h=f()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&p(o,r.prototype),o}).apply(null,arguments)}function d(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function v(e){var t="function"==typeof Map?new Map:void 0;return(v=function(e){if(null===e||!d(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return h(e,arguments,l(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),p(r,e)})(e)}function m(e,t){return e(t={exports:{}},t.exports),t.exports}var y=m(function(e){var t=function(e){var t,r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",i=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(U){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof m?t:m,a=Object.create(o.prototype),u=new L(n||[]);return a._invoke=function(e,t,r){var n=p;return function(o,a){if(n===h)throw new Error("Generator is already running");if(n===d){if("throw"===o)throw a;return R()}for(r.method=o,r.arg=a;;){var u=r.delegate;if(u){var i=N(u,r);if(i){if(i===v)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===p)throw n=d,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var c=l(e,t,r);if("normal"===c.type){if(n=r.done?d:f,c.arg===v)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=d,r.method="throw",r.arg=c.arg)}}}(e,r,u),a}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(U){return{type:"throw",arg:U}}}e.wrap=s;var p="suspendedStart",f="suspendedYield",h="executing",d="completed",v={};function m(){}function y(){}function w(){}var b={};b[a]=function(){return this};var g=Object.getPrototypeOf,x=g&&g(g(j([])));x&&x!==r&&n.call(x,a)&&(b=x);var k=w.prototype=m.prototype=Object.create(b);function E(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function C(e,t){var r;this._invoke=function(o,a){function u(){return new t(function(r,u){!function r(o,a,u,i){var c=l(e[o],e,a);if("throw"!==c.type){var s=c.arg,p=s.value;return p&&"object"==typeof p&&n.call(p,"__await")?t.resolve(p.__await).then(function(e){r("next",e,u,i)},function(e){r("throw",e,u,i)}):t.resolve(p).then(function(e){s.value=e,u(s)},function(e){return r("throw",e,u,i)})}i(c.arg)}(o,a,r,u)})}return r=r?r.then(u,u):u()}}function N(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,N(e,r),"throw"===r.method))return v;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var o=l(n,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,v;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function j(e){if(e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,u=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return u.next=u}}return{next:R}}function R(){return{value:t,done:!0}}return y.prototype=k.constructor=w,w.constructor=y,y.displayName=c(w,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,c(e,i,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},E(C.prototype),C.prototype[u]=function(){return this},e.AsyncIterator=C,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var u=new C(s(t,r,n,o),a);return e.isGeneratorFunction(r)?u:u.next().then(function(e){return e.done?e.value:u.next()})},E(k),c(k,i,"Generator"),k[a]=function(){return this},k.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=j,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(_),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return i.type="throw",i.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],i=u.completion;if("root"===u.tryLoc)return o("end");if(u.tryLoc<=this.prev){var c=n.call(u,"catchLoc"),s=n.call(u,"finallyLoc");if(c&&s){if(this.prev<u.catchLoc)return o(u.catchLoc,!0);if(this.prev<u.finallyLoc)return o(u.finallyLoc)}else if(c){if(this.prev<u.catchLoc)return o(u.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return o(u.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=e,u.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(u)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:j(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(r){Function("r","regeneratorRuntime = r")(t)}}),w=function(e){function t(t){for(var r,n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];return(r=e.call.apply(e,[this].concat(o))||this).name="ChainUnsupportedError",r.message=t,r}return s(t,e),t}(v(Error));exports.ChainUnsupportedError=w;var b=function(e){function t(t){for(var r,n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];return(r=e.call.apply(e,[this].concat(o))||this).name="ChainUnknownError",r.message=t,r}return s(t,e),t}(v(Error)),g=function(e){function t(t){for(var r,n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];return(r=e.call.apply(e,[this].concat(o))||this).name="ConnectorUnsupportedError",r.message="Unsupported connector: "+t+".",r}return s(t,e),t}(v(Error));exports.ConnectorUnsupportedError=g;var x=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).name="ConnectionRejectedError",t.message="The activation has been rejected by the provider.",t}return s(t,e),t}(v(Error));exports.ConnectionRejectedError=x;var k=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).name="ConnectorConfigError",t}return s(t,e),t}(v(Error));function E(){return C.apply(this,arguments)}function C(){return(C=i(y.mark(function e(){var t,r;return y.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,require("_bundle_loader")(require.resolve("@web3-react/fortmatic-connector"));case 2:return t=e.sent,r=t.FortmaticConnector,e.abrupt("return",{web3ReactConnector:function(e){var t=e.chainId,n=e.apiKey;if(!n)throw new k("The Fortmatic connector requires apiKey to be set.");return new r({apiKey:n,chainId:t})}});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function N(){return I.apply(this,arguments)}function I(){return(I=i(y.mark(function e(){var t,r,n;return y.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,require("_bundle_loader")(require.resolve("@web3-react/frame-connector"));case 2:return t=e.sent,r=t.FrameConnector,n=t.UserRejectedRequestError,e.abrupt("return",{web3ReactConnector:function(e){var t=e.chainId;return new r({supportedChainIds:[t]})},handleActivationError:function(e){return e instanceof n?new x:e.message.startsWith("JSON.parse")?new Error("There seems to be an issue when trying to connect to Frame."):null}});case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function _(){return L.apply(this,arguments)}function L(){return(L=i(y.mark(function e(){var t,r,n;return y.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,require("_bundle_loader")(require.resolve("@web3-react/injected-connector"));case 2:return t=e.sent,r=t.InjectedConnector,n=t.UserRejectedRequestError,e.abrupt("return",{web3ReactConnector:function(e){var t=e.chainId;return new r({supportedChainIds:t})},handleActivationError:function(e){return e instanceof n?new x:null}});case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function j(){return R.apply(this,arguments)}function R(){return(R=i(y.mark(function e(){var t,r;return y.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,require("_bundle_loader")(require.resolve("@web3-react/portis-connector"));case 2:return t=e.sent,r=t.PortisConnector,e.abrupt("return",{web3ReactConnector:function(e){var t=e.chainId,n=e.dAppId;if(!n)throw new k("The Portis connector requires dAppId to be set.");return new r({dAppId:n,networks:t})}});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function U(){return T.apply(this,arguments)}function T(){return(T=i(y.mark(function e(){var t,r,n;return y.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,require("_bundle_loader")(require.resolve("@aragon/provided-connector"));case 2:return t=e.sent,r=t.ProvidedConnector,n=t.UserRejectedRequestError,e.abrupt("return",{web3ReactConnector:function(e){var t=e.chainId,n=e.provider;return new r({provider:n,supportedChainIds:t})},handleActivationError:function(e){return e instanceof n?new x:null}});case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function O(){return q.apply(this,arguments)}function q(){return(q=i(y.mark(function e(){var t,r;return y.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,require("_bundle_loader")(require.resolve("@web3-react/torus-connector"));case 2:return t=e.sent,r=t.TorusConnector,e.abrupt("return",{web3ReactConnector:function(e){var t=e.chainId,n=e.initOptions,o=e.constructorOptions;return new r({chainId:t,constructorOptions:o,initOptions:n})}});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function A(){return P.apply(this,arguments)}function P(){return(P=i(y.mark(function e(){var t,r,n;return y.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,require("_bundle_loader")(require.resolve("@web3-react/walletconnect-connector"));case 2:return t=e.sent,r=t.UserRejectedRequestError,n=t.WalletConnectConnector,e.abrupt("return",{web3ReactConnector:function(e){var t,r=e.chainId,o=e.rpcUrl,a=e.bridge,u=e.pollingInterval;if(!o)throw new k("The WalletConnect connector requires rpcUrl to be set.");if(!/^https?:\/\//.test(o))throw new k("The WalletConnect connector requires rpcUrl to be an HTTP URL.");return new n({bridge:a,pollingInterval:u,qrcode:!0,supportedChainIds:[r],rpc:(t={},t[r]=o,t)})},handleActivationError:function(e){return e instanceof r?new x:null}});case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function B(){return M.apply(this,arguments)}function M(){return(M=i(y.mark(function e(){var t,r;return y.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,require("_bundle_loader")(require.resolve("@web3-react/walletlink-connector"));case 2:return t=e.sent,r=t.WalletLinkConnector,e.abrupt("return",{web3ReactConnector:function(e){var t=e.chainId,n=e.url,o=e.appName,a=e.appLogoUrl;if(1!==t)throw new k("The WalletLink connector requires chainId to be 1.");if(!/^https?:\/\//.test(n))throw new k("The WalletLink connector requires url to be an HTTP URL.");return new r({url:n,appName:o,appLogoUrl:a})}});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var S="m/44'/60'/0'/0",F=12e3;function W(){return G.apply(this,arguments)}function G(){return(G=i(y.mark(function e(){var t,r;return y.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,require("_bundle_loader")(require.resolve("@web3-react/ledger-connector"));case 2:return t=e.sent,r=t.LedgerConnector,e.abrupt("return",{web3ReactConnector:function(e){var t=e.chainId,n=e.url;if(!n)throw new k("The Ledger connector requires url to be set.");return new r({url:n,chainId:t,pollingInterval:F,baseDerivationPath:S})}});case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function D(e){void 0===e&&(e={});for(var t={fortmatic:[E,null],frame:[N,null],injected:[_,null],portis:[j,null],provided:[U,null],torus:[O,null],walletconnect:[A,null],walletlink:[B,null],ledger:[W,null]},r=0,n=Object.entries(e);r<n.length;r++){var o=n[r],a=o[0],u=o[1];"function"!=typeof u?t[a]&&(t[a][1]=u):t[a]=[u,null]}return t}var K={name:"Ether",symbol:"ETH",decimals:18},H={name:"Matic Token",symbol:"MATIC",decimals:18},Y={name:"Avax",symbol:"AVAX",decimals:9},J={name:"ONE Token",symbol:"ONE",decimals:18},V={name:"xDAI",symbol:"xDAI",decimals:18},X={name:"Binance Token",symbol:"BNB",decimals:18},z=new Map([[1,{id:1,nativeCurrency:K,type:"main",fullName:"Ethereum Mainnet",shortName:"Ethereum",explorerUrl:"https://etherscan.io",testnet:!1}],[3,{id:3,nativeCurrency:K,type:"ropsten",fullName:"Ropsten Testnet",shortName:"Ropsten",explorerUrl:"https://ropsten.etherscan.io",testnet:!0}],[4,{id:4,nativeCurrency:K,type:"rinkeby",fullName:"Rinkeby Testnet",shortName:"Rinkeby",explorerUrl:"https://rinkeby.etherscan.io",testnet:!0}],[5,{id:5,nativeCurrency:K,type:"goerli",fullName:"Goerli Testnet",shortName:"Goerli",explorerUrl:"https://goerli.etherscan.io",testnet:!0}],[42,{id:42,nativeCurrency:K,type:"kovan",fullName:"Kovan Testnet",shortName:"Kovan",explorerUrl:"https://kovan.etherscan.io",testnet:!0}],[43112,{id:43112,nativeCurrency:Y,type:"avalocal",shortName:"Avalanche Local",fullName:"Avalanche Local",testnet:!0}],[43113,{id:43113,nativeCurrency:Y,type:"fuji",fullName:"Avalanche Fuji",shortName:"Fuji",explorerUrl:"https://cchain.explorer.avax-test.network/",testnet:!0}],[43114,{id:43114,nativeCurrency:Y,type:"avalanche",fullName:"Avalanche Mainnet",shortName:"Avalanche",explorerUrl:"https://cchain.explorer.avax.network/",testnet:!1}],[100,{id:100,nativeCurrency:V,type:"xdai",fullName:"xDAI",shortName:"xDAI",explorerUrl:"https://blockscout.com/xdai/mainnet/",testnet:!1}],[137,{id:137,nativeCurrency:H,type:"matic",fullName:"Polygon Mainnet",shortName:"Polygon",explorerUrl:"https://polygonscan.com",testnet:!1}],[80001,{id:80001,nativeCurrency:H,type:"mumbai",fullName:"Mumbai Testnet",shortName:"Mumbai",explorerUrl:"https://mumbai.polygonscan.com",testnet:!0}],[16666e5,{id:16666e5,nativeCurrency:J,type:"harmony",fullName:"Harmony ONE",shortName:"Harmony",explorerUrl:"https://explorer.harmony.one/",testnet:!1}],[16667e5,{id:16667e5,nativeCurrency:J,type:"harmonyTest",fullName:"Harmony ONE Testnet",shortName:"Harmony Testnet",explorerUrl:"https://explorer.testnet.harmony.one/",testnet:!0}],[56,{id:56,nativeCurrency:X,type:"bsc",fullName:"Binance Smart Chain",shortName:"BSC",explorerUrl:"https://bscscan.com/",testnet:!1}],[97,{id:97,nativeCurrency:X,type:"bscTest",fullName:"Binance Smart Chain Testnet",shortName:"BSC Testnet",explorerUrl:"https://testnet.bscscan.com/",testnet:!0}],[1337,{id:1337,type:"local",testnet:!0}],[5777,{id:5777,type:"ganache",testnet:!0}]]);function Q(e){return z.has(e)}function Z(e){var t=z.get(e);if(!t)throw new b("Unknown chain id: "+e);return t}function $(){return Array.from(z.keys())}function ee(){return Array.from(z.values())}function te(){return 1}var re={__proto__:null,isKnownChain:Q,getChainInformation:Z,getKnownChainsIds:$,getKnownChainInformation:ee,getDefaultChainId:te};function ne(e){return"object"==typeof e&&null!==e&&"jsonrpc"in e}exports.chains=re;var oe=new Map([["block","block"],["transaction","tx"],["address","address"],["token","token"]]),ae=function(e,t,r){if(!$().includes(r))return"";if(!oe.has(e))throw new Error("type not supported.");return Z(r).explorerUrl+"/"+oe.get(e)+"/"+t};function ue(e){if(ne(e)){if(e.error)throw new Error(e.error);return e.result||null}return e||null}function ie(e,t,r){return ce.apply(this,arguments)}function ce(){return(ce=i(y.mark(function e(t,r,n){return y.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.request){e.next=2;break}return e.abrupt("return",t.request({method:r,params:n}).then(ue));case 2:if(!t.sendAsync||!t.selectedAddress){e.next=4;break}return e.abrupt("return",new Promise(function(e,o){t.sendAsync({method:r,params:n,from:t.selectedAddress,jsonrpc:"2.0",id:0},function(t,r){t?o(t):e(r)})}).then(ue));case 4:if(!t.send){e.next=6;break}return e.abrupt("return",t.send(r,n).then(ue));case 6:throw new Error("The Ethereum provider doesnâ€™t seem to provide a request method.");case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function se(e,t){return le.apply(this,arguments)}function le(){return(le=i(y.mark(function e(t,r){var n;return y.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ie(t,"eth_getCode",[r]);case 3:return n=e.sent,e.abrupt("return","0x"!==n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",!1);case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function pe(e,t){return fe.apply(this,arguments)}function fe(){return(fe=i(y.mark(function e(t,r){return y.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ie(t,"eth_getBalance",[r,"latest"]));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function he(e){return de.apply(this,arguments)}function de(){return(de=i(y.mark(function e(t){return y.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ie(t,"eth_blockNumber",[]));case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ve(e,t){var r,n=!1,o=function(){var e=i(y.mark(function e(a,u){var i;return y.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:i=e.sent,n||(u(i),r=setTimeout(o.bind(null,a,u),t));case 4:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}();return function(){var t=e.apply(void 0,arguments),a=t.request,u=t.onResult;return n=!1,o(a,u),function(){n=!0,clearTimeout(r)}}}function me(){return"object"==typeof navigator&&"string"==typeof navigator.userAgent&&navigator.userAgent.indexOf("Electron")>=0}exports.blockExplorerUrl=ae;var ye="https://storageapi.fleek.co/aragonone-team-bucket/wallet-icons",we=new Map([{id:"frame",name:"Frame",type:"Desktop",image:ye+"/Frame.png",strings:{"your Ethereum wallet":"Frame"}},{id:"metamask",name:"Metamask",type:"Desktop",image:ye+"/Metamask.png",strings:{"your Ethereum wallet":"Metamask"}},{id:"status",name:"Status",type:"Mobile",image:ye+"/Status.png",strings:{"your Ethereum wallet":"Status"}},{id:"cipher",name:"Cipher",type:"Mobile",image:ye+"/Cipher.png",strings:{"your Ethereum wallet":"Cipher"}},{id:"fortmatic",name:"Fortmatic",type:"Any",image:ye+"/Fortmatic.svg",strings:{"your Ethereum wallet":"Fortmatic"}},{id:"portis",name:"Portis",type:"Any",image:ye+"/Portis.svg",strings:{"your Ethereum wallet":"Portis"}},{id:"unknown",name:"Unknown",type:"Desktop",image:ye+"/wallet.svg",strings:{"your Ethereum wallet":"your wallet"}}].map(function(e){return[e.id,e]}));function be(e){return we.get(e)}function ge(e,t){void 0===t&&(t="unknown");var r=be(t);return r&&r.strings[e]||e}function xe(e){return e&&me()?"frame":e&&e.isMetaMask?"metamask":"unknown"}function ke(e){return"injected"===e||"provided"===e?be(xe(window.ethereum))||be("unknown"):be(e)||be("unknown")}var Ee="-1",Ce=(0,r.createContext)(null);function Ne(){var e=(0,r.useContext)(Ce);if(null===e)throw new Error("useWallet() can only be used inside of <UseWalletProvider />, please declare it at a higher level.");var t=Ie(),n=e.wallet;return(0,r.useMemo)(function(){return c({},n,{getBlockNumber:t})},[t,n])}function Ie(){var e=(0,r.useContext)(Ce),t=(0,r.useState)(null),n=t[0],o=t[1],a=(0,r.useRef)(!1),u=(0,r.useCallback)(function(){return null===e?null:(a.current=!0,e.addBlockNumberListener(o),n)},[e,n]);return(0,r.useEffect)(function(){if(a.current&&null!==e)return e.addBlockNumberListener(o),function(){e.removeBlockNumberListener(o)}},[a,e]),u}function _e(e){var t=e.account,n=e.ethereum,a=e.pollBalanceInterval,u=(0,r.useState)(Ee),c=u[0],s=u[1];return(0,r.useEffect)(function(){if(t&&n){var e=!1,r=ve(function(t,r,n){var a=Ee;return{request:function(){return i(y.mark(function e(){return y.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",pe(r,t).then(function(e){return e?o.default.BigInt(e).toString():Ee}).catch(function(){return Ee}));case 1:case"end":return e.stop()}},e)}))()},onResult:function(t){e||t===a||(a=t,n(t))}}},a)(t,n,s);return function(){e=!0,r(),s(Ee)}}},[t,n,a]),c}function Le(e){var t=e.ethereum,n=e.pollBlockNumberInterval,a=(0,r.useRef)(null),u=(0,r.useRef)(new Set),i=(0,r.useCallback)(function(e){u.current.has(e)||(e(a.current),u.current.add(e))},[]),c=(0,r.useCallback)(function(e){u.current.delete(e)},[]),s=(0,r.useCallback)(function(e){a.current!==e&&(a.current=e,u.current.forEach(function(t){return t(e)}))},[]);return(0,r.useEffect)(function(){if(t){var e=!1,r=ve(function(){return{request:function(){return he(t)},onResult:function(t){e||s(null===t?null:o.default.BigInt(t).toString())}}},n)();return function(){e=!0,r()}}s(null)},[t,n,s]),{addBlockNumberListener:i,removeBlockNumberListener:c}}function je(e){var t=e.children,o=e.connectors,a=e.pollBalanceInterval,u=e.pollBlockNumberInterval;if(null!==(0,r.useContext)(Ce))throw new Error("<UseWalletProvider /> has already been declared.");var s=(0,r.useState)(null),l=s[0],p=s[1],f=(0,r.useState)(null),h=f[0],d=f[1],v=(0,r.useState)(null),m=v[0],b=v[1],x=(0,r.useState)("disconnected"),k=x[0],E=x[1],C=(0,n.useWeb3React)(),N=(0,r.useRef)(0),I=C.account,_=C.chainId,L=C.library,j=C.error,R=_e({account:I,ethereum:L,pollBalanceInterval:a}),U=Le({ethereum:L,pollBlockNumberInterval:u}),T=U.addBlockNumberListener,O=U.removeBlockNumberListener,q=(0,r.useMemo)(function(){return D(o)},[o]),A=(0,r.useMemo)(function(){return _||te()},[_]),P=(0,r.useCallback)(function(){C.active&&C.deactivate(),p(null),d(null),E("disconnected")},[C]);(0,r.useMemo)(function(){j instanceof n.UnsupportedChainIdError&&(E("error"),d(new w(j.message)))},[j]);var B=(0,r.useCallback)(function(){var e=i(y.mark(function e(t){var r,o,a,u,i,s,l;return y.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===t&&(t="injected"),r=++N.current,P(),r===N.current){e.next=5;break}return e.abrupt("return");case 5:if(q[t]){e.next=9;break}return E("error"),d(new g(t)),e.abrupt("return");case 9:return E("connecting"),o=q[t]||[],a=o[0],u=o[1],e.next=13,null==a?void 0:a();case 13:if(i=e.sent,s=null==i?void 0:null==i.web3ReactConnector?void 0:i.web3ReactConnector(c({},u||{}))){e.next=19;break}return E("error"),d(new g(t)),e.abrupt("return");case 19:return e.prev=19,p(t),e.next=23,C.activate(s,void 0,!0);case 23:E("connected"),e.next=41;break;case 26:if(e.prev=26,e.t0=e.catch(19),r===N.current){e.next=30;break}return e.abrupt("return");case 30:if(p(null),E("error"),!(e.t0 instanceof n.UnsupportedChainIdError)){e.next=35;break}return d(new w(e.t0.message)),e.abrupt("return");case 35:if(!i.handleActivationError){e.next=40;break}if(!(l=i.handleActivationError(e.t0))){e.next=40;break}return d(l),e.abrupt("return");case 40:d(e.t0);case 41:case"end":return e.stop()}},e,null,[[19,26]])}));return function(t){return e.apply(this,arguments)}}(),[q,P,C]);(0,r.useEffect)(function(){if(I&&L){var e=!1;return b(null),se(L,I).then(function(t){e||(E("connected"),b(t?"contract":"normal"))}),function(){e=!0,E("disconnected"),b(null)}}},[I,L]);var M=(0,r.useMemo)(function(){return{_web3ReactContext:C,account:I||null,balance:R,chainId:A,connect:B,connector:l,connectors:q,error:h,ethereum:L,isConnected:function(){return"connected"===k},networkName:Z(A).type,providerInfo:ke(l||"unknown"),reset:P,status:k,type:m}},[I,R,A,B,l,q,h,L,m,P,k,C]);return(0,r.createElement)(Ce.Provider,{value:{addBlockNumberListener:T,pollBalanceInterval:a,pollBlockNumberInterval:u,removeBlockNumberListener:O,wallet:M}},t)}function Re(e){return(0,r.createElement)(n.Web3ReactProvider,{getLibrary:function(e){return e}},(0,r.createElement)(je,Object.assign({},e)))}je.propTypes={children:t.node,connectors:(0,t.objectOf)(t.object),pollBalanceInterval:t.number,pollBlockNumberInterval:t.number},je.defaultProps={connectors:{},pollBalanceInterval:2e3,pollBlockNumberInterval:5e3},Re.propTypes=je.propTypes,Re.defaultProps=je.defaultProps;
},{"prop-types":"D9Od","react":"n8MK","@web3-react/core":"OyLl","jsbi":"sKa6","_bundle_loader":"TUK3","@web3-react/fortmatic-connector":[["fortmatic-connector.esm.4b76b1c5.js","TGJA"],"fortmatic-connector.esm.4b76b1c5.js.map","TGJA"],"@web3-react/frame-connector":[["frame-connector.esm.d09c62a0.js","yMR1"],"frame-connector.esm.d09c62a0.js.map","yMR1"],"@web3-react/injected-connector":[["injected-connector.esm.7f11ac2c.js","Ip13"],"injected-connector.esm.7f11ac2c.js.map","Ip13"],"@web3-react/portis-connector":[["portis-connector.esm.02c6b0a6.js","bxBL"],"portis-connector.esm.02c6b0a6.js.map","bxBL"],"@aragon/provided-connector":[["provided-connector.esm.958044da.js","y4pS"],"provided-connector.esm.958044da.js.map","y4pS"],"@web3-react/torus-connector":[["torus-connector.esm.60d7b259.js","gNnK"],"torus-connector.esm.60d7b259.js.map","gNnK"],"@web3-react/walletconnect-connector":[["walletconnect-connector.esm.7b769b52.js","rh5a"],"walletconnect-connector.esm.7b769b52.js.map","rh5a"],"@web3-react/walletlink-connector":[["walletlink-connector.esm.4be42adc.js","gSIY"],"walletlink-connector.esm.4be42adc.js.map","gSIY"],"@web3-react/ledger-connector":[["ledger-connector.esm.f158542b.js","DDFV"],"ledger-connector.esm.f158542b.js.map","DDFV"]}],"BjPq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.useWalletConnectors=exports.connectors=void 0;var e=require("../local-settings");const t=(0,e.getFortmaticApiKey)(),r=(0,e.getPortisDappId)(),o=[{id:"injected",properties:{chainId:[1,4,137,80001,16666e5,16667e5,97,56]}},{id:"frame",properties:{chainId:1}},t?{id:"fortmatic",properties:{chainId:1,apiKey:t}}:null,r?{id:"portis",properties:{dAppId:r,chainId:[1]}}:null].filter(e=>e);exports.connectors=o;const i=o.reduce((e,t)=>(e[t.id]=t.properties||{},e),{});exports.useWalletConnectors=i;
},{"../local-settings":"W1GQ"}],"j3aq":[function(require,module,exports) {
var define;
var t;!function(e,i){"use strict";"function"==typeof t&&t.amd?t("stackframe",[],i):"object"==typeof exports?module.exports=i():e.StackFrame=i()}(this,function(){"use strict";function t(t){return!isNaN(parseFloat(t))&&isFinite(t)}function e(t,e,i,n,r,u){void 0!==t&&this.setFunctionName(t),void 0!==e&&this.setArgs(e),void 0!==i&&this.setFileName(i),void 0!==n&&this.setLineNumber(n),void 0!==r&&this.setColumnNumber(r),void 0!==u&&this.setSource(u)}return e.prototype={getFunctionName:function(){return this.functionName},setFunctionName:function(t){this.functionName=String(t)},getArgs:function(){return this.args},setArgs:function(t){if("[object Array]"!==Object.prototype.toString.call(t))throw new TypeError("Args must be an Array");this.args=t},getFileName:function(){return this.fileName},setFileName:function(t){this.fileName=String(t)},getLineNumber:function(){return this.lineNumber},setLineNumber:function(e){if(!t(e))throw new TypeError("Line Number must be a Number");this.lineNumber=Number(e)},getColumnNumber:function(){return this.columnNumber},setColumnNumber:function(e){if(!t(e))throw new TypeError("Column Number must be a Number");this.columnNumber=Number(e)},getSource:function(){return this.source},setSource:function(t){this.source=String(t)},toString:function(){return(this.getFunctionName()||"{anonymous}")+("("+(this.getArgs()||[]).join(",")+")")+(this.getFileName()?"@"+this.getFileName():"")+(t(this.getLineNumber())?":"+this.getLineNumber():"")+(t(this.getColumnNumber())?":"+this.getColumnNumber():"")}},e});
},{}],"NMjo":[function(require,module,exports) {
var define;
var r;!function(e,t){"use strict";"function"==typeof r&&r.amd?r("error-stack-parser",["stackframe"],t):"object"==typeof exports?module.exports=t(require("stackframe")):e.ErrorStackParser=t(e.StackFrame)}(this,function(r){"use strict";var e=/(^|@)\S+\:\d+/,t=/^\s*at .*(\S+\:\d+|\(native\))/m,n=/^(eval@)?(\[native code\])?$/;function a(r,e,t){if("function"==typeof Array.prototype.map)return r.map(e,t);for(var n=new Array(r.length),a=0;a<r.length;a++)n[a]=e.call(t,r[a]);return n}function i(r,e,t){if("function"==typeof Array.prototype.filter)return r.filter(e,t);for(var n=[],a=0;a<r.length;a++)e.call(t,r[a])&&n.push(r[a]);return n}return{parse:function(r){if(void 0!==r.stacktrace||void 0!==r["opera#sourceloc"])return this.parseOpera(r);if(r.stack&&r.stack.match(t))return this.parseV8OrIE(r);if(r.stack)return this.parseFFOrSafari(r);throw new Error("Cannot parse given Error object")},extractLocation:function(r){if(-1===r.indexOf(":"))return[r];var e=/(.+?)(?:\:(\d+))?(?:\:(\d+))?$/.exec(r.replace(/[\(\)]/g,""));return[e[1],e[2]||void 0,e[3]||void 0]},parseV8OrIE:function(e){return a(i(e.stack.split("\n"),function(r){return!!r.match(t)},this),function(e){e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var t=e.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),n=this.extractLocation(t.pop()),a=t.join(" ")||void 0,i=function(r,e){if("function"==typeof Array.prototype.indexOf)return r.indexOf(e);for(var t=0;t<r.length;t++)if(r[t]===e)return t;return-1}(["eval","<anonymous>"],n[0])>-1?void 0:n[0];return new r(a,void 0,i,n[1],n[2],e)},this)},parseFFOrSafari:function(e){return a(i(e.stack.split("\n"),function(r){return!r.match(n)},this),function(e){if(e.indexOf(" > eval")>-1&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),-1===e.indexOf("@")&&-1===e.indexOf(":"))return new r(e);var t=e.split("@"),n=this.extractLocation(t.pop()),a=t.join("@")||void 0;return new r(a,void 0,n[0],n[1],n[2],e)},this)},parseOpera:function(r){return!r.stacktrace||r.message.indexOf("\n")>-1&&r.message.split("\n").length>r.stacktrace.split("\n").length?this.parseOpera9(r):r.stack?this.parseOpera11(r):this.parseOpera10(r)},parseOpera9:function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)/i,n=e.message.split("\n"),a=[],i=2,o=n.length;i<o;i+=2){var c=t.exec(n[i]);c&&a.push(new r(void 0,void 0,c[2],c[1],void 0,n[i]))}return a},parseOpera10:function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=e.stacktrace.split("\n"),a=[],i=0,o=n.length;i<o;i+=2){var c=t.exec(n[i]);c&&a.push(new r(c[3]||void 0,void 0,c[2],c[1],void 0,n[i]))}return a},parseOpera11:function(t){return a(i(t.stack.split("\n"),function(r){return!!r.match(e)&&!r.match(/^Error created at/)},this),function(e){var t,n=e.split("@"),a=this.extractLocation(n.pop()),i=n.shift()||"",o=i.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;i.match(/\(([^\)]*)\)/)&&(t=i.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var c=void 0===t||"[arguments not available]"===t?void 0:t.split(",");return new r(o,c,a[0],a[1],a[2],e)},this)}}});
},{"stackframe":"j3aq"}],"wutI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createStackTraces=a,exports.filterInvalidFrames=c;var n=e(require("error-stack-parser"));function e(n){return n&&n.__esModule?n:{default:n}}function o(n){var e=window.location.origin||window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");return n.indexOf(e)>-1&&(n=n.replace(e+"/","")),n}function r(n){return void 0===n&&(n=""),"<anonymous>"===n&&(n=""),n}function t(n){return!!n&&0===window.location.href.indexOf(n)}function i(n){return n.map(function(n){return n.functionName&&(n.functionName=u(n.functionName)),n})}function u(n){var e=n.split("/");return n=e.length>1?["Object",e[e.length-1]].join("."):e[0],e=(n=(n=n.replace(/.<$/gi,".<anonymous>")).replace(/^Anonymous function$/,"<anonymous>")).split("."),n=e.length>1?e[e.length-1]:e[0]}function a(e){var u=e.error,a=e.filename,c=e.lineno,l=e.colno,f=[];if(u)try{f=n.default.parse(u)}catch(m){}return 0===f.length&&(f=[{fileName:a,lineNumber:c,columnNumber:l}]),i(f).map(function(n){var e=n.fileName,i=n.lineNumber,u=n.columnNumber,a=n.functionName,c=void 0===a?"<anonymous>":a;if(!e&&!i)return{};if(!u&&!i)return{};var l=r(e),f=o(l);return t(l)&&(f="(inline script)"),{abs_path:e,filename:f,function:c,lineno:i,colno:u}})}function c(n){return n.filter(function(n){var e=n.filename,o=n.lineno;return void 0!==e&&void 0!==o})}
},{"error-stack-parser":"NMjo"}],"K3Mt":[function(require,module,exports) {
"use strict";function e(e){var t=this.constructor;return this.then(function(r){return t.resolve(e()).then(function(){return r})},function(r){return t.resolve(e()).then(function(){return t.reject(r)})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e;exports.default=t;
},{}],"q3ko":[function(require,module,exports) {
"use strict";function t(t){return new this(function(e,r){if(!t||void 0===t.length)return r(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var o=Array.prototype.slice.call(t);if(0===o.length)return e([]);var n=o.length;function i(t,r){if(r&&("object"==typeof r||"function"==typeof r)){var f=r.then;if("function"==typeof f)return void f.call(r,function(e){i(t,e)},function(r){o[t]={status:"rejected",reason:r},0==--n&&e(o)})}o[t]={status:"fulfilled",value:r},0==--n&&e(o)}for(var f=0;f<o.length;f++)i(f,o[f])})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t;exports.default=e;
},{}],"Lmnd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("./finally")),t=n(require("./allSettled"));function n(e){return e&&e.__esModule?e:{default:e}}var o=setTimeout,r="undefined"!=typeof setImmediate?setImmediate:null;function i(e){return Boolean(e&&void 0!==e.length)}function u(){}function f(e,t){return function(){e.apply(t,arguments)}}function c(e){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(e,this)}function a(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,c._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var o;try{o=n(e._value)}catch(r){return void s(t.promise,r)}l(t.promise,o)}else(1===e._state?l:s)(t.promise,e._value)})):e._deferreds.push(t)}function l(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof c)return e._state=3,e._value=t,void d(e);if("function"==typeof n)return void p(f(n,t),e)}e._state=1,e._value=t,d(e)}catch(o){s(e,o)}}function s(e,t){e._state=2,e._value=t,d(e)}function d(e){2===e._state&&0===e._deferreds.length&&c._immediateFn(function(){e._handled||c._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function h(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function p(e,t){var n=!1;try{e(function(e){n||(n=!0,l(t,e))},function(e){n||(n=!0,s(t,e))})}catch(o){if(n)return;n=!0,s(t,o)}}c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){var n=new this.constructor(u);return a(this,new h(e,t,n)),n},c.prototype.finally=e.default,c.all=function(e){return new c(function(t,n){if(!i(e))return n(new TypeError("Promise.all accepts an array"));var o=Array.prototype.slice.call(e);if(0===o.length)return t([]);var r=o.length;function u(e,i){try{if(i&&("object"==typeof i||"function"==typeof i)){var f=i.then;if("function"==typeof f)return void f.call(i,function(t){u(e,t)},n)}o[e]=i,0==--r&&t(o)}catch(c){n(c)}}for(var f=0;f<o.length;f++)u(f,o[f])})},c.allSettled=t.default,c.resolve=function(e){return e&&"object"==typeof e&&e.constructor===c?e:new c(function(t){t(e)})},c.reject=function(e){return new c(function(t,n){n(e)})},c.race=function(e){return new c(function(t,n){if(!i(e))return n(new TypeError("Promise.race accepts an array"));for(var o=0,r=e.length;o<r;o++)c.resolve(e[o]).then(t,n)})},c._immediateFn="function"==typeof r&&function(e){r(e)}||function(e){o(e,0)},c._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var _=c;exports.default=_;
},{"./finally":"K3Mt","./allSettled":"q3ko"}],"wFdY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Promise=void 0;var e=i(require("promise-polyfill")),r=require("./utils");function i(e){return e&&e.__esModule?e:{default:e}}var o={};r.isBrowser?o=window:"undefined"!=typeof self&&(o=self);var s="Promise"in o?o.Promise:e.default;exports.Promise=s;
},{"promise-polyfill":"Lmnd","./utils":"tu6g"}],"tu6g":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PERF=void 0,exports.baseExtend=O,exports.bytesToHex=s,exports.checkSameOrigin=g,exports.extend=H,exports.find=j,exports.generateRandomId=p,exports.getCurrentScript=E,exports.getDtHeaderValue=c,exports.getDuration=B,exports.getEarliestSpan=q,exports.getElasticScript=R,exports.getLatestNonXHRSpan=_,exports.getServerTimingInfo=h,exports.getTSHeaderValue=y,exports.getTime=k,exports.getTimeOrigin=S,exports.isBrowser=void 0,exports.isCORSSupported=o,exports.isDtHeaderValid=l,exports.isFunction=T,exports.isObject=w,exports.isPerfTimelineSupported=M,exports.isPerfTypeSupported=L,exports.isPlatformSupported=m,exports.isUndefined=I,exports.merge=P,exports.noop=V,exports.now=A,exports.parseDtHeaderValue=d,exports.removeInvalidChars=C,exports.rng=a,exports.scheduleMacroTask=D,exports.scheduleMicroTask=F,exports.setLabel=v,exports.setRequestHeader=x,exports.stripQueryStringFromUrl=b;var e=require("./polyfills"),t=[].slice,r="undefined"!=typeof window;exports.isBrowser=r;var n=r&&"undefined"!=typeof performance?performance:{};function o(){return"withCredentials"in new window.XMLHttpRequest}exports.PERF=n;for(var i=[],u=0;u<256;++u)i[u]=(u+256).toString(16).substr(1);function s(e){for(var t=[],r=0;r<e.length;r++)t.push(i[e[r]]);return t.join("")}var f=new Uint8Array(16);function a(){return"undefined"!=typeof crypto&&"function"==typeof crypto.getRandomValues?crypto.getRandomValues(f):"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues?msCrypto.getRandomValues(f):f}function p(e){return s(a()).substr(0,e)}function c(e){if(e&&e.traceId&&e.id&&e.parentId){var t=e.sampled?"01":"00",r=e.sampled?e.id:e.parentId;return"00-"+e.traceId+"-"+r+"-"+t}}function d(e){var t=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})$/.exec(e);if(t){var r="00"!==t[4];return{traceId:t[2],id:t[3],sampled:r}}}function l(e){return/^[\da-f]{2}-[\da-f]{32}-[\da-f]{16}-[\da-f]{2}$/.test(e)&&"00000000000000000000000000000000"!==e.slice(3,35)&&"0000000000000000"!==e.slice(36,52)}function y(e){var t=e.sampleRate;if(!("number"!=typeof t||String(t).length>256)){return"es=s:"+t}}function x(e,t,r){"function"==typeof e.setRequestHeader?e.setRequestHeader(t,r):e.headers&&"function"==typeof e.headers.append?e.headers.append(t,r):e[t]=r}function g(e,t){var r=!1;return"string"==typeof t?r=e===t:t&&"function"==typeof t.test?r=t.test(e):Array.isArray(t)&&t.forEach(function(t){r||(r=g(e,t))}),r}function m(){return r&&"function"==typeof Set&&"function"==typeof JSON.stringify&&n&&"function"==typeof n.now&&o()}function v(e,t,r){if(r&&e){var n=C(e),o=typeof t;return null!=t&&"boolean"!==o&&"number"!==o&&(t=String(t)),r[n]=t,r}}function h(e){void 0===e&&(e=[]);for(var t=[],r=0;r<e.length;r++){var n=e[r],o=n.name,i=n.duration,u=n.description,s=o;u&&(s+=";desc="+u),i&&(s+=";dur="+i),t.push(s)}return t.join(", ")}function S(){return n.timing.fetchStart}function b(e){return e&&e.split("?")[0]}function w(e){return null!==e&&"object"==typeof e}function T(e){return"function"==typeof e}function O(e,t,r){for(var n=0,o=t.length;n<o;++n){var i=t[n];if(w(i)||T(i))for(var u=Object.keys(i),s=0,f=u.length;s<f;s++){var a=u[s],p=i[a];r&&w(p)?(w(e[a])||(e[a]=Array.isArray(p)?[]:{}),O(e[a],[p],!1)):e[a]=p}}return e}function R(){if("undefined"!=typeof document)for(var e=document.getElementsByTagName("script"),t=0,r=e.length;t<r;t++){var n=e[t];if(n.src.indexOf("elastic")>0)return n}}function E(){if("undefined"!=typeof document){var e=document.currentScript;return e||R()}}function H(e){return O(e,t.call(arguments,1),!1)}function P(e){return O(e,t.call(arguments,1),!0)}function I(e){return void 0===e}function V(){}function j(e,t,r){if(null==e)throw new TypeError("array is null or not defined");var n=Object(e),o=n.length>>>0;if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var i=0;i<o;){var u=n[i];if(t.call(r,u,i,n))return u;i++}}function C(e){return e.replace(/[.*"]/g,"_")}function _(e){for(var t=null,r=0;r<e.length;r++){var n=e[r];-1===String(n.type).indexOf("external")&&(!t||t._end<n._end)&&(t=n)}return t}function q(e){for(var t=e[0],r=1;r<e.length;r++){var n=e[r];t._start>n._start&&(t=n)}return t}function A(){return n.now()}function k(e){return"number"==typeof e&&e>=0?e:A()}function B(e,t){return I(t)||I(e)?null:parseInt(t-e)}function D(e){setTimeout(e,0)}function F(t){e.Promise.resolve().then(t)}function M(){return"function"==typeof n.getEntriesByType}function L(e){return"undefined"!=typeof PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.indexOf(e)>=0}
},{"./polyfills":"wFdY"}],"kggv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Url=void 0,exports.slugifyUrl=e;var t=require("./utils");function s(t,s){switch(s){case"http:":return"80"===t;case"https:":return"443"===t}return!0}var h=[["#","hash"],["?","query"],["/","path"],["@","auth",1],[NaN,"host",void 0,1]],i=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,o=function(){function o(t){var i,o=this.extractProtocol(t||""),e=o.protocol,r=o.address,a=o.slashes,n=!e&&!a,l=this.getLocation(),c=h.slice();r=r.replace("\\","/"),a||(c[2]=[NaN,"path"]);for(var p=0;p<c.length;p++){var u=c[p],f=u[0],g=u[1];if("string"==typeof f){if(~(i=r.indexOf(f))){var v=u[2];if(v){var d=r.lastIndexOf(f);i=Math.max(i,d),this[g]=r.slice(0,i),r=r.slice(i+v)}else this[g]=r.slice(i),r=r.slice(0,i)}}else this[g]=r,r="";this[g]=this[g]||n&&u[3]&&l[g]||"",u[3]&&(this[g]=this[g].toLowerCase())}if(n&&"/"!==this.path.charAt(0)&&(this.path="/"+this.path),this.relative=n,this.protocol=e||l.protocol,this.hostname=this.host,this.port="",/:\d+$/.test(this.host)){var x=this.host.split(":"),y=x.pop(),m=x.join(":");s(y,this.protocol)?this.host=m:this.port=y,this.hostname=m}this.origin=this.protocol&&this.host&&"file:"!==this.protocol?this.protocol+"//"+this.host:"null",this.href=this.toString()}var e=o.prototype;return e.toString=function(){var t=this.protocol;if(t+="//",this.auth){var s=this.auth.split(":");t+=(s[0]?"[REDACTED]":"")+(s[1]?":[REDACTED]":"")+"@"}return t+=this.host,t+=this.path,t+=this.query,t+=this.hash},e.getLocation=function(){var s={};return t.isBrowser&&(s=window),s.location},e.extractProtocol=function(t){var s=i.exec(t);return{protocol:s[1]?s[1].toLowerCase():"",slashes:!!s[2],address:s[3]}},o}();function e(t,s){void 0===s&&(s=2);for(var h=new o(t),i=h.query,e=h.path.substring(1).split("/"),r=/\W|_/g,a=/[0-9]/g,n=/[a-z]/g,l=/[A-Z]/g,c=[],p=!1,u=0;u<e.length;u++){var f=e[u];if(p||u>s-1){f&&c.push("*");break}if((f.match(r)||[]).length>=2)c.push(":id"),p=!0;else{var g=(f.match(a)||[]).length;if(g>3||f.length>3&&g/f.length>=.3)c.push(":id"),p=!0;else{var v=(f.match(l)||[]).length,d=(f.match(n)||[]).length/f.length,x=v/f.length;f.length>5&&(x>.3&&x<.6||d>.3&&d<.6)?(c.push(":id"),p=!0):f&&c.push(f)}}}return"/"+(c.length>=2?c.join("/"):c.join(""))+(i?"?{query}":"")}exports.Url=o;
},{"./utils":"tu6g"}],"bqvR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.XMLHTTPREQUEST=exports.USER_TIMING_THRESHOLD=exports.USER_INTERACTION=exports.TYPE_CUSTOM=exports.TRUNCATED_TYPE=exports.TRANSACTION_TYPE_ORDER=exports.TRANSACTION_START=exports.TRANSACTION_END=exports.TRANSACTIONS=exports.TEMPORARY_TYPE=exports.SESSION_TIMEOUT=exports.SCHEDULE=exports.ROUTE_CHANGE=exports.REUSABILITY_THRESHOLD=exports.RESOURCE_INITIATOR_TYPES=exports.RESOURCE=exports.REMOVE_EVENT_LISTENER_STR=exports.PAINT=exports.PAGE_LOAD=exports.OUTCOME_SUCCESS=exports.OUTCOME_FAILURE=exports.NAVIGATION=exports.NAME_UNKNOWN=exports.MEASURE=exports.MAX_SPAN_DURATION=exports.LONG_TASK=exports.LOGGING_SERVICE=exports.LOCAL_CONFIG_KEY=exports.LAYOUT_SHIFT=exports.LARGEST_CONTENTFUL_PAINT=exports.KEYWORD_LIMIT=exports.INVOKE=exports.HTTP_REQUEST_TYPE=exports.HISTORY=exports.FIRST_INPUT=exports.FIRST_CONTENTFUL_PAINT=exports.FETCH=exports.EVENT_TARGET=exports.ERRORS=exports.ERROR=exports.CONFIG_SERVICE=exports.CONFIG_CHANGE=exports.BEFORE_EVENT=exports.APM_SERVER=exports.AFTER_EVENT=exports.ADD_EVENT_LISTENER_STR=void 0;var r="schedule";exports.SCHEDULE=r;var e="invoke";exports.INVOKE=e;var E="addEventListener";exports.ADD_EVENT_LISTENER_STR=E;var t="removeEventListener";exports.REMOVE_EVENT_LISTENER_STR=t;var T=["link","css","script","img","xmlhttprequest","fetch","beacon","iframe"];exports.RESOURCE_INITIATOR_TYPES=T;var s=5e3;exports.REUSABILITY_THRESHOLD=s;var o=3e5;exports.MAX_SPAN_DURATION=o;var p="page-load";exports.PAGE_LOAD=p;var R="route-change";exports.ROUTE_CHANGE=R;var _="custom";exports.TYPE_CUSTOM=_;var x="user-interaction";exports.USER_INTERACTION=x;var N="http-request";exports.HTTP_REQUEST_TYPE=N;var S="temporary";exports.TEMPORARY_TYPE=S;var O="Unknown";exports.NAME_UNKNOWN=O;var a=[p,R,x,N,_,S];exports.TRANSACTION_TYPE_ORDER=a;var I="success";exports.OUTCOME_SUCCESS=I;var A="failure";exports.OUTCOME_FAILURE=A;var v=60;exports.USER_TIMING_THRESHOLD=v;var C="transaction:start";exports.TRANSACTION_START=C;var U="transaction:end";exports.TRANSACTION_END=U;var n="config:change";exports.CONFIG_CHANGE=n;var L="xmlhttprequest";exports.XMLHTTPREQUEST=L;var i="fetch";exports.FETCH=i;var P="history";exports.HISTORY=P;var G="eventtarget";exports.EVENT_TARGET=G;var M="error";exports.ERROR=M;var c=":before";exports.BEFORE_EVENT=c;var F=":after";exports.AFTER_EVENT=F;var H="elastic_apm_config";exports.LOCAL_CONFIG_KEY=H;var Y="longtask";exports.LONG_TASK=Y;var D="paint";exports.PAINT=D;var V="measure";exports.MEASURE=V;var u="navigation";exports.NAVIGATION=u;var f="resource";exports.RESOURCE=f;var g="first-contentful-paint";exports.FIRST_CONTENTFUL_PAINT=g;var l="largest-contentful-paint";exports.LARGEST_CONTENTFUL_PAINT=l;var h="first-input";exports.FIRST_INPUT=h;var m="layout-shift";exports.LAYOUT_SHIFT=m;var K="errors";exports.ERRORS=K;var d="transactions";exports.TRANSACTIONS=d;var k="ConfigService";exports.CONFIG_SERVICE=k;var y="LoggingService";exports.LOGGING_SERVICE=y;var B="ApmServer";exports.APM_SERVER=B;var Q=".truncated";exports.TRUNCATED_TYPE=Q;var W=1024;exports.KEYWORD_LIMIT=W;var X=18e5;exports.SESSION_TIMEOUT=X;
},{}],"JDEO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addSpanContext=y,exports.addTransactionContext=x,exports.getPageContext=g;var e=require("./url"),t=require("./constants"),r=require("./utils"),n=["tags"];function o(e,t){if(null==e)return{};var r,n,o={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}var s=91,i=93,a="external",u="resource",d="hard-navigation";function c(e,t){return""===e&&(e="http:"===t?"80":"https:"===t?"443":""),e}function f(e){var t=e.transferSize,n=e.encodedBodySize,o=e.decodedBodySize,s=e.serverTiming,i={transfer_size:t,encoded_body_size:n,decoded_body_size:o},a=(0,r.getServerTimingInfo)(s);return a&&(i.headers={"server-timing":a}),i}function p(e,t){var r=e.port,n=e.protocol,o=e.hostname,a=e.host,u=c(r,n),d=o.charCodeAt(0)===s&&o.charCodeAt(o.length-1)===i,f=o;return d&&(f=o.slice(1,-1)),{service:{name:n+"//"+a,resource:o+":"+u,type:t},address:f,port:Number(u)}}function l(t){var r=t.entry,n=t.url,o=p(new e.Url(n),u);return{http:{url:n,response:f(r)},destination:o}}function h(t){var r,n=t.url,o=t.method,s=t.target,i=t.response,u=new e.Url(n),d=p(u,a),c={http:{method:o,url:u.href},destination:d};return s&&void 0!==s.status?r=s.status:i&&(r=i.status),c.http.status_code=r,c}function v(t){var r=t.url;return{destination:p(new e.Url(r),d)}}function g(){return{page:{referer:document.referrer,url:location.href}}}function y(e,t){if(t){var r;switch(e.type){case a:r=h(t);break;case u:r=l(t);break;case d:r=v(t)}e.addContext(r)}}function x(e,s){var i=void 0===s?{}:s,a=(i.tags,o(i,n)),u=g(),d={};if(e.type===t.PAGE_LOAD&&(0,r.isPerfTimelineSupported)()){var c=r.PERF.getEntriesByType(t.NAVIGATION);c&&c.length>0&&(d={response:f(c[0])})}e.addContext(u,d,a)}
},{"./url":"kggv","./constants":"bqvR","./utils":"tu6g"}],"mplm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TRANSACTION_MODEL=exports.SPAN_MODEL=exports.RESPONSE_MODEL=exports.METADATA_MODEL=exports.ERROR_MODEL=void 0,exports.truncate=_,exports.truncateModel=I;var e=require("./constants"),t={service:{name:[e.KEYWORD_LIMIT,!0],version:!0,agent:{version:[e.KEYWORD_LIMIT,!0]},environment:!0},labels:{"*":!0}};exports.METADATA_MODEL=t;var r={"*":!0,headers:{"*":!0}};exports.RESPONSE_MODEL=r;var n={address:[e.KEYWORD_LIMIT],service:{"*":[e.KEYWORD_LIMIT,!0]}},o={user:{id:!0,email:!0,username:!0},tags:{"*":!0},http:{response:r},destination:n,response:r},s={name:[e.KEYWORD_LIMIT,!0],type:[e.KEYWORD_LIMIT,!0],id:[e.KEYWORD_LIMIT,!0],trace_id:[e.KEYWORD_LIMIT,!0],parent_id:[e.KEYWORD_LIMIT,!0],transaction_id:[e.KEYWORD_LIMIT,!0],subtype:!0,action:!0,context:o};exports.SPAN_MODEL=s;var i={name:!0,parent_id:!0,type:[e.KEYWORD_LIMIT,!0],id:[e.KEYWORD_LIMIT,!0],trace_id:[e.KEYWORD_LIMIT,!0],span_count:{started:[e.KEYWORD_LIMIT,!0]},context:o};exports.TRANSACTION_MODEL=i;var a={id:[e.KEYWORD_LIMIT,!0],trace_id:!0,transaction_id:!0,parent_id:!0,culprit:!0,exception:{type:!0},transaction:{type:!0},context:o};function _(t,r,n,o){return void 0===r&&(r=e.KEYWORD_LIMIT),void 0===n&&(n=!1),void 0===o&&(o="N/A"),n&&E(t)&&(t=o),"string"==typeof t?t.substring(0,r):t}function E(e){return null==e||""===e||void 0===e}function O(e,t,r){var n=_(e[t],r[0],r[1]);E(n)?delete e[t]:e[t]=n}function I(e,t,r){void 0===e&&(e={}),void 0===r&&(r=t);for(var n=Object.keys(e),o=[],s=function(s){var i=n[s],a=!0===e[i]?o:e[i];Array.isArray(a)?"*"===i?Object.keys(r).forEach(function(e){return O(r,e,a)}):O(r,i,a):I(a,t,r[i])},i=0;i<n.length;i++)s(i);return t}exports.ERROR_MODEL=a;
},{"./constants":"bqvR"}],"WTOY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./stack-trace"),t=require("../common/utils"),r=require("../common/context"),n=require("../common/truncate"),o=["tags"];function i(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}var a=["stack","message"];function s(e){var t=!1,r={};if(Object.keys(e).forEach(function(n){if(!(a.indexOf(n)>=0)){var o=e[n];if(null!=o&&"function"!=typeof o){if("object"==typeof o){if("function"!=typeof o.toISOString)return;o=o.toISOString()}r[n]=o,t=!0}}}),t)return r}var c=function(){function a(e,t,r){this._apmServer=e,this._configService=t,this._transactionService=r}var c=a.prototype;return c.createErrorDataModel=function(a){var c=(0,e.createStackTraces)(a),f=(0,e.filterInvalidFrames)(c),u="(inline script)",d=f[f.length-1];d&&d.filename&&(u=d.filename);var g=a.message,l=a.error,v=g,m="",p={};if(l&&"object"==typeof l){v=v||l.message,m=l.name;var E=s(l);E&&(p.custom=E)}m||v&&v.indexOf(":")>-1&&(m=v.split(":")[0]);var h=this._transactionService.getCurrentTransaction(),y=h?h.context:{},x=this._configService.get("context"),_=(x.tags,i(x,o)),S=(0,r.getPageContext)(),O=(0,t.merge)({},S,y,_,p),j={id:(0,t.generateRandomId)(),culprit:u,exception:{message:v,stacktrace:f,type:m},context:O};return h&&(j=(0,t.extend)(j,{trace_id:h.traceId,parent_id:h.id,transaction_id:h.id,transaction:{type:h.type,sampled:h.sampled}})),(0,n.truncateModel)(n.ERROR_MODEL,j)},c.logErrorEvent=function(e){if(void 0!==e){var t=this.createErrorDataModel(e);void 0!==t.exception.message&&this._apmServer.addError(t)}},c.registerListeners=function(){var e=this;window.addEventListener("error",function(t){return e.logErrorEvent(t)}),window.addEventListener("unhandledrejection",function(t){return e.logPromiseEvent(t)})},c.logPromiseEvent=function(e){var t,r="Unhandled promise rejection: ",n=e.reason;(null==n&&(n="<no reason specified>"),"string"==typeof n.message)?t={error:n,message:r+(n.name?n.name+": ":"")+n.message}:t={message:r+(n="object"==typeof n?"<object>":"function"==typeof n?"<function>":n)};this.logErrorEvent(t)},c.logError=function(e){var t={};return"string"==typeof e?t.message=e:t.error=e,this.logErrorEvent(t)},a}(),f=c;exports.default=f;
},{"./stack-trace":"wutI","../common/utils":"tu6g","../common/context":"JDEO","../common/truncate":"mplm"}],"Bs9r":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(){function t(t,i){void 0===i&&(i={}),this.onFlush=t,this.items=[],this.queueLimit=i.queueLimit||-1,this.flushInterval=i.flushInterval||0,this.timeoutId=void 0}var i=t.prototype;return i._setTimer=function(){var t=this;this.timeoutId=setTimeout(function(){return t.flush()},this.flushInterval)},i._clear=function(){void 0!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0),this.items=[]},i.flush=function(){this.onFlush(this.items),this._clear()},i.add=function(t){this.items.push(t),-1!==this.queueLimit&&this.items.length>=this.queueLimit?this.flush():void 0===this.timeoutId&&this._setTimer()},t}(),i=t;exports.default=i;
},{}],"Nl08":[function(require,module,exports) {
"use strict";function t(t,e,i){var n,o=this,r=i.limit,u=i.interval,p=0;return function(){return p++,void 0===n&&(n=setTimeout(function(){p=0,n=void 0},u)),p>r&&"function"==typeof e?e.apply(o,arguments):t.apply(o,arguments)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"zwEg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(){function t(){}return t.stringify=function(t){return JSON.stringify(t)+"\n"},t}(),e=t;exports.default=e;
},{}],"DY5D":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.XHR_URL=exports.XHR_SYNC=exports.XHR_METHOD=exports.XHR_IGNORE=void 0,exports.apmSymbol=r,exports.globalState=void 0,exports.patchMethod=n;var t={fetchInProgress:!1};function r(t){return"__apm_symbol__"+t}function e(t){return!t||!1!==t.writable&&!("function"==typeof t.get&&void 0===t.set)}function o(t,e){t[r("OriginalDelegate")]=e}function n(t,n,s){for(var p=t;p&&!p.hasOwnProperty(n);)p=Object.getPrototypeOf(p);!p&&t[n]&&(p=t);var a,i=r(n);if(p&&!(a=p[i])&&(a=p[i]=p[n],e(p&&Object.getOwnPropertyDescriptor(p,n)))){var x=s(a,i,n);p[n]=function(){return x(this,arguments)},o(p[n],a)}return a}exports.globalState=t;var s=r("xhrIgnore");exports.XHR_IGNORE=s;var p=r("xhrSync");exports.XHR_SYNC=p;var a=r("xhrURL");exports.XHR_URL=a;var i=r("xhrMethod");exports.XHR_METHOD=i;
},{}],"SP91":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../common/utils"),e=require("../common/constants"),n=function(){function n(n,i,s){void 0===s&&(s={}),n||(n=e.NAME_UNKNOWN),i||(i=e.TYPE_CUSTOM),this.name=n,this.type=i,this.options=s,this.id=s.id||(0,t.generateRandomId)(16),this.traceId=s.traceId,this.sampled=s.sampled,this.sampleRate=s.sampleRate,this.timestamp=s.timestamp,this._start=(0,t.getTime)(s.startTime),this._end=void 0,this.ended=!1,this.outcome=void 0,this.onEnd=s.onEnd}var i=n.prototype;return i.ensureContext=function(){this.context||(this.context={})},i.addLabels=function(e){this.ensureContext();var n=this.context;n.tags||(n.tags={}),Object.keys(e).forEach(function(i){return(0,t.setLabel)(i,e[i],n.tags)})},i.addContext=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];0!==n.length&&(this.ensureContext(),t.merge.apply(void 0,[this.context].concat(n)))},i.end=function(e){this.ended||(this.ended=!0,this._end=(0,t.getTime)(e),this.callOnEnd())},i.callOnEnd=function(){"function"==typeof this.onEnd&&this.onEnd(this)},i.duration=function(){return(0,t.getDuration)(this._start,this._end)},n}(),i=n;exports.default=i;
},{"../common/utils":"tu6g","../common/constants":"bqvR"}],"AHY6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("./span-base")),e=require("../common/context");function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,r(t,e)}function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var p=function(t){function o(e,o,n){var r;if((r=t.call(this,e,o,n)||this).parentId=r.options.parentId,r.subtype=void 0,r.action=void 0,-1!==r.type.indexOf(".")){var p=r.type.split(".",3);r.type=p[0],r.subtype=p[1],r.action=p[2]}return r.sync=r.options.sync,r}return n(o,t),o.prototype.end=function(o,n){t.prototype.end.call(this,o),(0,e.addSpanContext)(this,n)},o}(t.default),i=p;exports.default=i;
},{"./span-base":"SP91","../common/context":"JDEO"}],"jgsu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.state=exports.__DEV__=void 0;var e=!1;exports.__DEV__=e;var t={bootstrapTime:null,lastHiddenStart:Number.MIN_SAFE_INTEGER};exports.state=t;
},{}],"ArEa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NAVIGATION_TIMING_MARKS=exports.COMPRESSED_NAV_TIMING_MARKS=void 0,exports.captureNavigation=S,exports.createNavigationTimingSpans=i,exports.createResourceTimingSpans=c,exports.createUserTimingSpans=m,exports.getPageLoadMarks=l;var t=a(require("./span")),e=require("../common/constants"),n=require("../common/utils"),r=require("../state");function a(t){return t&&t.__esModule?t:{default:t}}var o=[["domainLookupStart","domainLookupEnd","Domain lookup"],["connectStart","connectEnd","Making a connection to the server"],["requestStart","responseEnd","Requesting and receiving the document"],["domLoading","domInteractive","Parsing the document, executing sync. scripts"],["domContentLoadedEventStart","domContentLoadedEventEnd",'Fire "DOMContentLoaded" event'],["loadEventStart","loadEventEnd",'Fire "load" event']];function s(t,n,r,a,o){return void 0===o&&(o=0),"number"==typeof t&&"number"==typeof n&&t>=o&&n>t&&t-o>=r&&n-o<=a&&n-t<e.MAX_SPAN_DURATION&&t-o<e.MAX_SPAN_DURATION&&n-o<e.MAX_SPAN_DURATION}function i(e,n,r,a){for(var i=[],d=0;d<o.length;d++){var u=e[o[d][0]],p=e[o[d][1]];if(s(u,p,r,a,n)){var c=new t.default(o[d][2],"hard-navigation.browser-timing"),m=null;"requestStart"===o[d][0]&&(c.pageResponse=!0,m={url:location.origin}),c._start=u-n,c.end(p-n,m),i.push(c)}}return i}function d(e){var r=e.name,a=e.initiatorType,o=e.startTime,s=e.responseEnd,i="resource";a&&(i+="."+a);var d=(0,n.stripQueryStringFromUrl)(r),u=new t.default(d,i);return u._start=o,u.end(s,{url:r,entry:e}),u}function u(t,e){return null!=e&&t>e}function p(t){return/intake\/v\d+\/rum\/events/.test(t)}function c(t,n,r,a){for(var o=[],i=0;i<t.length;i++){var c=t[i],m=c.initiatorType,v=c.name,f=c.startTime,E=c.responseEnd;-1!==e.RESOURCE_INITIATOR_TYPES.indexOf(m)&&null!=v&&(("xmlhttprequest"!==m&&"fetch"!==m||!p(v)&&!u(f,n))&&s(f,E,r,a)&&o.push(d(t[i])))}return o}function m(n,r,a){for(var o=[],i=0;i<n.length;i++){var d=n[i],u=d.name,p=d.startTime,c=d.duration,m=p+c;if(!(c<=e.USER_TIMING_THRESHOLD)&&s(p,m,r,a)){var v=new t.default(u,"app");v._start=p,v.end(m),o.push(v)}}return o}var v=["fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"];exports.NAVIGATION_TIMING_MARKS=v;var f=["fs","ls","le","cs","ce","qs","rs","re","dl","di","ds","de","dc","es","ee"];function E(t){var e=t.fetchStart,n=t.navigationStart,r=t.responseStart,a=t.responseEnd;if(e>=n&&r>=e&&a>=r){var o={};return v.forEach(function(n){var r=t[n];r&&r>=e&&(o[n]=parseInt(r-e))}),o}return null}function l(t){var e=E(t);return null==e?null:{navigationTiming:e,agent:{timeToFirstByte:e.responseStart,domInteractive:e.domInteractive,domComplete:e.domComplete}}}function S(t){if(t.captureTimings){var a=t._end;if(t.type===e.PAGE_LOAD){if(t.marks&&t.marks.custom){var o=t.marks.custom;Object.keys(o).forEach(function(e){o[e]+=t._start})}t._start=0;var s=n.PERF.timing;i(s,s.fetchStart,0,a).forEach(function(e){e.traceId=t.traceId,e.sampled=t.sampled,e.pageResponse&&t.options.pageLoadSpanId&&(e.id=t.options.pageLoadSpanId),t.spans.push(e)}),t.addMarks(l(s))}if((0,n.isPerfTimelineSupported)()){var d=t._start;c(n.PERF.getEntriesByType(e.RESOURCE),r.state.bootstrapTime,d,a).forEach(function(e){return t.spans.push(e)}),m(n.PERF.getEntriesByType(e.MEASURE),d,a).forEach(function(e){return t.spans.push(e)})}}}exports.COMPRESSED_NAV_TIMING_MARKS=f;
},{"./span":"AHY6","../common/constants":"bqvR","../common/utils":"tu6g","../state":"jgsu"}],"uPjd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.compressError=c,exports.compressMetadata=i,exports.compressMetricsets=d,exports.compressPayload=p,exports.compressTransaction=u;var e=require("./polyfills"),n=require("../performance-monitoring/capture-navigation");function t(e){return e.map(function(e){return{ap:e.abs_path,f:e.filename,fn:e.function,li:e.lineno,co:e.colno}})}function r(e){return{ts:e.transfer_size,ebs:e.encoded_body_size,dbs:e.decoded_body_size}}function s(e){var n={},t=e.method,s=e.status_code,a=e.url,o=e.response;return n.url=a,t&&(n.mt=t),s&&(n.sc=s),o&&(n.r=r(o)),n}function a(e){if(!e)return null;var n={},t=e.page,a=e.http,o=e.response,i=e.destination,u=e.user,c=e.custom;if(t&&(n.p={rf:t.referer,url:t.url}),a&&(n.h=s(a)),o&&(n.r=r(o)),i){var d=i.service;n.dt={se:{n:d.name,t:d.type,rc:d.resource},ad:i.address,po:i.port}}return u&&(n.u={id:u.id,un:u.username,em:u.email}),c&&(n.cu=c),n}function o(e){if(!e)return null;var t=e.navigationTiming,r=e.agent,s={nt:{}};n.COMPRESSED_NAV_TIMING_MARKS.forEach(function(e,r){var a=n.NAVIGATION_TIMING_MARKS[r];s.nt[e]=t[a]}),s.a={fb:s.nt.rs,di:s.nt.di,dc:s.nt.dc};var a=r.firstContentfulPaint,o=r.largestContentfulPaint;return a&&(s.a.fp=a),o&&(s.a.lp=o),s}function i(e){var n=e.service,t=e.labels,r=n.agent,s=n.language;return{se:{n:n.name,ve:n.version,a:{n:r.name,ve:r.version},la:{n:s.name},en:n.environment},l:t}}function u(e){var n=e.spans.map(function(n){var t={id:n.id,n:n.name,t:n.type,s:n.start,d:n.duration,c:a(n.context),o:n.outcome,sr:n.sample_rate};return n.parent_id!==e.id&&(t.pid=n.parent_id),!0===n.sync&&(t.sy=!0),n.subtype&&(t.su=n.subtype),n.action&&(t.ac=n.action),t}),t={id:e.id,tid:e.trace_id,n:e.name,t:e.type,d:e.duration,c:a(e.context),k:o(e.marks),me:d(e.breakdown),y:n,yc:{sd:n.length},sm:e.sampled,sr:e.sample_rate,o:e.outcome};if(e.experience){var r=e.experience,s=r.cls,i=r.fid,u=r.tbt,c=r.longtask;t.exp={cls:s,fid:i,tbt:u,lt:c}}if(e.session){var p=e.session,l=p.id,m=p.sequence;t.ses={id:l,seq:m}}return t}function c(e){var n=e.exception,r={id:e.id,cl:e.culprit,ex:{mg:n.message,st:t(n.stacktrace),t:e.type},c:a(e.context)},s=e.transaction;return s&&(r.tid=e.trace_id,r.pid=e.parent_id,r.xid=e.transaction_id,r.x={t:s.type,sm:s.sampled}),r}function d(e){return e.map(function(e){var n=e.span,t=e.samples;return null!=n?{y:{t:n.type},sa:{ysc:{v:t["span.self_time.count"].value},yss:{v:t["span.self_time.sum.us"].value}}}:{sa:{xdc:{v:t["transaction.duration.count"].value},xds:{v:t["transaction.duration.sum.us"].value},xbc:{v:t["transaction.breakdown.count"].value}}}})}function p(n,t){void 0===t&&(t="gzip");var r="function"==typeof CompressionStream;return new e.Promise(function(e){if(!r)return e(n);var s=n.payload,a=n.headers,o=n.beforeSend,i=new Blob([s]).stream().pipeThrough(new CompressionStream(t));return new Response(i).blob().then(function(n){return a["Content-Encoding"]=t,e({payload:n,headers:a,beforeSend:o})})})}
},{"./polyfills":"wFdY","../performance-monitoring/capture-navigation":"ArEa"}],"gCus":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=f(require("./queue")),t=f(require("./throttle")),r=f(require("./ndjson")),n=require("./patching/patch-utils"),i=require("./truncate"),s=require("./constants"),o=require("./utils"),a=require("./polyfills"),u=require("./compress"),c=require("../state");function f(e){return e&&e.__esModule?e:{default:e}}var v=6e4,g=function(){function f(e,t){this._configService=e,this._loggingService=t,this.queue=void 0,this.throttleEvents=o.noop}var g=f.prototype;return g.init=function(){var r=this,n=this._configService.get("queueLimit"),i=this._configService.get("flushInterval"),s=this._configService.get("eventsLimit");this.queue=new e.default(function(e){var t=r.sendEvents(e);t&&t.catch(function(e){r._loggingService.warn("Failed sending events!",r._constructError(e))})},{queueLimit:n,flushInterval:i}),this.throttleEvents=(0,t.default)(this.queue.add.bind(this.queue),function(){return r._loggingService.warn("Dropped events due to throttling!")},{limit:s,interval:v})},g._postJson=function(e,t){var r=this,n={payload:t,headers:{"Content-Type":"application/x-ndjson"},beforeSend:this._configService.get("apmRequest")};return(0,u.compressPayload)(n).catch(function(e){return c.__DEV__&&r._loggingService.debug("Compressing the payload using CompressionStream API failed",e.message),n}).then(function(t){return r._makeHttpRequest("POST",e,t)}).then(function(e){return e.responseText})},g._constructError=function(e){var t=e.url,r=e.status,n=e.responseText;if(void 0===r)return e;var i=t+" HTTP status: "+r;if(c.__DEV__&&n)try{var s=[],o=JSON.parse(n);o.errors&&o.errors.length>0&&(o.errors.forEach(function(e){return s.push(e.message)}),i+=" "+s.join(","))}catch(a){this._loggingService.debug("Error parsing response from APM server",a)}return new Error(i)},g._makeHttpRequest=function(e,t,r){var i=void 0===r?{}:r,s=i.timeout,o=void 0===s?1e4:s,u=i.payload,c=i.headers,f=i.beforeSend;return new a.Promise(function(r,i){var s=new window.XMLHttpRequest;if(s[n.XHR_IGNORE]=!0,s.open(e,t,!0),s.timeout=o,c)for(var a in c)c.hasOwnProperty(a)&&s.setRequestHeader(a,c[a]);s.onreadystatechange=function(){if(4===s.readyState){var e=s.status,n=s.responseText;0===e||e>399&&e<600?i({url:t,status:e,responseText:n}):r(s)}},s.onerror=function(){var e=s.status,r=s.responseText;i({url:t,status:e,responseText:r})};var v=!0;"function"==typeof f&&(v=f({url:t,method:e,headers:c,payload:u,xhr:s})),v?s.send(u):i({url:t,status:0,responseText:"Request rejected by user configuration."})})},g.fetchConfig=function(e,t){var r=this,n=this._configService.get("serverUrl")+"/config/v1/rum/agents";if(!e)return a.Promise.reject("serviceName is required for fetching central config.");n+="?service.name="+e,t&&(n+="&service.environment="+t);var i=this._configService.getLocalConfig();i&&(n+="&ifnonematch="+i.etag);var s=this._configService.get("apmRequest");return this._makeHttpRequest("GET",n,{timeout:5e3,beforeSend:s}).then(function(e){var t=e.status,n=e.responseText;if(304===t)return i;var s=JSON.parse(n),o=e.getResponseHeader("etag");return o&&(s.etag=o.replace(/["]/g,""),r._configService.setLocalConfig(s,!0)),s}).catch(function(e){var t=r._constructError(e);return a.Promise.reject(t)})},g.createMetaData=function(){var e=this._configService,t={service:{name:e.get("serviceName"),version:e.get("serviceVersion"),agent:{name:"rum-js",version:e.version},language:{name:"javascript"},environment:e.get("environment")},labels:e.get("context.tags")};return(0,i.truncateModel)(i.METADATA_MODEL,t)},g.addError=function(e){var t;this.throttleEvents(((t={})[s.ERRORS]=e,t))},g.addTransaction=function(e){var t;this.throttleEvents(((t={})[s.TRANSACTIONS]=e,t))},g.ndjsonErrors=function(e,t){var n=t?"e":"error";return e.map(function(e){var i;return r.default.stringify(((i={})[n]=t?(0,u.compressError)(e):e,i))})},g.ndjsonMetricsets=function(e){return e.map(function(e){return r.default.stringify({metricset:e})}).join("")},g.ndjsonTransactions=function(e,t){var n=this,i=t?"x":"transaction";return e.map(function(e){var s,o="",a="";return t||(e.spans&&(o=e.spans.map(function(e){return r.default.stringify({span:e})}).join(""),delete e.spans),e.breakdown&&(a=n.ndjsonMetricsets(e.breakdown),delete e.breakdown)),r.default.stringify(((s={})[i]=t?(0,u.compressTransaction)(e):e,s))+o+a})},g.sendEvents=function(e){var t,n;if(0!==e.length){for(var i=[],o=[],a=0;a<e.length;a++){var c=e[a];c[s.TRANSACTIONS]&&i.push(c[s.TRANSACTIONS]),c[s.ERRORS]&&o.push(c[s.ERRORS])}if(0!==i.length||0!==o.length){var f=this._configService,v=((t={})[s.TRANSACTIONS]=i,t[s.ERRORS]=o,t),g=f.applyFilters(v);if(g){var d=f.get("apiVersion"),l=d>2,p=[],h=this.createMetaData(),m=l?"m":"metadata";p.push(r.default.stringify(((n={})[m]=l?(0,u.compressMetadata)(h):h,n)));var S=(p=p.concat(this.ndjsonErrors(g[s.ERRORS],l),this.ndjsonTransactions(g[s.TRANSACTIONS],l))).join(""),_=f.get("serverUrl")+"/intake/v"+d+"/rum/events";return this._postJson(_,S)}this._loggingService.warn("Dropped payload due to filtering!")}}},f}(),d=g;exports.default=d;
},{"./queue":"Bs9r","./throttle":"Nl08","./ndjson":"zwEg","./patching/patch-utils":"DY5D","./truncate":"mplm","./constants":"bqvR","./utils":"tu6g","./polyfills":"wFdY","./compress":"uPjd","../state":"jgsu"}],"Zcnd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./constants"),s=function(){function s(){this.observers={}}var t=s.prototype;return t.observe=function(e,s){var t=this;if("function"==typeof s)return this.observers[e]||(this.observers[e]=[]),this.observers[e].push(s),function(){var r=t.observers[e].indexOf(s);r>-1&&t.observers[e].splice(r,1)}},t.sendOnly=function(e,s){var t=this.observers[e];t&&t.forEach(function(e){try{e.apply(void 0,s)}catch(t){console.log(t,t.stack)}})},t.send=function(s,t){this.sendOnly(s+e.BEFORE_EVENT,t),this.sendOnly(s,t),this.sendOnly(s+e.AFTER_EVENT,t)},s}(),t=s;exports.default=t;
},{"./constants":"bqvR"}],"q9ns":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./utils"),t=i(require("./event-handler")),n=require("./constants");function i(e){return e&&e.__esModule?e:{default:e}}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function s(){return a((0,e.getCurrentScript)())}function a(e){if(!e)return{};for(var t={},n=/^data-([\w-]+)$/,i=e.attributes,r=0;r<i.length;r++){var s=i[r];if(n.test(s.nodeName))t[s.nodeName.match(n)[1].split("-").map(function(e,t){return t>0?e.charAt(0).toUpperCase()+e.substring(1):e}).join("")]=s.value||s.nodeValue}return t}var o=function(){function i(){this.config={serviceName:"",serviceVersion:"",environment:"",serverUrl:"http://localhost:8200",active:!0,instrument:!0,disableInstrumentations:[],logLevel:"warn",breakdownMetrics:!1,ignoreTransactions:[],eventsLimit:80,queueLimit:-1,flushInterval:500,distributedTracing:!0,distributedTracingOrigins:[],distributedTracingHeaderName:"traceparent",pageLoadTraceId:"",pageLoadSpanId:"",pageLoadSampled:!1,pageLoadTransactionName:"",propagateTracestate:!1,transactionSampleRate:1,centralConfig:!1,monitorLongtasks:!0,apiVersion:2,context:{},session:!1,apmRequest:null},this.events=new t.default,this.filters=[],this.version=""}var a=i.prototype;return a.init=function(){var e=s();this.setConfig(e)},a.setVersion=function(e){this.version=e},a.addFilter=function(e){if("function"!=typeof e)throw new Error("Argument to must be function");this.filters.push(e)},a.applyFilters=function(e){for(var t=0;t<this.filters.length;t++)if(!(e=this.filters[t](e)))return;return e},a.get=function(e){return e.split(".").reduce(function(e,t){return e&&e[t]},this.config)},a.setUserContext=function(t){void 0===t&&(t={});var n={},i=t,r=i.id,s=i.username,a=i.email;"number"!=typeof r&&"string"!=typeof r||(n.id=r),"string"==typeof s&&(n.username=s),"string"==typeof a&&(n.email=a),this.config.context.user=(0,e.extend)(this.config.context.user||{},n)},a.setCustomContext=function(t){void 0===t&&(t={}),this.config.context.custom=(0,e.extend)(this.config.context.custom||{},t)},a.addLabels=function(t){var n=this;this.config.context.tags||(this.config.context.tags={}),Object.keys(t).forEach(function(i){return(0,e.setLabel)(i,t[i],n.config.context.tags)})},a.setConfig=function(t){void 0===t&&(t={});var i=t,r=i.transactionSampleRate,s=i.serverUrl;s&&(t.serverUrl=s.replace(/\/+$/,"")),(0,e.isUndefined)(r)||(r<1e-4&&r>0&&(r=1e-4),t.transactionSampleRate=Math.round(1e4*r)/1e4),(0,e.merge)(this.config,t),this.events.send(n.CONFIG_CHANGE,[this.config])},a.validate=function(e){void 0===e&&(e={});var t=["serviceName","serverUrl"],n={missing:[],invalid:[]};Object.keys(e).forEach(function(i){-1===t.indexOf(i)||e[i]||n.missing.push(i)}),e.serviceName&&!/^[a-zA-Z0-9 _-]+$/.test(e.serviceName)&&n.invalid.push({key:"serviceName",value:e.serviceName,allowed:"a-z, A-Z, 0-9, _, -, <space>"});var i=e.transactionSampleRate;return void 0!==i&&("number"!=typeof i||isNaN(i)||i<0||i>1)&&n.invalid.push({key:"transactionSampleRate",value:i,allowed:"Number between 0 and 1"}),n},a.getLocalConfig=function(){var e=sessionStorage;this.config.session&&(e=localStorage);var t=e.getItem(n.LOCAL_CONFIG_KEY);if(t)return JSON.parse(t)},a.setLocalConfig=function(e,t){if(e){if(t)e=r({},this.getLocalConfig(),e);var i=sessionStorage;this.config.session&&(i=localStorage),i.setItem(n.LOCAL_CONFIG_KEY,JSON.stringify(e))}},i}(),c=o;exports.default=c;
},{"./utils":"tu6g","./event-handler":"Zcnd","./constants":"bqvR"}],"h4mN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./utils"),t=function(){function t(e){void 0===e&&(e={}),this.levels=["trace","debug","info","warn","error"],this.level=e.level||"warn",this.prefix=e.prefix||"",this.resetLogMethods()}var o=t.prototype;return o.shouldLog=function(e){return this.levels.indexOf(e)>=this.levels.indexOf(this.level)},o.setLevel=function(e){e!==this.level&&(this.level=e,this.resetLogMethods())},o.resetLogMethods=function(){var t=this;this.levels.forEach(function(o){t[o]=t.shouldLog(o)?function(){var e=o;"trace"!==o&&"debug"!==o||(e="info");var t=arguments;if(t[0]=this.prefix+t[0],console){var s=console[e]||console.log;"function"==typeof s&&s.apply(console,t)}}:e.noop})},t}(),o=t;exports.default=o;
},{"./utils":"tu6g"}],"szR1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.serviceCreators=exports.ServiceFactory=void 0;var e,t=o(require("./apm-server")),i=o(require("./config-service")),r=o(require("./logging-service")),n=require("./constants"),s=require("../state");function o(e){return e&&e.__esModule?e:{default:e}}var c=((e={})[n.CONFIG_SERVICE]=function(){return new i.default},e[n.LOGGING_SERVICE]=function(){return new r.default({prefix:"[Elastic APM] "})},e[n.APM_SERVER]=function(e){var i=e.getService([n.CONFIG_SERVICE,n.LOGGING_SERVICE]),r=i[0],s=i[1];return new t.default(r,s)},e);exports.serviceCreators=c;var a=function(){function e(){this.instances={},this.initialized=!1}var t=e.prototype;return t.init=function(){if(!this.initialized){this.initialized=!0;var e=this.getService(n.CONFIG_SERVICE);e.init();var t=this.getService([n.LOGGING_SERVICE,n.APM_SERVER]),i=t[0],r=t[1];e.events.observe(n.CONFIG_CHANGE,function(){var t=e.get("logLevel");i.setLevel(t)}),r.init()}},t.getService=function(e){var t=this;return"string"==typeof e?(this.instances[e]||("function"==typeof c[e]?this.instances[e]=c[e](this):s.__DEV__&&console.log("Cannot get service, No creator for: "+e)),this.instances[e]):Array.isArray(e)?e.map(function(e){return t.getService(e)}):void 0},e}();exports.ServiceFactory=a;
},{"./apm-server":"gCus","./config-service":"q9ns","./logging-service":"h4mN","./constants":"bqvR","../state":"jgsu"}],"UGIc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.registerServices=n;var e=t(require("./error-logging")),r=require("../common/constants"),o=require("../common/service-factory");function t(e){return e&&e.__esModule?e:{default:e}}function n(){o.serviceCreators.ErrorLogging=function(o){var t=o.getService([r.APM_SERVER,r.CONFIG_SERVICE,"TransactionService"]),n=t[0],i=t[1],c=t[2];return new e.default(n,i,c)}}
},{"./error-logging":"WTOY","../common/constants":"bqvR","../common/service-factory":"szR1"}],"apIA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.patchXMLHttpRequest=a;var t=require("./patch-utils"),e=require("../constants");function a(a){var r=XMLHttpRequest.prototype;if(r&&r[e.ADD_EVENT_LISTENER_STR])var s="readystatechange",n="load",u="error",o="timeout",c="abort",E=(0,t.patchMethod)(r,"open",function(){return function(e,a){return e[t.XHR_IGNORE]||(e[t.XHR_METHOD]=a[0],e[t.XHR_URL]=a[1],e[t.XHR_SYNC]=!1===a[2]),E.apply(e,a)}}),p=(0,t.patchMethod)(r,"send",function(){return function(r,E){if(r[t.XHR_IGNORE])return p.apply(r,E);var i={source:e.XMLHTTPREQUEST,state:"",type:"macroTask",data:{target:r,method:r[t.XHR_METHOD],sync:r[t.XHR_SYNC],url:r[t.XHR_URL],status:""}};try{return function(t){if(t.state!==e.SCHEDULE){t.state=e.SCHEDULE,a(e.SCHEDULE,t);var r=t.data.target;E(s),E(n),E(o),E(u),E(c)}function E(a){r[e.ADD_EVENT_LISTENER_STR](a,function(e){var a=e.type;a===s?4===r.readyState&&0!==r.status&&R(t,"success"):R(t,a===n?"success":a)})}}(i),p.apply(r,E)}catch(H){throw R(i,u),H}}});function R(t,r){t.state!==e.INVOKE&&(t.state=e.INVOKE,t.data.status=r,a(e.INVOKE,t))}}
},{"./patch-utils":"DY5D","../constants":"bqvR"}],"F2UL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.patchFetch=n;var e=require("../polyfills"),t=require("./patch-utils"),r=require("../constants"),o=require("../utils");function n(n){if(window.fetch&&window.Request){var a=window.fetch;window.fetch=function(i,c){var u,f,l=this,d=arguments;if("string"==typeof i)u=new Request(i,c),f=i;else{if(!i)return a.apply(l,d);f=(u=i).url}var h={source:r.FETCH,state:"",type:"macroTask",data:{target:u,method:u.method,url:f,aborted:!1}};return new e.Promise(function(e,i){var c;t.globalState.fetchInProgress=!0,function(e){e.state=r.SCHEDULE,n(r.SCHEDULE,e)}(h);try{c=a.apply(l,[u])}catch(f){return i(f),h.data.error=f,s(h),void(t.globalState.fetchInProgress=!1)}c.then(function(t){e(t),(0,o.scheduleMicroTask)(function(){h.data.response=t,s(h)})},function(e){i(e),(0,o.scheduleMicroTask)(function(){h.data.error=e,s(h)})}),t.globalState.fetchInProgress=!1})}}function s(e){e.state=r.INVOKE,n(r.INVOKE,e)}}
},{"../polyfills":"wFdY","./patch-utils":"DY5D","../constants":"bqvR","../utils":"tu6g"}],"Df5s":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.patchHistory=e;var t=require("../constants");function e(e){if(window.history){var r=history.pushState;"function"==typeof r&&(history.pushState=function(s,o,i){var a={source:t.HISTORY,data:{state:s,title:o,url:i}};e(t.INVOKE,a),r.apply(this,arguments)})}}
},{"../constants":"bqvR"}],"HszJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.patchEventTarget=u;for(var r=require("../constants"),t=require("./patch-utils"),e=["click"],n={},i=0;i<e.length;i++){var a=e[i];n[a]=(0,t.apmSymbol)(a)}function p(r,t,n){return r instanceof Element&&e.indexOf(t)>=0&&"function"==typeof n}function u(t){if(window.EventTarget){var e=window.EventTarget.prototype,i=e[r.ADD_EVENT_LISTENER_STR],a=e[r.REMOVE_EVENT_LISTENER_STR];e[r.ADD_EVENT_LISTENER_STR]=function(e,a,E){if(!p(this,e,a))return i.apply(this,arguments);var c=function(e,i,a,p){var E=n[i];if(!E)return a;var c=e[E],f=o(p);if(c){var l=u(c,i,a,f);if(-1!==l)return c[l].wrappingFn}else c=e[E]=[];var s={source:r.EVENT_TARGET,target:e,eventType:i,listenerFn:a,capture:f,wrappingFn:v};function v(){var e;t(r.SCHEDULE,s);try{e=a.apply(this,arguments)}finally{t(r.INVOKE,s)}return e}return c.push(s),v}(this,e,a,E),f=Array.prototype.slice.call(arguments);return f[1]=c,i.apply(this,f)},e[r.REMOVE_EVENT_LISTENER_STR]=function(r,t,e){if(!p(this,r,t))return a.apply(this,arguments);var i=function(r,t,e,i){var a=n[t],p=r[a];if(p){var E=u(p,t,e,o(i));if(-1!==E){var c=p[E];return p.splice(E,1),0===p.length&&(r[a]=void 0),c.wrappingFn}}return e}(this,r,t,e),E=Array.prototype.slice.call(arguments);return E[1]=i,a.apply(this,E)}}function u(r,t,e,n){for(var i=0;i<r.length;i++){var a=r[i];if(a.eventType===t&&a.listenerFn===e&&a.capture===n)return i}return-1}function o(r){return"boolean"==typeof r?r:!!r&&!!r.capture}}
},{"../constants":"bqvR","./patch-utils":"DY5D"}],"L9h8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.patchAll=p,exports.patchEventHandler=void 0;var e=require("./xhr-patch"),t=require("./fetch-patch"),r=require("./history-patch"),n=require("./event-target-patch"),a=u(require("../event-handler")),c=require("../constants");function u(e){return e&&e.__esModule?e:{default:e}}var i=new a.default;exports.patchEventHandler=i;var o=!1;function p(){return o||(o=!0,(0,e.patchXMLHttpRequest)(function(e,t){i.send(c.XMLHTTPREQUEST,[e,t])}),(0,t.patchFetch)(function(e,t){i.send(c.FETCH,[e,t])}),(0,r.patchHistory)(function(e,t){i.send(c.HISTORY,[e,t])}),(0,n.patchEventTarget)(function(e,t){i.send(c.EVENT_TARGET,[e,t])})),i}
},{"./xhr-patch":"apIA","./fetch-patch":"F2UL","./history-patch":"Df5s","./event-target-patch":"HszJ","../event-handler":"Zcnd","../constants":"bqvR"}],"HZFk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.adjustTransaction=d,exports.default=void 0,exports.groupSmallContinuouslySimilarSpans=u;var e=require("../common/utils"),t=require("../common/url"),a=require("../common/patching"),r=require("../common/patching/patch-utils"),n=require("../common/constants"),i=require("../common/truncate"),s=require("../state"),o=.05,c=6e4;function u(e,t,a){e.sort(function(e,t){return e._start-t._start});var r=[],n=1;return e.forEach(function(i,s){if(0===r.length)r.push(i);else{var o=r[r.length-1],c=o.type===i.type&&o.subtype===i.subtype&&o.action===i.action&&o.name===i.name&&i.duration()/t<a&&(i._start-o._end)/t<a,u=e.length===s+1;c&&(n++,o._end=i._end),n>1&&(!c||u)&&(o.name=n+"x "+o.name,n=1),c||r.push(i)}}),r}function d(e){if(e.sampled){var t=e.spans.filter(function(t){return t.duration()>0&&t._start>=e._start&&t._end<=e._end});if(e.isManaged()){var a=u(t,e.duration(),o);e.spans=a}else e.spans=t}else e.resetFields();return e}var g=function(){function o(e,t,a,r){this._apmServer=e,this._configService=t,this._logginService=a,this._transactionService=r}var u=o.prototype;return u.init=function(e){var t=this;void 0===e&&(e={}),this._configService.events.observe(n.TRANSACTION_END+n.AFTER_EVENT,function(e){var a=t.createTransactionPayload(e);a&&t._apmServer.addTransaction(a)}),e[n.HISTORY]&&a.patchEventHandler.observe(n.HISTORY,this.getHistorySub()),e[n.XMLHTTPREQUEST]&&a.patchEventHandler.observe(n.XMLHTTPREQUEST,this.getXHRSub()),e[n.FETCH]&&a.patchEventHandler.observe(n.FETCH,this.getFetchSub()),e[n.EVENT_TARGET]&&a.patchEventHandler.observe(n.EVENT_TARGET,this.getEventTargetSub())},u.getEventTargetSub=function(){var e=this._transactionService;return function(t,a){if(t===n.SCHEDULE&&a.source===n.EVENT_TARGET&&"click"===a.eventType){var r=a.target,i=r.getAttribute("name"),s="";i&&(s='["'+i+'"]');var o=r.tagName.toLowerCase(),c=e.startTransaction("Click - "+o+s,n.USER_INTERACTION,{managed:!0,canReuse:!0,reuseThreshold:300});if(c){var u=r.getAttribute("class");u&&c.addContext({custom:{classes:u}})}}}},u.getHistorySub=function(){var e=this._transactionService;return function(t,a){a.source===n.HISTORY&&t===n.INVOKE&&e.startTransaction(a.data.title,"route-change",{managed:!0,canReuse:!0})}},u.getXHRSub=function(){var e=this;return function(t,a){a.source!==n.XMLHTTPREQUEST||r.globalState.fetchInProgress||e.processAPICalls(t,a)}},u.getFetchSub=function(){var e=this;return function(t,a){a.source===n.FETCH&&e.processAPICalls(t,a)}},u.processAPICalls=function(a,r){var i=this._configService,o=this._transactionService;if(a===n.SCHEDULE&&r.data){var c=r.data,u=new t.Url(c.url),d=c.method+" "+(u.relative?u.path:(0,e.stripQueryStringFromUrl)(u.href));o.getCurrentTransaction()||o.startTransaction(d,n.HTTP_REQUEST_TYPE,{managed:!0});var g=o.startSpan(d,"external.http",{blocking:!0});if(!g)return;var l=i.get("distributedTracing"),T=i.get("distributedTracingOrigins"),p=new t.Url(window.location.href),_=(0,e.checkSameOrigin)(u.origin,p.origin)||(0,e.checkSameOrigin)(u.origin,T),v=c.target;if(l&&_&&v)this.injectDtHeader(g,v),i.get("propagateTracestate")&&this.injectTSHeader(g,v);else s.__DEV__&&this._logginService.debug("Could not inject distributed tracing header to the request origin ('"+u.origin+"') from the current origin ('"+p.origin+"')");c.sync&&(g.sync=c.sync),c.span=g}else if(a===n.INVOKE){var h=r.data;if(h&&h.span){var m,f,E=h.span,S=h.response,b=h.target;m=S?S.status:b.status,"abort"!=h.status&&(f=m>=400||0==m?n.OUTCOME_FAILURE:n.OUTCOME_SUCCESS),E.outcome=f;var H=o.getCurrentTransaction();H&&H.type===n.HTTP_REQUEST_TYPE&&(H.outcome=f),o.endSpan(E,h)}}},u.injectDtHeader=function(t,a){var r=this._configService.get("distributedTracingHeaderName"),n=(0,e.getDtHeaderValue)(t);(0,e.isDtHeaderValid)(n)&&n&&r&&(0,e.setRequestHeader)(a,r,n)},u.injectTSHeader=function(t,a){var r=(0,e.getTSHeaderValue)(t);r&&(0,e.setRequestHeader)(a,"tracestate",r)},u.extractDtHeader=function(t){var a=this._configService.get("distributedTracingHeaderName");if(t)return(0,e.parseDtHeaderValue)(t[a])},u.filterTransaction=function(e){var t=e.duration();if(!t){if(s.__DEV__){var a="transaction("+e.id+", "+e.name+") was discarded! ";a+=0===t?"Transaction duration is 0":"Transaction wasn't ended",this._logginService.debug(a)}return!1}if(e.isManaged()){if(t>c)return s.__DEV__&&this._logginService.debug("transaction("+e.id+", "+e.name+") was discarded! Transaction duration ("+t+") is greater than managed transaction threshold ("+c+")"),!1;if(e.sampled&&0===e.spans.length)return s.__DEV__&&this._logginService.debug("transaction("+e.id+", "+e.name+") was discarded! Transaction does not have any spans"),!1}return!0},u.createTransactionDataModel=function(e){var t=e._start,a=e.spans.map(function(a){var r={id:a.id,transaction_id:e.id,parent_id:a.parentId||e.id,trace_id:e.traceId,name:a.name,type:a.type,subtype:a.subtype,action:a.action,sync:a.sync,start:parseInt(a._start-t),duration:a.duration(),context:a.context,outcome:a.outcome,sample_rate:a.sampleRate};return(0,i.truncateModel)(i.SPAN_MODEL,r)}),r={id:e.id,trace_id:e.traceId,session:e.session,name:e.name,type:e.type,duration:e.duration(),spans:a,context:e.context,marks:e.marks,breakdown:e.breakdownTimings,span_count:{started:a.length},sampled:e.sampled,sample_rate:e.sampleRate,experience:e.experience,outcome:e.outcome};return(0,i.truncateModel)(i.TRANSACTION_MODEL,r)},u.createTransactionPayload=function(e){var t=d(e);if(this.filterTransaction(t))return this.createTransactionDataModel(e)},o}();exports.default=g;
},{"../common/utils":"tu6g","../common/url":"kggv","../common/patching":"L9h8","../common/patching/patch-utils":"DY5D","../common/constants":"bqvR","../common/truncate":"mplm","../state":"jgsu"}],"FzEr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.captureBreakdown=u;var t=require("../common/utils"),n=require("../common/constants"),r=[["domainLookupStart","domainLookupEnd","DNS"],["connectStart","connectEnd","TCP"],["requestStart","responseStart","Request"],["responseStart","responseEnd","Response"],["domLoading","domComplete","Processing"],["loadEventStart","loadEventEnd","Load"]];function e(t){return{value:t}}function a(t){var n=t.spans,r=t._start,e=t._end;if(0===n.length)return t.duration();n.sort(function(t,n){return t._start-n._start});for(var a=n[0],o=a._end,s=a._start,u=o,i=s-r,d=1;d<n.length;d++)s=(a=n[d])._start,o=a._end,s>u?(i+=s-u,u=o):o>u&&(u=o);return u<e&&(i+=e-u),i}function o(t){var r={},e=a(t);r.app={count:1,duration:e};for(var o=t.spans,s=0;s<o.length;s++){var u=o[s],i=u.duration();if(0!==i&&null!=i){var d=u.type,c=u.subtype,p=d.replace(n.TRUNCATED_TYPE,"");c&&(p+="."+c),r[p]||(r[p]={duration:0,count:0}),r[p].count++,r[p].duration+=i}}return r}function s(t,n){var r=n.details,a=n.count,o=void 0===a?1:a,s=n.duration;return{transaction:t,span:r,samples:{"span.self_time.count":e(o),"span.self_time.sum.us":e(s)}}}function u(a,u){void 0===u&&(u=t.PERF.timing);var i=[],d=a.duration(),c=a.name,p=a.type,l=a.sampled,m={name:c,type:p};if(i.push({transaction:m,samples:{"transaction.duration.count":e(1),"transaction.duration.sum.us":e(d),"transaction.breakdown.count":e(l?1:0)}}),!l)return i;if(p===n.PAGE_LOAD&&u)for(var v=0;v<r.length;v++){var f=r[v],_=u[f[0]],E=u[f[1]],y=(0,t.getDuration)(_,E);0!==y&&null!=y&&i.push(s(m,{details:{type:f[2]},duration:y}))}else{var g=o(a);Object.keys(g).forEach(function(t){var n=t.split("."),r=n[0],e=n[1],a=g[t],o=a.duration,u=a.count;i.push(s(m,{details:{type:r,subtype:e},duration:o,count:u}))})}return i}
},{"../common/utils":"tu6g","../common/constants":"bqvR"}],"wsKA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=a(require("./span")),e=a(require("./span-base")),n=require("../common/utils"),s=require("../common/constants"),i=require("./breakdown");function a(t){return t&&t.__esModule?t:{default:t}}function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,o(t,e)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=function(e){function a(t,s,i){var a;return(a=e.call(this,t,s,i)||this).traceId=(0,n.generateRandomId)(),a.marks=void 0,a.spans=[],a._activeSpans={},a._activeTasks=new Set,a.blocked=!1,a.captureTimings=!1,a.breakdownTimings=[],a.sampleRate=a.options.transactionSampleRate,a.sampled=Math.random()<=a.sampleRate,a}r(a,e);v€€